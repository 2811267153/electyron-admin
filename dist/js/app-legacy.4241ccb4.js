(function(){var e={61937:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-nav"},[a("el-breadcrumb",{staticClass:"nav-bar",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),"首页"!==e.title?a("el-breadcrumb-item",[a("a",[e._v(e._s(e.title))])]):e._e()],1),a("div",{staticClass:"btn"},[e._t("default")],2)],1)},o=[],l={name:"myElHeader",props:{title:{type:String,default:function(){return""}}}},i=l,s=a(1001),n=(0,s.Z)(i,r,o,!1,null,"29068e8c",null),d=n.exports},91186:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer"},[a("div",{staticClass:"total"},[e._v("共查询到: "),a("span",[e._v(" "+e._s(e.total)+" ")]),e._v(" 条相关数据")]),a("div",{attrs:{id:"page"}},[a("el-dropdown",[a("div",{staticClass:"page-size"},[e._v(e._s(e.pagesize[e.currentIndex])+"条 /页")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.pagesize,(function(t,r){return a("el-dropdown-item",{nativeOn:{click:function(t){return e.changeClick(r)}}},[e._v(e._s(t)+"条 /页")])})),1)],1),a("el-pagination",{attrs:{background:"","page-size":e.pagesize[e.currentIndex],layout:"prev, pager, next",total:e.total},on:{"next-click":e.next,"prev-click":e.prev,"current-change":e.change}})],1)])},o=[],l={name:"myFooter",data:function(){return{total:0,pageNum:0,pagesize:[5,10,15,20,50,100],currentIndex:1}},props:{form:{type:Object,default:function(){return{}}}},methods:{changeClick:function(e){this.currentIndex=e,this.$emit("pageCheng",this.pagesize[this.currentIndex])},prev:function(){this.$emit("prev")},change:function(e){this.$emit("change",e)},next:function(){this.$emit("next")},pageChange:function(e){this.pageNum=e,this.pageSize=10}},mounted:function(){var e=this;this.$bus.$on("total",(function(t){e.total=t}))}},i=l,s=a(1001),n=(0,s.Z)(i,r,o,!1,null,"36467916",null),d=n.exports},46230:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-empty",{staticClass:"empty",attrs:{description:"未找到相关内容"}})},o=[],l={name:"myEmpty"},i=l,s=a(1001),n=(0,s.Z)(i,r,o,!1,null,"0fdd4154",null),d=n.exports},90916:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"配置管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{label:"网卡名称",prop:"fifoName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoName,callback:function(t){e.$set(e.form,"fifoName",t)},expression:"form.fifoName"}})],1),a("el-form-item",{attrs:{label:"端口",prop:"profileSipPort"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.profileSipPort,callback:function(t){e.$set(e.form,"profileSipPort",t)},expression:"form.profileSipPort"}})],1),a("el-form-item",{attrs:{label:"服务接口名称",prop:"netName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.netName,callback:function(t){e.$set(e.form,"netName",t)},expression:"form.netName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("clear")}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"添加配置")}}},[e._v("添加配置")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.list,height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"}}},[a("el-table-column",{attrs:{align:"center",width:"50px",prop:"date",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"profileName",label:"服务接口名称"}}),a("el-table-column",{attrs:{align:"center",prop:"netName",label:"网卡名称"}}),a("el-table-column",{attrs:{align:"center",prop:"profileSipIp",label:"IP"}}),a("el-table-column",{attrs:{align:"center",prop:"profileSipPort",label:"端口"}}),a("el-table-column",{attrs:{align:"center",prop:"template",label:"模板"}}),a("el-table-column",{attrs:{align:"center",prop:"netMac",label:"网卡的mac地址"}}),a("el-table-column",{attrs:{align:"center",prop:"netMac",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("a",[e._v("启用")]):a("a",[e._v("禁用")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"address",fixed:"right",width:e.$store.state.tableMixWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{staticStyle:{"margin-right":"20px"},on:{click:function(a){return e.addForms(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.del(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"destroy-on-close":"",title:e.title,visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"服务接口名称","label-width":e.formLabelWidth,prop:"profileName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.profileName,callback:function(t){e.$set(e.addForm,"profileName",t)},expression:"addForm.profileName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"网卡名称","label-width":e.formLabelWidth,prop:"netName"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.change},model:{value:e.addForm.netName,callback:function(t){e.$set(e.addForm,"netName",t)},expression:"addForm.netName"}},e._l(e.netNameList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.netName,value:e.netName}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"配置文件","label-width":e.formLabelWidth,prop:"template"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择配置文件"},model:{value:e.addForm.template,callback:function(t){e.$set(e.addForm,"template",t)},expression:"addForm.template"}},e._l(e.templateType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"网卡地址","label-width":e.formLabelWidth,prop:"netMac"}},[a("el-input",{attrs:{disabled:"",autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.netMac,callback:function(t){e.$set(e.addForm,"netMac",t)},expression:"addForm.netMac"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"IP","label-width":e.formLabelWidth,prop:"profileSipIp"}},[a("el-input",{attrs:{disabled:"",autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.profileSipIp,callback:function(t){e.$set(e.addForm,"profileSipIp",t)},expression:"addForm.profileSipIp"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"端口","label-width":e.formLabelWidth,prop:"profileSipPort"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.profileSipPort,callback:function(t){e.$set(e.addForm,"profileSipPort",t)},expression:"addForm.profileSipPort"}})],1)],1),a("div",{staticClass:"wdith"},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("禁用")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.formChange,pageCheng:e.pageCheng}})],1)},o=[],l=(a(21703),a(41539),a(54747),a(1142)),i=a(14378),s=a(91186),n=a(61937),d={name:"configure",data:function(){var e=function(e,t,a){(0,i.RB)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{form:{profileName:"",profileSipPort:"",netName:""},list:[],dialogFormVisible:!1,title:"新增",formLabelWidth:"120px",currentNetName:{},addForm:{netMac:"",netName:"",profileName:"",profileSipIp:"",profileSipPort:"",status:0,template:""},netNameList:[],templateType:[{label:"内部注册",value:"internal"},{label:"对外中继通道接口",value:"external"}],rules:{netMac:[{required:!1,message:"该选项为必填项，请确认",trigger:"change"}],netName:[{required:!0,message:"该选项为必填项，请确认",trigger:"change"}],profileName:[{required:!0,message:"该选项为必填项，请确认",trigger:"change"}],profileSipIp:[{required:!1,message:"该选项为必填项，请确认",trigger:"change"}],profileSipPort:[{required:!0,message:"该选项为必填项，请确认",trigger:"change"},{validator:e,message:"IP输入有误, 请确认",trigger:"blur"}],template:[{required:!0,message:"该选项为必填项，请确认",trigger:"change"}]},rule:{profileName:[{required:!1,message:"该选项为必填项，请确认",trigger:"change"}],profileSipPort:[{required:!1,message:"该选项为必填项，请确认",trigger:"change"}],netName:[{required:!1,message:"该选项为必填项，请确认",trigger:"change"}]}}},components:{myFooter:s.Z,myElHeader:n.Z},methods:{pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getProfileInfo(this.form)},find:function(){this.getProfileInfo(this.form)},next:function(){this.form.pageNum++,this.getProfileInfo(this.form)},prev:function(){this.form.pageNum--,this.getProfileInfo(this.form)},formChange:function(e){this.form.pageNum=e,this.getProfileInfo(this.form)},clear:function(){this.form=this.$options.data().form,this.getProfileInfo(this.form)},change:function(e){var t=this;console.log(e),this.netNameList.forEach((function(a){a.netName===e&&(t.currentNetName=a)})),this.addForm.netMac=this.currentNetName.netMac,this.addForm.profileSipIp=this.currentNetName.profileSipIp},getProfileInfo:function(e){var t=this;(0,l.j3)(e).then((function(e){t.$bus.$emit("total",e.data.data.total),200===e.data.code?(t.list=e.data.data.records,console.log(t.list)):t.$message.error(e.data.msg)}))},resetForm:function(e){"clear"===e?this.$refs.form.resetFields():this.$refs.addForm.resetFields()},addForms:function(e,t){this.title=t,this.dialogFormVisible=!0,"编辑"===t&&(this.addForm=e)},del:function(e){var t=this;(0,l.jJ)(e).then((function(e){console.log(e),200===e.data.code?(t.getProfileInfo(t.form),t.$message.success("提交完成")):t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;"添加配置"===e.title?e.addDataForm():e.upDataForm()}))},addDataForm:function(){var e=this;(0,l.Y7)(this.addForm).then((function(t){console.log(t),200===t.data.code?(e.dialogFormVisible=!1,e.getProfileInfo(e.form),e.$message.success("提交完成")):e.$message.error(t.data.msg)}))},getProfile:function(){var e=this,t={pageSize:1e6};(0,l.Ai)(t).then((function(t){e.netNameList=t.data.data}))},upDataForm:function(){var e=this;(0,l.xl)(this.addForm).then((function(t){200===t.data.code?(e.getProfileInfo(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)}))}},created:function(){this.getProfileInfo(this.form),this.getProfile()},watch:{dialogFormVisible:function(e){e||(this.addForm=this.$options.data().addForm)}}},c=d,m=a(1001),u=(0,m.Z)(c,r,o,!1,null,"51c38c92",null),f=u.exports},89821:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"拨号方案"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"方案名称",prop:"diaplanName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.diaplanName,callback:function(t){e.$set(e.form,"diaplanName",t)},expression:"form.diaplanName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clearSubmit}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加方案")}}},[e._v("添加拨号方案 ")])],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"close-on-click-modal":!1,title:e.title,visible:e.dialogFormVisible,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"拨号方案名称","label-width":e.formLabelWidth,prop:"diaplanName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.diaplanName,callback:function(t){e.$set(e.addForm,"diaplanName",t)},expression:"addForm.diaplanName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继组","label-width":e.formLabelWidth,prop:"diaplanGatewayGroup"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.diaplanGatewayGroup,callback:function(t){e.$set(e.addForm,"diaplanGatewayGroup",t)},expression:"addForm.diaplanGatewayGroup"}},e._l(e.trunkGroup,(function(e){return a("el-option",{attrs:{label:e.groupName,value:e.id}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"费率组","label-width":e.formLabelWidth,prop:"diaplanRateGroup"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.change},model:{value:e.addForm.diaplanRateGroup,callback:function(t){e.$set(e.addForm,"diaplanRateGroup",t)},expression:"addForm.diaplanRateGroup"}},e._l(e.rateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.groupName,value:e.id}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"呼出前缀","label-width":e.formLabelWidth,prop:"diaplanPrefix"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.addForm.diaplanPrefix,callback:function(t){e.$set(e.addForm,"diaplanPrefix",t)},expression:"addForm.diaplanPrefix"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formName")}}},[e._v("确 定 ")])],1)],1),0!==e.list.length?a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{prop:"date",align:"center",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"diaplanName",align:"center",label:"方案名称"}}),a("el-table-column",{attrs:{prop:"trunk",align:"center",label:"中继组"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pbxGwgroup.groupName)+" ")]}}],null,!1,1457938926)}),a("el-table-column",{attrs:{prop:"diaplanPrefix",align:"center",label:"呼出前缀"}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"更新时间"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{align:"center",prop:"stauts",label:"操作",fixed:"right",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}],null,!1,3929812189)})],1):e._e()],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.formChange,pageCheng:e.pageCheng}})],1)},o=[],l=(a(41539),a(54747),a(1142)),i=a(46230),s=a(91186),n=a(61937),d={name:"dialPlan",components:{myEmpty:i.Z,myFooter:s.Z,myElHeader:n.Z},data:function(){return{dialogFormVisible:!1,formLabelWidth:"120px",form:{pageNum:1,pageSize:10,diaplanGatewayGroup:"",diaplanName:"",diaplanPrefix:""},title:"",list:[],addForm:{diaplanGatewayGroup:"",diaplanName:"",diaplanPrefix:"",diaplanRateGroup:""},rateGroupId:"",trunkGroup:[],rateList:[],rateItemList:[],rules:{diaplanName:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],diaplanGatewayGroup:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],diaplanRateGroup:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],diaplanPrefix:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}]}}},methods:{getDaiPlan:function(e){var t=this;(0,l.EB)(e).then((function(e){console.log(e),t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records})).catch((function(e){console.log(e)}))},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getDaiPlan(this.form)},find:function(){this.getDaiPlan(this.form)},clearSubmit:function(){this.form=this.$options.data().form,this.getDaiPlan(this.form)},showAddForm:function(e,t){this.dialogFormVisible=!0,this.title=t,this.addForm="编辑"===t?e:this.$options.data().addForm},resetForm:function(e){this.$refs.form.resetFields()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;"编辑"!==t.title?(0,l.sv)(t.addForm).then((function(e){console.log(e),200===e.data.code?(t.$message.success("提交完成"),t.getDaiPlan(t.form)):t.$message.error(e.data.msg),t.dialogFormVisible=!1})).catch((function(e){console.log(e),t.$message.error(e)})):(0,l.jb)(t.addForm).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getDaiPlan(t.form)):t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))}))},change:function(e){var t=this;this.rateGroupId=e;var a={};a.rateGroupId=e,(0,l.ut)(a).then((function(e){200===e.data.code?e.data.data.records.forEach((function(e,a){t.addForm.diaplanPrefix=e.ratePrefix+","})):t.$message.error(e.data.msg)}))},removeIt:function(e){var t=this;(0,l.ym)(e.id).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getDaiPlan(t.form)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error(e)}))},next:function(){this.forms.pageNum++,this.getDaiPlan(this.forms)},prev:function(){this.forms.pageNum--,this.getDaiPlan(this.forms)},formChange:function(e){this.forms.pageNum=e,this.getDaiPlan(this.forms)}},created:function(){this.getDaiPlan(this.form)},computed:{diaplanPrefix:function(){return this.addForm.diaplanRateGroup}},watch:{dialogFormVisible:function(e){var t=this;!0===e?(this.form={pageSize:19999999},(0,l.cH)(this.form),(0,l.cH)(this.form).then((function(e){t.trunkGroup=e.data.data.records})).catch((function(e){t.$message.error(e)})),(0,l.pA)(this.form).then((function(e){200===e.data.code?t.rateList=e.data.data.records:t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))):this.form={pageSize:10}},diaplanPrefix:function(){this.addForm.diaplanPrefix=""}}},c=d,m=a(1001),u=(0,m.Z)(c,r,o,!1,null,"622c31ee",null),f=u.exports},73682:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"中继组"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,rules:e.rule,model:e.form}},[a("el-form-item",{attrs:{label:"中继名称",prop:"groupName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),a("el-form-item",{attrs:{label:"策略类型",prop:"strategyRetry"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"策略类型"},model:{value:e.form.strategyRetry,callback:function(t){e.$set(e.form,"strategyRetry",t)},expression:"form.strategyRetry"}},e._l(e.policyType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"重试策略",prop:"strategyType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"重试策略"},model:{value:e.form.strategyType,callback:function(t){e.$set(e.form,"strategyType",t)},expression:"form.strategyType"}},e._l(e.retryStrategyType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加中继组")}}},[e._v("添加中继组 ")])],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"close-on-click-modal":!1,title:e.title,visible:e.dialogFormVisible,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addFrom,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继组名称","label-width":e.formLabelWidth,prop:"groupName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addFrom.groupName,callback:function(t){e.$set(e.addFrom,"groupName",t)},expression:"addFrom.groupName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"支持前缀","label-width":e.formLabelWidth,prop:"groupPrefix",placeholder:"请输入内容"}},[a("el-input",{attrs:{placeholder:'请填入数字，用","隔开，例如10,20,30'},model:{value:e.addFrom.groupPrefix,callback:function(t){e.$set(e.addFrom,"groupPrefix",t)},expression:"addFrom.groupPrefix"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"重试策略","label-width":e.formLabelWidth,prop:"strategyRetry"}},[a("el-radio-group",{model:{value:e.addFrom.strategyRetry,callback:function(t){e.$set(e.addFrom,"strategyRetry",t)},expression:"addFrom.strategyRetry"}},[a("el-radio",{attrs:{label:0}},[e._v("无响应重试")]),a("el-radio",{attrs:{label:1}},[e._v("强制重试")])],1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"策略类型","label-width":e.formLabelWidth,prop:"strategyType"}},[a("el-radio-group",{model:{value:e.addFrom.strategyType,callback:function(t){e.$set(e.addFrom,"strategyType",t)},expression:"addFrom.strategyType"}},[a("el-radio",{attrs:{label:0}},[e._v("强制呼叫")]),a("el-radio",{attrs:{label:1}},[e._v("随机呼叫")])],1)],1)],1),e._l(e.addFrom.pbxGwgroupGatewayList,(function(t,r){return a("el-form-item",{key:e.addFrom.pbxGwgroupGatewayList.key,attrs:{label:"中继"+(r+1),"label-width":e.formLabelWidth,prop:"pbxGwgroupGatewayList."+r+".gatewayId",rules:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}]}},[a("div",{staticClass:"width"},[a("div",{staticClass:"widths"},[a("el-select",{staticClass:"w200",attrs:{placeholder:"请选择"},model:{value:t.gatewayId,callback:function(a){e.$set(t,"gatewayId",a)},expression:"pbxGwgroupGatewayList.gatewayId"}},e._l(e.pbxList,(function(e){return a("el-option",{key:e.id,staticStyle:{width:"100%"},attrs:{label:e.gatewayName,value:e.id}})})),1),a("div",{staticClass:"w200",staticStyle:{padding:"0 20px"}},[a("el-form-item",{attrs:{label:"权重"}},[a("el-input",{staticClass:"el-input",staticStyle:{width:"100%"},attrs:{type:"age",placeholder:"填入权重数值"},model:{value:t.weight,callback:function(a){e.$set(t,"weight",e._n(a))},expression:"pbxGwgroupGatewayList.weight"}})],1)],1),a("div",{staticStyle:{"text-align":"right",width:"150px"}},[a("el-tooltip",{staticClass:"item",staticStyle:{height:"40px","vertical-align":"top"},attrs:{effect:"dark",content:"添加中继",placement:"bottom"},nativeOn:{click:function(t){return e.addGateway.apply(null,arguments)}}},[a("el-button",{staticClass:"ablout"},[a("i",{staticClass:"icon iconfont icon-jia"})])],1),a("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"20px","vertical-align":"top",height:"40px"},attrs:{effect:"dark",content:"删除中继",placement:"bottom"},nativeOn:{click:function(a){return e.removeClick(t)}}},[a("el-button",{staticClass:"ablout"},[a("i",{staticClass:"icon iconfont icon-shanchu2"})])],1)],1)],1)])])})),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addFrom.remark,callback:function(t){e.$set(e.addFrom,"remark",t)},expression:"addFrom.remark"}})],1)],1)],2),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{align:"center",prop:"index",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"中继名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.groupName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"pbxGwgroupGatewayList",label:"策略类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.strategyType?a("span",[e._v("循环呼叫")]):a("span",[e._v("随机呼叫")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"pbxGwgroupGatewayList",label:"重试策略"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.strategyRetry?a("span",[e._v("无响应重试")]):a("span",[e._v("强制重试")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"retryStrategy",label:"关联网关"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.pbxGwgroupGatewayList.length>2?a("div",[e._l(t.row.pbxGwgroupGatewayList.slice(0,1),(function(r,o){return a("div",{staticClass:"table"},[a("p",[a("span",[e._v(e._s(t.row.pbxGwgroupGatewayList[o].gatewayName))]),e._v(" --"),a("span",[e._v(e._s(t.row.pbxGwgroupGatewayList[o].weight))])])])})),a("span",[e._v("sjwkuys")])],2):a("div",e._l(t.row.pbxGwgroupGatewayList,(function(r,o){return a("div",{staticClass:"table"},[a("p",[a("span",[e._v(e._s(t.row.pbxGwgroupGatewayList[o].gatewayName))]),e._v(" --"),a("span",[e._v(e._s(t.row.pbxGwgroupGatewayList[o].weight))])])])})),0)]}}])}),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"操作",fixed:"right","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除")])],1)]],2)]}}])}),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.remark||"暂无备注")+" ")]}}])})],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},o=[],l=(a(21703),a(40561),a(1142)),i=a(46230),s=a(14378),n=a(91186),d=a(61937),c={name:"trunkGroup",components:{myEmpty:i.Z,myFooter:n.Z,myElHeader:d.Z},data:function(){var e=function(e,t,a){(0,s.qh)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{form:{groupName:"",strategyRetry:"",strategyType:""},title:"添加中继组",dialogFormVisible:!1,edit:!1,pbxList:[],addFrom:{groupPrefix:"",groupName:"",strategyRetry:0,strategyType:0,pbxGwgroupGatewayList:"",totalWeight:0,pageNum:1,pageSize:10},list:[],startTime:"",formLabelWidth:"120px",policyType:[{label:"循环呼叫",value:0},{label:"随机呼叫",value:1}],retryStrategyType:[{label:"无响应重试",value:0},{label:"强制重试",value:1}],rules:{groupName:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],groupPrefix:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"},{validator:e,message:"请输入合法的数字",trigger:"blur"}],strategyRetry:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],strategyType:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],retryStrategy:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}]},rule:{groupName:[{required:!1,message:"该项为必填项,请确认",trigger:"blur"}],strategyRetry:[{required:!1,message:"该项为必填项,请确认",trigger:"blur"}],strategyType:[{required:!1,message:"该项为必填项,请确认",trigger:"blur"}]},value:"",tableData:[],gateway:{gatewayId:"",weight:""}}},methods:{getGwgroup:function(e){var t=this;(0,l.cH)(e).then((function(e){e.data.data.total&&t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records})).catch((function(e){}))},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},showAddForm:function(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addFrom=e:(this.addFrom=this.$options.data().addFrom,this.gateway=this.$options.data().gateway,this.tableData.push(this.gateway))},find:function(){this.getGwgroup(this.form)},clear:function(){this.resetForm("form"),this.getGwgroup(this.form)},removeClick:function(e){var t=this.addFrom.pbxGwgroupGatewayList.indexOf(e);-1!==t&&this.addFrom.pbxGwgroupGatewayList.length>1&&this.addFrom.pbxGwgroupGatewayList.splice(t,1)},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getGwgroup(this.form)},addGateway:function(){this.addFrom.pbxGwgroupGatewayList.push({gatewayId:"",weight:"",key:Date.now()})},submitForm:function(){var e=this;this.$refs["addForm"].validate((function(t){if(!t)return!1;"添加中继组"===e.title?(0,l.R)(e.addFrom).then((function(t){console.log(t),200===t.data.code?(e.$message.success("提交完成"),e.dialogFormVisible=!1,e.getGwgroup(e.form)):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t)})):(0,l.Qq)(e.addFrom).then((function(t){200===t.data.code?(e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)}))}))},next:function(){this.form.pageNum++,console.log(this.form),this.getGwgroup(this.form)},prev:function(){this.form.pageNum--,this.getGwgroup(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.getGwgroup(this.form)},resetForm:function(e){this.$refs["form"].resetFields()},removeIt:function(e){var t=this;(0,l.H8)(e.id).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getGwgroup(t.from)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error(e)}))},upEdit:function(){this.edit=!this.edit}},created:function(){this.getGwgroup(this.form)},mounted:function(){var e=this;this.$bus.$on("pageCheng",(function(t){e.form=e.$options.data().form,e.form.pageSize=t,e.getGwgroup(e.form)}))},destroyed:function(){this.$bus.$off("pageChang")},watch:{dialogFormVisible:function(e){var t=this;console.log(e),!0===e?(0,l.Ku)().then((function(e){t.pbxList=e.data.data.records})):(this.tableData=this.$options.data().tableData,this.edit=!1,this.getGwgroup(this.form))},tableData:{handler:function(e){this.addFrom.pbxGwgroupGatewayList=e},deep:!0}}},m=c,u=a(1001),f=(0,u.Z)(m,r,o,!1,null,"29450a9e",null),p=f.exports},56498:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"首页"}}),a("div",{staticClass:"container"},[a("el-row",{attrs:{justify:"start"}},[a("el-col",{staticClass:"bg-purples",attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("div",{staticClass:"overview-l"},[a("h2",[e._v("服务器运行状态总揽")]),a("div",{staticClass:"percentage-item"},[a("span",[e._v("用户使用率")]),a("el-progress",{staticClass:"percentage",attrs:{percentage:e.percentage.used,color:e.customColor}})],1),a("div",{staticClass:"percentage-item"},[a("span",[e._v("系统使用率")]),a("el-progress",{staticClass:"percentage",attrs:{percentage:e.percentage.sys,color:e.customColor}})],1),a("div",{staticClass:"percentage-item"},[a("span",[e._v("当前空闲率")]),a("el-progress",{staticClass:"percentage",attrs:{"stroke-width":"20px",percentage:e.percentage.free,color:e.customColor}})],1)])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticStyle:{border:"none","border-radius":"5px","background-color":"#f2f2f2"}},[a("h2",{staticStyle:{"padding-left":"10px"}},[e._v("磁盘状态")]),a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{"row-style":{background:"#f2f2f2"},"header-cell-style":{background:"#f2f2f2"},data:e.serveData.sysFiles}},[a("el-table-column",{attrs:{align:"left",prop:"dirName",label:"盘符路径",width:"200"}}),a("el-table-column",{attrs:{align:"center",prop:"sysTypeName",label:"文件系统"}}),a("el-table-column",{attrs:{align:"center",prop:"total",label:"总大小"}}),a("el-table-column",{attrs:{align:"center",prop:"usage",label:"已使用"}}),a("el-table-column",{attrs:{align:"center",prop:"used",label:"未使用"}})],1)],1)])])],1),a("div",{staticClass:"warp"},[a("h2",[e._v("服务器信息")]),a("ul",[null!=e.serveData.sys?a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("服务器名称")]),e._v(e._s(e.serveData.sys.computerName))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("操作系统")]),e._v(e._s(e.serveData.sys.osName))])]):e._e(),null!=e.serveData.sys?a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("服务器IP")]),e._v(e._s(e.serveData.sys.computerIp))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("系统架构")]),e._v(e._s(e.serveData.sys.osArch))])]):e._e()])]),a("div",{staticClass:"warp"},[a("h2",[e._v("JAVA虚拟机信息")]),a("ul",[null!=e.serveData.sys?a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("JAVA名称")]),e._v(e._s(e.serveData.jvm.name))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("Java版本")]),e._v(e._s(e.serveData.jvm.version))])]):e._e(),null!=e.serveData.sys?a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("启动时间")]),e._v(e._s(e.serveData.jvm.runTime))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("运行时长")]),e._v(e._s(e.serveData.jvm.startTime))])]):e._e(),null!=e.serveData.sys?a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("安装路径")]),e._v(e._s(e.serveData.jvm.home))]),a("div",{staticClass:"warp-li"})]):e._e()])])],1)],1)},o=[],l=a(87742),i=a(61937),s={name:"serveStart",components:{myElHeader:i.Z},data:function(){return{form:{cpu:"95",ram:"95",network:"95",hardDisk:"95",call:""},dialogFormVisible:!1,formLabelWidth:"120px",percentage:{},customColor:"#ff7800",serveData:[],timer:[]}},created:function(){this.getSystem()},methods:{getSystem:function(){var e=this;(0,l.Os)().then((function(t){console.log(t),e.serveData=t.data.data,e.percentage=e.serveData.cpu}))}},beforeDestroy:function(){window.clearInterval(this.timer)}},n=s,d=a(1001),c=(0,d.Z)(n,r,o,!1,null,null,null),m=c.exports},35608:function(e,t,a){"use strict";a(66992),a(88674),a(19601),a(17727);var r=a(28935),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],i={},s=i,n=a(1001),d=(0,n.Z)(s,o,l,!1,null,null,null),c=d.exports,m=a(17371),u=a(70043),f=a(74549),p=a.n(f);r["default"].prototype.$bus=new r["default"],r["default"].use(p()),(0,u.z)(),new r["default"]({router:m["default"],store:u.Z,render:function(e){return e(c)}}).$mount("#app")},37324:function(e,t,a){"use strict";a.d(t,{W:function(){return s}});var r=a(26166),o=a.n(r),l=a(74549),i=a(63060);function s(e){var t=o().create({baseURL:"/dispatch",timeout:1500,withCredentials:!0});return t.interceptors.request.use((function(e){var t=i.Z.getCache("token");return t&&(e.headers.Authorization=t),e}),(function(e){})),t.interceptors.response.use((function(e){return 4e4===e.data.code&&l.MessageBox.alert("登录过期,请重新登录","确认退出",{confirmButtonText:"确定",callback:function(e){i.Z.delCache("token"),i.Z.delCache("user"),i.Z.delCache("menuList"),location.reload()}}).then((function(e){return console.log(e)})),e}),(function(e){console.log(e)})),t(e)}},1142:function(e,t,a){"use strict";a.d(t,{Ai:function(){return _},Cn:function(){return y},Dg:function(){return W},EB:function(){return u},ET:function(){return k},H8:function(){return m},JF:function(){return g},Ku:function(){return o},Qq:function(){return c},R:function(){return d},U$:function(){return s},Y7:function(){return I},cH:function(){return n},fD:function(){return L},iV:function(){return S},j3:function(){return C},jJ:function(){return N},jb:function(){return p},p2:function(){return x},pA:function(){return b},pB:function(){return T},r4:function(){return l},sv:function(){return f},tR:function(){return F},ut:function(){return w},vR:function(){return v},xl:function(){return $},ym:function(){return h},zV:function(){return i}});var r=a(37324);function o(e){return(0,r.W)({url:"/pbx/gateway/list",params:e})}function l(e){return(0,r.W)({url:"/pbx/gateway/add",data:e,method:"post"})}function i(e){return(0,r.W)({url:"/pbx/gateway/delete/"+e,data:e,method:"delete"})}function s(e){return(0,r.W)({url:"/pbx/gateway/update",data:e,method:"put"})}function n(e){return(0,r.W)({url:"/pbx/gwgroup/list",params:e,method:"get"})}function d(e){return console.log(e),(0,r.W)({url:"/pbx/gwgroup/add",data:e,method:"post"})}function c(e){return(0,r.W)({url:"/pbx/gwgroup/update",data:e,method:"put"})}function m(e){return(0,r.W)({url:"/pbx/gwgroup/delete/"+e,data:e,method:"delete"})}function u(e){return(0,r.W)({url:"/pbx/diaplan/list",params:e})}function f(e){return(0,r.W)({url:"/pbx/diaplan/add",method:"post",data:e})}function p(e){return(0,r.W)({url:"/pbx/diaplan/update",method:"put",data:e})}function h(e){return(0,r.W)({url:"/pbx/diaplan/delete/"+e,method:"delete"})}function b(e){return(0,r.W)({url:"/pbx/rate/group/list",params:e})}function g(e){return console.log(e),(0,r.W)({url:"/pbx/rate/group/add",data:e,method:"post"})}function v(e){return console.log(e),(0,r.W)({url:"/pbx/rate/group/update",method:"put",data:e})}function y(e){return(0,r.W)({url:"/pbx/rate/group/delete/"+e,method:"delete"})}function F(e){return(0,r.W)({url:"/pbx/rate/group/item/add",method:"post",data:e})}function w(e){return(0,r.W)({url:"/pbx/rate/group/item/list",params:e})}function k(e){return(0,r.W)({url:"/pbx/rate/group/item/update",method:"put",data:e})}function x(e){return(0,r.W)({url:"/pbx/rate/group/item/delete/"+e,method:"delete"})}function _(e){return(0,r.W)({url:"/pbx/profile/init/list",method:"get",params:e})}function C(e){return(0,r.W)({url:"/pbx/profile/list",method:"get",params:e})}function $(e){return(0,r.W)({url:"/pbx/profile/update",method:"put",data:e})}function N(e){return(0,r.W)({url:"/pbx/profile/delete/"+e,method:"delete"})}function I(e){return(0,r.W)({url:"/pbx/profile/add",method:"post",data:e})}function L(){return(0,r.W)({url:"/system/file/list"})}function S(e){return(0,r.W)({url:"/pbx/desk/list",params:e})}function T(e){return(0,r.W)({url:"/pbx/desk/add",data:e,method:"post"})}function W(e){return(0,r.W)({url:"/pbx/desk/update",method:"put",data:e})}},87742:function(e,t,a){"use strict";a.d(t,{BF:function(){return n},Bd:function(){return T},Ee:function(){return l},JV:function(){return v},MY:function(){return L},Mu:function(){return s},Nm:function(){return C},Os:function(){return W},PR:function(){return V},SD:function(){return N},T:function(){return I},TO:function(){return o},Vb:function(){return u},Wr:function(){return h},ZU:function(){return i},_Z:function(){return q},_d:function(){return g},cn:function(){return k},dQ:function(){return y},fl:function(){return x},gG:function(){return $},h8:function(){return _},jW:function(){return p},kV:function(){return b},lR:function(){return f},m4:function(){return F},oj:function(){return m},t1:function(){return c},tb:function(){return w},uL:function(){return R},wQ:function(){return d},yo:function(){return S},ze:function(){return P}});var r=a(37324);function o(e){return(0,r.W)({url:"/system/dict/type/add",method:"post",data:e})}function l(e){return(0,r.W)({url:"/system/dict/type/list",method:"get",headers:{"Content-Type":"application/json"},params:e})}function i(e){return(0,r.W)({url:"/system/dict/type/update",method:"put",data:e})}function s(e){return(0,r.W)({url:"/system/dict/type/delete/"+e,method:"delete"})}function n(e){return(0,r.W)({url:"/system/dict/item/add",method:"post",data:e})}function d(e){return(0,r.W)({url:"/system/dict/item/list/type",method:"get",params:e})}function c(e){return(0,r.W)({url:"/system/dict/item/update",method:"put",data:e})}function m(e){return(0,r.W)({url:"/system/dict/item/delete/"+e,method:"delete",data:e})}function u(e){return(0,r.W)({url:"/system/dept/add",method:"post",data:e})}function f(e){return(0,r.W)({url:"/system/dept/list",params:e})}function p(e){return console.log(e),(0,r.W)({url:"/system/dept/delete/"+e,method:"delete"})}function h(e){return(0,r.W)({url:"/system/dept/detail/"+e})}function b(e){return(0,r.W)({url:"/system/dept/edit",method:"put",data:e})}function g(e){return(0,r.W)({url:"/system/role/add",method:"post",data:e})}function v(e){return(0,r.W)({url:"/system/role/list",method:"get",params:e})}function y(e){return(0,r.W)({url:"/system/role/update",method:"put",data:e})}function F(e){return(0,r.W)({url:"/system/role/delete/"+e,method:"delete"})}function w(e){return(0,r.W)({url:"/system/role/data/distribution",data:e,method:"post"})}function k(e){return(0,r.W)({url:"/system/user/add",method:"post",data:e})}function x(e){return(0,r.W)({url:"/system/user/list",params:e})}function _(e){return(0,r.W)({url:"/system/user/delete/"+e,method:"delete"})}function C(e){return(0,r.W)({url:"/system/user/update",method:"put",data:e})}function $(e){return(0,r.W)({url:"/system/user/password/update",method:"post",data:e})}function N(e){return(0,r.W)({url:"/system/menu/list",method:"get",params:e})}function I(e){return(0,r.W)({url:"/system/menu/add",method:"post",data:e})}function L(e){return(0,r.W)({url:"/system/menu/update",method:"put",data:e})}function S(e){return(0,r.W)({url:"/system/menu/delete/"+e,method:"delete"})}function T(e){return(0,r.W)({url:"/system/log/list",params:e})}function W(){return(0,r.W)({url:"/system/monitor/server"})}function P(e){return(0,r.W)({url:"/pbx/sysparams/list",params:e})}function V(e){return(0,r.W)({url:"/pbx/sysparams/add",method:"post",data:e})}function q(e){return(0,r.W)({url:"/pbx/sysparams/update",method:"put",data:e})}function R(e){return(0,r.W)({url:"/pbx/sysparams/delete/"+e,method:"delete"})}},1631:function(e,t,a){"use strict";a.d(t,{M:function(){return l},Z:function(){return o}});var r=a(37324);function o(e){return(0,r.W)({url:"/web/login",method:"post",headers:{"Content-Type":"application/json"},data:e})}function l(){return(0,r.W)({url:"/web/logout",method:"post",headers:{"Content-Type":"application/json"},data:{}})}},17371:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Br}});var r=a(28935),o=a(12809),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user"}},[a("div",{staticClass:"login-info"},[a("div",{staticClass:"widthS"},[a("div",{staticStyle:{height:"300px",color:"white"}},[a("el-steps",{attrs:{direction:"vertical",active:e.index,"align-center":!0}},[a("el-step",{attrs:{title:"开始"}}),a("el-step",{attrs:{title:"填写账号"}}),a("el-step",{attrs:{title:"输入密码"}},[e._v(">")]),a("el-step",{attrs:{title:"提交"}},[e._v(">")])],1)],1)])]),a("div",{staticClass:"login-other"},[a("h2",[e._v("欢迎使用调度管理系统！")]),a("el-form",{ref:"form",staticClass:"el-from",attrs:{"label-width":"120"}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{on:{focus:function(t){return e.focus(2)}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},on:{focus:function(t){return e.focus(3)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("div",{staticClass:"width"},[a("div"),a("div"),a("div"),a("div"),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")])],1)],1)])],1)])},i=[],s=a(93019),n={name:"login",data:function(){return{isErr:!1,settingShow:!1,form:{username:"admin",password:"123456"},isClearNumShow:!1,isPadShow:!1,index:0}},methods:{loginInput:function(e){"text"===e?0!==this.form.number.length?this.form.isClearNumShow=!0:this.isClearNumShow=!1:(this.$refs.psd.type="password",0!==this.form.pad.length?this.form.isPadShow=!0:this.isPadShow=!1)},clear:function(e){"text"===e?(this.form.number="",this.form.isClearNumShow=!1):(this.form.pad="",this.form.isPadShow=!1)},onSubmit:function(){this.index=4,this.$store.dispatch("loginAction",(0,s.Z)({},this.form))},isShow:function(){this.isErr=!this.isErr},focus:function(e){this.index=e}}},d=n,c=a(1001),m=(0,c.Z)(d,l,i,!1,null,"97698e50",null),u=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{attrs:{id:"index"}},[a("el-header",{staticClass:"header",attrs:{height:"80"}},[a("div",{attrs:{id:"nav"}},[a("div",{staticClass:"logo-info"},[a("div",{staticClass:"logo"}),a("h1",[e._v("金数GDD1000 融合通信管理平台")])]),a("div",[a("span",{staticClass:"icon iconfont icon-yonghu-yuan tubiao"}),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link tubiao"},[e._v(" "+e._s(e.userInfo.nickName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.userInfoNav,(function(t,r){return a("el-dropdown-item",{nativeOn:{click:function(t){return e.infoClick(r)}}},[a("i",{class:"icon iconfont "+t.icon}),a("span",[e._v(e._s(t.title))])])})),1)],1)],1)])]),a("el-container",[a("el-aside",{attrs:{width:"200"}},[a("nav-menu")],1),a("el-main",[a("router-view")],1)],1)],1)},p=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-menu"},[a("el-menu",{attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ff7300"}},[e._l(e.menuList,(function(t){return[t.hasOwnProperty("children")?[a("el-submenu",{attrs:{index:t.menuId}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"icon",class:t.icon}),a("span",[e._v(e._s(t.menuName))])]),a("el-menu-item-group",{attrs:{index:t.menuId+""},on:{click:t}},[e._l(t.children,(function(t){return[a("el-menu-item",{staticClass:"menu-item",attrs:{index:t.menuId+""},nativeOn:{click:function(a){return e.handMenuClick(t)}}},[a("i",{staticClass:"icon",class:t.icon}),a("span",[e._v(e._s(t.menuName))])])]}))],2)],1)]:a("div",[a("el-menu-item",{attrs:{index:t.menuId+""},nativeOn:{click:function(a){return e.handMenuClick(t)}}},[a("span",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.menuName))])])])],1)]}))],2)],1)},b=[],g=a(29630),v=a(63060),y={name:"navMenu",data:function(){return{menuList:[],defaultCurrentIndex:1,isCollapse:!0}},created:function(){this.menuList=[],this.menuList=this.$store.state.login.menuList;(0,g.Sx)(this.menuList,this.$route.path);this.defaultCurrentIndex=v.Z.getCache("defaultCurrentIndex")},mounted:function(){console.log(this.menuList,"aa")},methods:{handMenuClick:function(e){console.log(e),this.$router.push(e.path)}}},F=y,w=(0,c.Z)(F,h,b,!1,null,null,null),k=w.exports,x=k,_=a(1631),C={name:"index",data:function(){return{userInfoNav:[{icon:"icon-icon7",title:"个人中心"},{icon:"icon-tuichu",title:"退出"}]}},methods:{infoClick:function(e){0===e?this.$router.push("/home/account"):this.loginOut()},loginOut:function(){var e=this;(0,_.M)().then((function(t){200===t.data.code&&(e.$message.success("已成功退出"),v.Z.delCache("token"),e.$router.push("/login"))})).catch((function(t){e.$message.error(t)}))}},components:{navMenu:x},computed:{userInfo:function(){return this.$store.state.login.userInfo}},created:function(){console.log(this.$store.state.login.userInfo)}},$=C,N=(0,c.Z)($,f,p,!1,null,"5c26098e",null),I=N.exports,L=a(56498),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"菜单管理"}}),a("div",{staticClass:"container"},[e._m(0),a("el-tree",{attrs:{data:e.path,props:e.defaultProps,"node-key":"menuId","expand-on-click-node":!1,indent:15,"default-expanded-keys":e.defaultShowNodes,accordion:""},on:{"node-click":e.meunClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var r=t.data;return a("div",{staticClass:"custom-tree-node"},[a("div",{staticClass:"tree"},[a("div",{staticClass:"tree-path"},[e._v(" "+e._s(r.menuName)+" ")]),a("div",{staticClass:"item-r"},[a("p",[e._v(e._s(r.path)+" ")])]),a("div",{staticClass:"item-r",staticStyle:{"text-align":"center"}},["M"===r.menuType?a("span",[e._v("菜单")]):e._e(),"F"===r.menuType?a("span",[e._v("按钮")]):e._e()]),a("div",{staticClass:"item-r",staticStyle:{"text-align":"center"}},[a("el-link",{staticClass:"link",attrs:{type:"primary"},on:{click:function(t){return e.currentShow(0)}}},[e._v("新增")]),a("el-link",{staticClass:"link",attrs:{type:"primary"},on:{click:function(t){return e.currentShow(1)}}},[e._v("编辑")]),a("el-link",{staticClass:"link",attrs:{type:"primary"},on:{click:function(t){return e.currentShow(2)}}},[e._v("删除")])],1)])])}}])}),a("div",[a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,visible:e.dialogFormVisible,"destroy-on-close":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"菜单名称","label-width":e.formLabelWidth,prop:"menuName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.menuName,callback:function(t){e.$set(e.addForm,"menuName",t)},expression:"addForm.menuName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"菜单类型","label-width":e.formLabelWidth,prop:"menuType"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.addForm.menuType,callback:function(t){e.$set(e.addForm,"menuType",t)},expression:"addForm.menuType"}},e._l(e.menuType,(function(e){return a("el-option",{attrs:{value:e.value,placeholder:"请输入内容",label:e.label}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"菜单图标","label-width":e.formLabelWidth,prop:"icon"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.icon,callback:function(t){e.$set(e.addForm,"icon",t)},expression:"addForm.icon"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"父菜单","label-width":e.formLabelWidth,prop:"parentId"}},[a("treeselect",{attrs:{multiple:!1,options:e.path,normalizer:e.normalizer},model:{value:e.parentId,callback:function(t){e.parentId=t},expression:"parentId"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"路由地址","label-width":e.formLabelWidth,prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.path,callback:function(t){e.$set(e.addForm,"path",t)},expression:"addForm.path"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"权限标识","label-width":e.formLabelWidth,prop:"perms"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.perms,callback:function(t){e.$set(e.addForm,"perms",t)},expression:"addForm.perms"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"菜单序号","label-width":e.formLabelWidth,prop:"serial"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.serial,callback:function(t){e.$set(e.addForm,"serial",t)},expression:"addForm.serial"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"status"}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("开启")]),a("el-radio",{attrs:{label:1}},[e._v("关闭")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"form-bottom"},[a("a",{attrs:{href:""}}),a("div",[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)])])],1)],1)],1)],1)},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree-menu"},[a("div",{staticClass:"tree-path",staticStyle:{"padding-left":"20px"}},[e._v(" 菜单名称 ")]),a("div",{staticClass:"item-r"},[a("div",[e._v("菜单路径")])]),a("div",{staticClass:"item-r"},[a("div",[e._v("权限")])]),a("div",{staticClass:"item-r"},[a("div",[e._v("操作")])])])}],W=(a(41539),a(54747),a(87742)),P=a(17557),V=a(61937),q=a(35450),R=a.n(q),D={name:"menu-path",components:{myElHeader:V.Z,treeselect:R()},data:function(){return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,children:e.children,label:e.menuName}},title:"新增",formLabelWidth:"120px",dialogFormVisible:!1,form:{},path:[],defaultProps:{children:"children",label:"menuName"},addForm:{menuName:"",menuType:"",orderNum:"",parentId:"",path:"",perms:"",status:0},showTitle:["新增","编辑","删除"],showIndex:null,row:{},defaultShowNodes:[],menuType:[{label:"目录",value:"C"},{label:"菜单",value:"M"},{label:"按钮",value:"F"}],statusType:[{label:"开启",value:0},{label:"关闭",value:1}],rules:{menuName:[{required:!0,message:"该选项不可为空, 请确认",trigger:"blur"}],menuType:[{required:!0,message:"该选项不可为空, 请确认",trigger:"blur"}],orderNum:[{required:!0,message:"该选项不可为空, 请确认",trigger:"blur"}],parentId:[{required:!0,message:"该选项不可为空, 请确认",trigger:"blur"}],path:[{required:!0,message:"改选行不可为空, 请确认",trigger:"blur"}],perms:[{required:!0,message:"改选行不可为空, 请确认",trigger:"blur"}],status:[{required:!1,message:"改选行不可为空, 请确认",trigger:"blur"}],icon:[{required:!1,message:"改选行不可为空, 请确认",trigger:"blur"}],serial:[{required:!0,message:"改选行不可为空, 请确认",trigger:"blur"}]}}},created:function(){this.getMenuAll(this.form)},methods:{getMenuAll:function(e){var t=this;(0,W.SD)(e).then((function(e){t.list=e.data.data,t.path=(0,P.i6)(e.data.data)})).catch((function(e){console.log(e),t.$message.error(e)}))},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;"新增"===e.title?(0,W.T)(e.addForm).then((function(t){console.log(t),200===t.data.code?(e.$message.success("提交完成"),e.dialogFormVisible=!1,e.getMenuAll()):e.$message.error(t.data.msg)})):(0,W.MY)(e.addForm).then((function(t){console.log(t),200===t.data.code?(e.getMenuAll(),e.dialogFormVisible=!1,e.$message.success("提交完成")):e.$message.error(t.data.msg)}))}))},meunClick:function(e){this.row=e,null===this.showIndex?console.log("1"):this.showForm(this.showTitle[this.showIndex])},showForm:function(e){this.title=e,"编辑"===e?(this.dialogFormVisible=!0,this.addForm=this.row):"新增"===e?(this.dialogFormVisible=!0,this.showIndex=null,this.addForm=this.$options.data().addForm,this.addForm.parentId=this.row.menuId):(this.removeIt(),this.showIndex=null)},currentShow:function(e){this.showIndex=e},removeIt:function(){var e=this;(0,W.yo)(this.row.menuId).then((function(t){200===t.data.code?(e.getMenuAll(e.form),e.dialogFormVisible=!1,e.$message.success("提交完成")):e.$message.error(t.data.msg)}))}},computed:{parentId:{get:function(){return"0"===this.addForm.parentId?this.addForm.menuId:this.addForm.parentId},set:function(e){return this.addForm.parentId=e}}},watch:{dialogFormVisible:function(e){e||(this.showIndex=null)},path:{handler:function(){var e=this;console.log(this.path),this.path.forEach((function(t){e.defaultShowNodes.push(t.menuId)}))},deep:!0}}},E=D,A=(0,c.Z)(E,S,T,!1,null,null,null),Z=A.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"日志"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"名称",prop:"realName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),a("el-form-item",{attrs:{label:"操作",prop:"operation"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.operation,callback:function(t){e.$set(e.form,"operation",t)},expression:"form.operation"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#ccc",color:"#fff"},data:e.tableData,height:"calc(100vh - 100px - 100px - 100px - 100px)"}},[a("el-table-column",{attrs:{align:"center",prop:"date",width:"50",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"时间"}}),a("el-table-column",{attrs:{prop:"realName",align:"center",width:"200",label:"姓名"}}),a("el-table-column",{attrs:{prop:"ipAddress",align:"center",label:"IP地址"}}),a("el-table-column",{attrs:{prop:"targetPage",align:"center",label:"目标页面"}}),a("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作"}})],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},G=[],z=a(91186),O={name:"record-mange",data:function(){return{form:{realName:"",operation:""},tableData:[],addForm:{},time:"",rules:{realName:[{required:!1,message:"请输入活动名称",trigger:"blur"}],operation:[{required:!1,message:"请输入活动名称",trigger:"blur"}]}}},created:function(){this.getLog(this.form)},components:{myFooter:z.Z,myElHeader:V.Z},methods:{next:function(){this.form.pageNum++,this.getLog(this.form)},prev:function(){this.form.pageNum--,this.getLog(this.form)},change:function(e){this.form.pageNum=e,this.getLog(this.form)},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getLog(this.form)},getLog:function(e){var t=this;(0,W.Bd)(e).then((function(e){t.$bus.$emit("total",e.data.data.total),t.tableData=e.data.data.records})).catch((function(e){console.log(e)}))},clear:function(){this.resetForm()},resetForm:function(){this.$refs.form.resetFields(),this.getLog(this.form)},submit:function(){this.getLog(this.form)}}},H=O,j=(0,c.Z)(H,M,G,!1,null,"2e078378",null),U=j.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"用户管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"container-l"},[a("e-tree",{attrs:{data:e.treeArr},on:{treeClick:e.treeClick}})],1),a("div",{staticClass:"container-r"},[a("div",{staticClass:"container-nav"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,rules:e.form_rules}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"用户角色"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[a("el-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"启用",value:0}}),a("el-option",{attrs:{label:"停用",value:1}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.show(null,"添加用户")}}},[e._v("添加用户")])],1),0!==e.resultList.length?a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)",data:e.resultList,"row-class-name":e.tableRowClassName,"header-cell-style":{background:"#ccc",color:"#fff"}},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,811300409)}),a("el-table-column",{attrs:{align:"center",prop:"nickName",label:"姓名"}}),a("el-table-column",{attrs:{align:"center",prop:"username",label:"账号"}}),a("el-table-column",{attrs:{align:"center",prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{align:"center",prop:"department",label:"所属部门"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sysDept.deptName))]}}],null,!1,1821630125)}),a("el-table-column",{attrs:{align:"center",prop:"department",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sysRole.roleName))]}}],null,!1,1085889549)}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"starts",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[0===t.row.status?a("a",[e._v("启用")]):a("a",[e._v("停用")])])]}}],null,!1,1988465937)}),a("el-table-column",{attrs:{prop:"starts",label:"操作",align:"center",fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{staticClass:"link-item",on:{click:function(a){return e.show(t.row,"编辑")}}},[e._v("编辑")]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重置后默认密码为123456",placement:"top"}},[a("el-link",{staticClass:"link-item",on:{click:function(a){return e.resetPad(t.row)}}},[e._v("重置")])],1),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.show(t.row,"删除")}}},[a("el-link",{staticClass:"link-item",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])],1)]],2)]}}],null,!1,1273833e3)})],1):a("my-empty"),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"destroy-on-close":!0,title:e.title,visible:e.isShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,id:"form",rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{staticClass:"form-item",attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.nickName,callback:function(t){e.$set(e.addForm,"nickName",t)},expression:"addForm.nickName"}})],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"用户角色","label-width":e.formLabelWidth,prop:"roleId"}},["添加用户"===e.title?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择用户角色"},model:{value:e.addForm.roleId,callback:function(t){e.$set(e.addForm,"roleId",t)},expression:"addForm.roleId "}},e._l(e.roleList,(function(e){return a("el-option",{attrs:{label:e.roleName,value:e.roleId}})})),1):a("el-select",{staticClass:"form-item",staticStyle:{width:"100%"},attrs:{placeholder:e.addForm.department},model:{value:e.addForm.roleId,callback:function(t){e.$set(e.addForm,"roleId",t)},expression:"addForm.roleId "}},e._l(e.roleList,(function(e){return a("el-option",{attrs:{label:e.roleName,value:e.roleId}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{staticClass:"form-item",attrs:{label:"所属部门",prop:"deptId",placeholder:"请输入内容","label-width":e.formLabelWidth}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,normalizer:e.normalizer},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"用户性别","label-width":e.formLabelWidth,prop:"sex"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择用户性别"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},e._l(e.sexList,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"账号","label-width":e.formLabelWidth,prop:"username"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"status"}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{staticClass:"form-item",attrs:{label:"手机号",prop:"phone","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1),"修改"!==e.title?a("el-form-item",{staticClass:"form-item",attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1):e._e()],1),a("div",{staticClass:"width"},[a("el-form-item",{staticClass:"form-item",attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入内容",type:"email",autocomplete:"off"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms("addForm")}}},[e._v("确 定 ")])],1)],1)],1)])]),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},J=[],K=(a(21703),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree"},[a("h2",[e._v("组织 ")]),a("div",{staticClass:"tree-warp"},[a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.data,props:e.defaultProps,"default-expand-all":"","expand-on-click-node":!1,accordion:"","node-key":e.data.deptId,"default-expanded-keys":["1524594032656699393",101]},on:{"node-click":e.handleNodeClick}})],1)])}),Q=[],Y=(a(57327),{name:"e-tree",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{defaultProps:{children:"children",label:"deptName"},isStatus:!0}},watch:{filterText:function(e){this.$refs.tree.filter(e)},isStatus:function(e){}},methods:{handleNodeClick:function(e,t){console.log(e),this.$emit("treeClick",e),0===e.status?this.isStatus=!0:this.isStatus=!1}}}),X=Y,ee=(0,c.Z)(X,K,Q,!1,null,"dd48bb80",null),te=ee.exports,ae=a(46230),re=a(14378),oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{ref:"selectTree",attrs:{value:e.value,clearable:e.clearable},on:{clear:e.clearHandle},model:{value:e.valueName,callback:function(t){e.valueName=t},expression:"valueName"}},[a("el-option",{staticClass:"options",attrs:{value:e.valueName,label:e.valueName}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return a("span",{},[a("i",{class:[null!=r.color?"ification_col":""],style:{"background-color":r.color}}),e._v("  "+e._s(r.deptName)+" ")])}}])})],1)],1)},le=[],ie={name:"el-tree-select",props:{props:{type:Object,default:function(){return{value:"deptId",children:"children",label:"deptName"}}},options:{type:Array,default:function(){return[]}},value:{type:Object,default:function(){return{}}},clearable:{type:Boolean,default:!0},accordion:{type:Boolean,default:!1}},data:function(){return{resultValue:null,valueName:"",defaultExpandedKey:[]}},watch:{value:function(){this.resultValue=this.value,this.initHandle()}},mounted:function(){this.resultValue=this.value,this.initHandle()},methods:{initHandle:function(){this.resultValue&&(this.valueName=this.resultValue.parentId,this.$refs.selectTree.setCurrentKey(this.resultValue),this.defaultExpandedKey=[this.resultValue]),this.initScroll()},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach((function(e){return e.style.width=0}))}))},handleNodeClick:function(e){this.$refs.selectTree.blur(),this.valueName=e[this.props.label],this.resultValue=e,this.$emit("getValue",this.resultValue),this.defaultExpandedKey=[]},clearHandle:function(){this.valueName="",this.resultValue=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))}}},se=ie,ne=(0,c.Z)(se,oe,le,!1,null,"082f2e68",null),de=ne.exports,ce={name:"serve-manage",components:{eTree:te,myEmpty:ae.Z,myTree:de,myFooter:z.Z,myElHeader:V.Z,treeselect:R()},data:function(){var e=function(e,t,a){(0,re.kj)(t)?a():a(new Error("手机号格式输入有误,请确认"))};return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},form:{nickName:"",phone:"",status:"",pageNum:1,pageSize:10},addForm:{deptId:null,email:"",nickName:"",password:"",phone:"",roleId:"",sex:"",status:0,pageSize:10,pageNum:1,username:""},row:{},type:"",title:"添加用户",deptIdList:[],isShow:!1,resultList:[],departmentList:[],deptId:"",formLabelWidth:"120px",roleList:[],timer:{},treeArr:[],sexList:[{label:"男",value:0},{label:"女",value:1}],rules:{nickName:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],roleId:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],email:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}],deptId:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],username:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],password:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],phone:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}],status:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}],sex:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}]},form_rules:{nickName:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}],phone:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"},{validator:e,message:"手机号格式输入有误,请确认",trigger:"blur"}],status:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}]}}},methods:{getSelectedValue:function(e){this.addForm.deptId=e.deptId},onSubmit:function(){this.getUserAll(this.form)},treeClick:function(e){this.form=this.$options.data().form,console.log(e),console.log(e),"1"===e.deptId?this.form.deptId="":this.form.deptId=e.deptId,console.log(this.form),this.getUserAll(this.form)},next:function(){this.form.pageNum++,console.log(this.form),this.getUserAll(this.form)},prev:function(){this.form.pageNum--,this.getUserAll(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.getUserAll(this.form)},reset:function(e){var t=this,a={password:"123456"};a.userId=e.userId,(0,W.gG)(a).then((function(e){200===e.data.code?t.$message.success("提交完成"):t.$message.error(e.data.msg)}))},addForms:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t||0===e.addForm.deptId.length)return!1;"添加用户"===e.title?(0,W.cn)(e.addForm).then((function(t){200===t.data.code?(e.isShow=!1,e.getUserAll(e.form),e.$message.success("提交完成")):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t)})):(0,W.Nm)(e.addForm).then((function(t){if(200===t.data.code){e.isShow=!1,e.getUserAll(e.form),e.$message.success("提交完成");var a=e.$store.state.userInfo;e.addForm.userId===a.userId&&e.$store.dispatch("userInfo",e.addForm)}else e.$message.error(t.data.msg)}))}))},resetPad:function(e){var t=this,a={};a.userId=e.userId,console.log(e),a.password="123456",(0,W.gG)(a).then((function(e){console.log(e),200===e.data.code?t.$message.success("提交完成"):t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))},pageCheng:function(e){this.form.pageSize=e,this.getUserAll(this.form)},onClear:function(){this.form.deptId="",this.resetForm(),this.getUserAll(this.form)},show:function(e,t){var a=this;(0,W.lR)(this.form).then((function(e){a.deptIdList=e.data.data})).catch((function(e){a.$message.error(e)})),this.form={pageSize:1e5},(0,W.JV)().then((function(e){console.log(e),200===e.data.code&&(a.roleList=e.data.data.records)})),this.title=t,"添加用户"===this.title?(this.isShow=!0,this.addForm=this.$options.data().addForm):"编辑"===t?(this.addForm=e,this.isShow=!0):"删除"===t&&(0,W.h8)(e.userId).then((function(e){200===e.data.code?(a.$message.success("删除完成!"),a.getUserAll(a.form)):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error(e)}))},resetForm:function(e){"form"===e?(this.form=this.$options.data().form,this.form.deptId=""):this.$refs.addForm.resetFields(),this.getUserAll(this.form)},rowClick:function(e){this.row=e},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},getUserAll:function(e){var t=this;(0,W.fl)(e).then((function(e){t.$bus.$emit("total",e.data.data.total),t.resultList=e.data.data.records}))}},created:function(){var e=this;this.getUserAll(this.form),(0,W.lR)().then((function(t){e.treeArr=(0,P.fn)(t.data.data)}))},computed:{getterDeptIdList:function(){return(0,P.fn)(this.deptIdList)},defaultProps:function(){return{children:"children",label:"deptName",value:"deptId",expandTrigger:"hover"}}},watch:{timer:function(e){this.addForm.createTime=e[0],this.addForm.endTime=e[1]},isShow:function(e,t){e||(this.addForm=this.$options.data().addForm,this.form=this.$options.data().form)}}},me=ce,ue=(0,c.Z)(me,B,J,!1,null,"c6385428",null),fe=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"组织管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.find()}}},[e._v("搜索")]),a("el-button",{on:{click:function(t){return e.clear()}}},[e._v("重置")])],1),a("div",{staticClass:"add"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showForm("添加组织")}}},[e._v("添加组织")])],1)],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,visible:e.dialogFormVisible,"destroy-on-close":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"组织名称","label-width":e.formLabelWidth,prop:"deptName"}},[a("el-input",{staticClass:"input",staticStyle:{width:"100%"},attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.deptName,callback:function(t){e.$set(e.addForm,"deptName",t)},expression:"addForm.deptName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{staticClass:"input",staticStyle:{width:"100%"},attrs:{type:"number",autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"上级组织","label-width":e.formLabelWidth,prop:"parentId"}},[a("treeselect",{attrs:{multiple:!1,disabled:e.isDisabled,options:e.formatList,normalizer:e.normalizer},model:{value:e.parent,callback:function(t){e.parent=t},expression:"parent"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),a("div"),e._m(0),a("el-tree",{ref:"tree",attrs:{data:e.formatList,indent:20,"default-expanded-keys":e.defaulExpanded,"expand-on-click-node":!1,"node-key":"deptId","filter-node-method":e.filterNode,props:e.defaultProps,accordion:""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var r=t.data;return a("div",{staticClass:"custom-tree-node"},[a("div",{staticClass:"tree"},[a("div",{staticClass:"tree-path"},[e._v(" "+e._s(r.deptName)+" ")]),a("div",{staticClass:"item-r"},[a("div",[e._v(e._s(r.createTime))])]),a("div",{staticClass:"item-r"},[0===r.status?a("div",[e._v("启用")]):a("div",[e._v("停用")])]),a("div",{staticClass:"item-r"},[a("el-link",{staticClass:"link",attrs:{type:"primary"},on:{click:function(t){return e.currentShow(0)}}},[e._v("新增下一级")]),a("el-link",{staticClass:"link",attrs:{type:"primary"},on:{click:function(t){return e.currentShow(1)}}},[e._v("编辑")]),a("el-link",{staticClass:"link",attrs:{type:"primary"},on:{click:function(t){return e.currentShow(2)}}},[e._v("删除")])],1)])])}}])})],1)],1)},he=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree-menu"},[a("div",{staticClass:"tree-path"},[a("span",{staticStyle:{"margin-left":"20px"}},[e._v(" 显示组织 ")])]),a("div",{staticClass:"item-r"},[a("div",[e._v("创建时间")])]),a("div",{staticClass:"item-r"},[a("div",[e._v("部门状态")])]),a("div",{staticClass:"item-r"},[a("div",[e._v("操作")])])])}],be=(a(47941),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{ref:"popover",attrs:{placement:"bottom-start",trigger:"click"},on:{show:e.onShowPopover,hide:e.onHidePopover}},[a("el-tree",{ref:"tree",staticClass:"select-tree",style:"min-width: "+e.treeWidth,attrs:{"highlight-current":"",data:e.data,props:e.props,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":!1},on:{"node-click":e.onClickNode}}),a("el-input",{ref:"input",class:{rotate:e.showStatus},style:"width: "+e.width+"px",attrs:{slot:"reference",clearable:"","suffix-icon":"el-icon-arrow-down",placeholder:e.placeholder},slot:"reference",model:{value:e.labelModel,callback:function(t){e.labelModel=t},expression:"labelModel"}})],1)}),ge=[],ve=(a(38862),a(92222),a(21249),{name:"Pagination",props:{value:String,width:String,options:{type:Array,required:!0},placeholder:{type:String,required:!1,default:"请选择"},props:{type:Object,required:!1,default:function(){return{parent:"parentId",value:"deptId",label:"deptName",children:"children"}}}},model:{prop:"value",event:"selected"},computed:{dataType:function(){var e=JSON.stringify(this.options);return-1!==e.indexOf(this.props.children)},data:function(){return this.dataType?this.options:this.switchTree()}},watch:{labelModel:function(e){e||(this.valueModel=""),this.$refs.tree.filter(e)},value:function(e){this.labelModel=this.queryTree(this.data,e)}},data:function(){return{showStatus:!1,treeWidth:"auto",labelModel:"",valueModel:"0"}},created:function(){var e=this;this.value&&(this.labelModel=this.queryTree(this.data,this.value)),this.$nextTick((function(){e.treeWidth="".concat((e.width||e.$refs.input.$refs.input.clientWidth)-24,"px")}))},methods:{onClickNode:function(e){this.labelModel=e[this.props.label],this.valueModel=e[this.props.value],this.onCloseTree()},switchTree:function(){return this.cleanChildren(this.buildTree(this.options,"0"))},onCloseTree:function(){this.$refs.popover.showPopper=!1},onShowPopover:function(){this.showStatus=!0,this.$refs.tree.filter(!1)},onHidePopover:function(){this.showStatus=!1,this.$emit("selected",this.valueModel)},filterNode:function(e,t){return!e||-1!==t[this.props.label].indexOf(e)},queryTree:function(e,t){var a=[];a=a.concat(e);while(a.length){var r=a.shift();if(r[this.props.children]&&(a=a.concat(r[this.props.children])),r[this.props.value]===t)return r[this.props.label]}return""},buildTree:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",r=function a(r){for(var o=[],l=0;l<e.length;l++){var i=e[l];i[t.props.parent]===r&&(i.children=a(i.rowGuid),o.push(i))}return o};return r(a)},cleanChildren:function(e){var t=function e(t){return t.map((function(t){return t.children.length?e(t.children):delete t.children,t})),t};return t(e)}}}),ye=ve,Fe=(0,c.Z)(ye,be,ge,!1,null,null,null),we=Fe.exports,ke={name:"serve-manage",data:function(){var e=function(e,t,a){(0,re.qh)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},isDisabled:!1,title:"新增下一级",dialogFormVisible:!1,dialogFormVisibles:!1,defaultShowNodes:[],formLabelWidth:"120px",form:{},defaulExpanded:[],addForm:{deptName:"",orderNum:"",parentId:void 0,status:0},clickCount:0,parentName:"",row:{},formatList:[],stats:[{label:"启用",value:"启用"},{label:"禁用",value:"禁用"}],defaultProps:{children:"children",label:"deptName"},currentNodeKey:"",showTitle:["新增下一级","编辑","删除"],showIndex:null,list:[],rules:{deptName:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],orderNum:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"},{validator:e,message:"请输入合法的数字",trigger:"blur"}],ancestors:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],parentId:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}]}}},methods:{getOrganizeList:function(e){var t=this;(0,W.lR)(e).then((function(e){t.$emit("total",e.data.data.total),t.formatList=(0,P.fn)(e.data.data),t.formatList.forEach((function(e){t.defaulExpanded.push(e.deptId)}))})).catch((function(e){t.$message.error(e)}))},filterNode:function(e,t){return!e||-1!==t.deptName.indexOf(e)},find:function(){this.$refs.tree.filter(this.form.deptName)},clear:function(){0!==Object.keys(this.form).length&&(this.form=this.$options.data().form,this.getOrganizeList(this.form))},currentShow:function(e){this.showIndex=e},handleNodeClick:function(e){this.row=e,null===this.showIndex?console.log("1"):this.showForm(this.showTitle[this.showIndex])},showForm:function(e){"编辑"===e?(this.dialogFormVisible=!0,this.title=e,this.addForm.deptId=this.row.deptId,this.addForm.deptName=this.row.deptName,this.addForm.orderNum=this.row.orderNum,this.addForm.parentId=this.row.parentId):"添加组织"===e||"新增下一级"===e?(this.dialogFormVisible=!0,this.title=e,this.addForm=this.$options.data().addForm,this.addForm.parentId=this.row.deptId):(console.log(e),this.removeIt(),this.showIndex=null)},removeIt:function(){var e=this;(0,W.jW)(this.row.deptId).then((function(t){200===t.data.code?(e.defaulExpanded.push(e.row.parentId),e.getOrganizeList(e.form),e.$message.success("提交完成")):e.$message.error(t.data.msg)}))},getSelectedValue:function(e){this.addForm.parentId=e},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){t&&("添加组织"===e.title?(0,W.Vb)(e.addForm).then((function(t){200===t.data.code?(e.dialogFormVisible=!1,e.getOrganizeList(e.form),e.$message.success("提交完成")):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t)})):(0,W.kV)(e.addForm).then((function(t){200===t.data.code?(e.dialogFormVisible=!1,e.getOrganizeList(e.form),e.defaulExpanded.push(e.row.deptId),e.$message.success("提交完成")):e.$message.error(t.data.msg)})))}))}},watch:{dialogFormVisible:function(e){e||(this.showIndex=null)}},components:{myTree:de,myFooter:z.Z,myElTree:we,treeselect:R(),myElHeader:V.Z},created:function(){this.getOrganizeList(this.form)},computed:{createTime:function(){return this.addForm.createTime=(0,P.FS)()},parentId:function(){return parseInt(this.row.parentId)},parent:{get:function(){return"0"===this.addForm.parentId?(this.isDisabled=!0,this.addForm.deptId):(this.isDisabled=!1,this.addForm.parentId)},set:function(e){return this.addForm.parentId=e}}}},xe=ke,_e=(0,c.Z)(xe,pe,he,!1,null,"fee3aef6",null),Ce=_e.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"字典类型"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"data-manage"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-l"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"destroy-on-close":"",inline:"",rules:e.rule,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典类型名称",prop:"name","label-width":"180"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"字典编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"字典状态",prop:"status"}},[a("el-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("查找")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)]),a("div",{staticClass:"nav-l"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加字典类型")}}},[e._v("添加字典类型")])],1)]),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"destroy-on-close":"",title:e.title,visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"字典类型编码","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),a("el-radio",{attrs:{label:2}},[e._v("停用")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("div",{ref:"tables",staticClass:"table-warp"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.resultList}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"字典类型名称"}}),a("el-table-column",{attrs:{align:"center",prop:"code",label:"字典类型编码"}}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"更新时间"}}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"字典"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.toPath(t.row)}}},[e._v("查看字典")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"sort",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("a",[e._v("启用")]):a("a",[e._v("停用")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"sort",label:"操作",width:e.$store.state.tableMixWidth,fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除")])],1)]],2)]}}])})],1)],1)],1)]),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,pageCheng:e.changPage,change:e.change}})],1)},Ne=[],Ie=(a(68309),{name:"dataManage",components:{myEmpty:ae.Z,myFooter:z.Z,myElHeader:V.Z},data:function(){return{title:"",formLabelWidth:"120px",dialogFormVisible:!1,resultList:[],maxHeight:null,addForm:{name:"",status:1,code:"",pageNum:1,pageSize:10},form:{},rules:{name:[{required:!0,message:"请输入字典类型名称",trigger:"blur"}],mark:[{required:!0,message:"请输入标示码",trigger:"blur"}],code:[{required:!0,message:"请输入字典类型编码",trigger:"blur"}]},rule:{name:[{required:!1,message:"请输入字典类型名称",trigger:"blur"}],code:[{required:!1,message:"请输入标示码",trigger:"blur"}],status:[{required:!1,message:"请输入字典类型编码",trigger:"blur"}]},status:[{label:"启用",value:0},{label:"停用",value:1}]}},methods:{submitForm:function(){this.dictionaryList(this.form)},next:function(){this.form.pageNum++,console.log(this.form),this.dictionaryList(this.form)},prev:function(){this.form.pageNum--,this.dictionaryList(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.dictionaryList(this.form)},changPage:function(e){this.form.pageSize=e,this.dictionaryList(this.form)},submitAddForm:function(){var e=this;this.$refs["addForm"].validate((function(t){t&&("添加字典类型"===e.title?(0,W.TO)(e.addForm).then((function(t){e.dictionaryList()})):e.aa(e.addForm),e.dialogFormVisible=!1,e.$message({message:"提交完成",type:"success"}),e.dialogFormVisible=!1)}))},handleClose:function(){var e=this;this.$confirm("确认关闭？").then((function(t){e.dialogFormVisible=!1,e.dictionaryList(e.form)})).catch((function(e){}))},resetForm:function(e){"form"===e?this.$refs.form.resetFields():this.$refs.addForm.resetFields(),this.addForm=this.$options.data().addForm,this.form=this.$options.data().form,this.dictionaryList(this.form)},toPath:function(e){this.$router.push({path:"/home/layout/dicManage",query:{id:e.id,name:e.name,code:e.code}}),this.$store.dispatch("dictionaryData",e)},aa:function(e){var t=this,a={};a.id=e.id,a.code=e.code,a.name=e.name,a.status=e.status,(0,W.ZU)(a).then((function(e){})).catch((function(e){t.$message.error(e)}))},removeIt:function(e){var t=this;(0,W.Mu)(e.id).then((function(e){200===e.data.code?t.dictionaryList(t.form):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error(e)}))},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0,this.addForm=e,this.addForm="编辑"===t?e:this.$options.data().addForm},dictionaryList:function(e){var t=this;(0,W.Ee)(e).then((function(e){t.resultList=e.data.data["records"],t.$bus.$emit("total",e.data.data.total)})).catch((function(e){t.$message.error(e)}))}},created:function(){this.dictionaryList(this.form)},computed:{creatTimes:function(){return this.addForm.creatTime=(0,P.FS)()}}}),Le=Ie,Se=(0,c.Z)(Le,$e,Ne,!1,null,"432d61a8",null),Te=Se.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{height:"100%","margin-top":"0"}},[a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.from}},[a("el-form-item")],1),a("a",[a("el-button",{attrs:{type:"primary"},on:{click:e.black}},[e._v("返回 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加字典")}}},[e._v("添加字典 ")])],1)],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,visible:e.dialogFormVisible,"destroy-on-close":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.riles}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"排序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"字典类型",prop:"code","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}},[e._v("aqa")])],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"是否启用","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.resultList,"header-cell-style":{background:"#ccc",color:"#fff"}}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"字典名称"}}),a("el-table-column",{attrs:{align:"center",prop:"createBy",label:"创建人"}}),a("el-table-column",{attrs:{align:"center",prop:"status",label:"标示码"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("div",[e._v(" 启用")]):a("div",[e._v("禁用")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{align:"center",prop:"mark",label:"操作",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("a",{staticStyle:{"margin-right":"20px"},on:{click:function(a){return e.showAddForm(t.row,"修改")}}},[e._v("修改")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row.id)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除")])],1)]],2)]}}])})],1)],1)},Pe=[],Ve={name:"serve-manage",data:function(){return{isShow:!1,title:"新增",from:{searchInp:""},formLabelWidth:"120px",dialogFormVisible:!1,resultList:[],showData:"",addForm:{name:"",creatTime:"",code:"",pageNum:1,pageSize:10,orderNum:"",typeId:"",status:0},codeList:[],riles:{name:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],desc:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],mark:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],orderNum:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],code:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}]}}},computed:{creatTime:function(){return this.addForm.creatTime=(0,P.FS)()},code:function(){return this.$route.query.name}},methods:{toPath:function(){this.$router.push({name:"dataManage"})},disabled:function(e){return 1!=e},submitAddForm:function(){var e=this;this.$refs["addForm"].validate((function(t){var a={pageNum:1,pageSize:10};a.code=e.$route.query.code,t&&(e.addForm.typeId=e.$route.query.id,"修改"===e.title?(0,W.t1)(e.addForm).then((function(t){200===t.data.code?(e.$message.success("修改完成！"),e.getDictionaryAll(a)):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t)})):(0,W.BF)(e.addForm).then((function(t){200===t.data.code?(e.$message.success("添加完成！"),e.getDictionaryAll(a)):e.$message.error(t.data.msg)})),e.dialogFormVisible=!1)}))},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0,"修改"===t&&(this.addForm=e)},black:function(){this.$router.go(-1)},removeIt:function(e){var t=this;console.log(e),(0,W.oj)(e).then((function(e){200===e.data.code&&(t.$message.success("删除成功！"),t.addForm.code=t.$route.query.code,t.getDictionaryAll(t.addForm))})).catch((function(e){t.$message.error(e)}))},getDictionaryAll:function(e){var t=this;(0,W.wQ)(e).then((function(e){console.log(e),t.resultList=e.data.data})).catch((function(e){t.$message.error(e)}))}},created:function(){this.addForm.code=this.$route.query.code,this.getDictionaryAll(this.addForm)},watch:{dialogFormVisible:function(e){e||(this.addForm=this.$options.data().addForm)}}},qe=Ve,Re=(0,c.Z)(qe,We,Pe,!1,null,"17ab8b94",null),De=Re.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps roleManage"},[a("el-header",[a("my-el-header",{attrs:{title:"角色管理"}})],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("div",{staticClass:"nav-l"},[a("el-form",{ref:"form",attrs:{"label-width":"40px",inline:!0,rules:e.form_rules,model:e.navForm}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.navForm.roleName,callback:function(t){e.$set(e.navForm,"roleName",t)},expression:"navForm.roleName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.navForm.status,callback:function(t){e.$set(e.navForm,"status",t)},expression:"navForm.status"}},e._l(e.status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clearForm}},[e._v("重置")])],1),a("div",{staticClass:"nav-r"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"添加角色")}}},[e._v("添加角色")])],1)]),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:"数据权限",visible:e.dialogFormVisibles,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisibles=t}}},[a("el-form",{attrs:{model:e.dataScopeForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入内容"},model:{value:e.dataScopeForm.roleName,callback:function(t){e.$set(e.dataScopeForm,"roleName",t)},expression:"dataScopeForm.roleName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"数据权限","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.dataScopeForm.dataScope,callback:function(t){e.$set(e.dataScopeForm,"dataScope",t)},expression:"dataScopeForm.dataScope"}},e._l(e.dataScopeType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),2===e.dataScopeForm.dataScope?a("el-form-item",{attrs:{label:"数据权限","label-width":e.formLabelWidth,required:""}},[a("el-tree",{attrs:{props:"permission",data:e.formatList,"default-checked-keys":e.defaultMenuIds,props:e.defaultProps,"node-key":"deptId",accordion:"","check-on-click-node":!0,"show-checkbox":""},on:{check:e.checkChange}})],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibles=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitDataScopeForm(e.dataScopeForm)}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"destroy-on-close":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth,prop:"roleName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"角色编码","label-width":e.formLabelWidth,prop:"roleCode"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.roleCode,callback:function(t){e.$set(e.addForm,"roleCode",t)},expression:"addForm.roleCode"}})],1)],1),a("el-form-item",{attrs:{label:"菜单权限","label-width":e.formLabelWidth,prop:"roleCode"}},[a("el-tree",{ref:"tree",attrs:{props:"permission",data:e.menuIds,"default-checked-keys":e.defaultMenuIds,props:e.menuProps,"node-key":"menuId","check-strictly":"",accordion:"","check-on-click-node":!0,"show-checkbox":""},on:{"check-change":e.getChange,check:e.menuChange}})],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"权限状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定 ")])],1)],1),0!==e.list.length?a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"max-height":"800px",data:e.list,"header-cell-style":{background:"#ccc",color:"#fff"},height:"calc(100vh - 400px)"}},[a("el-table-column",{attrs:{prop:"date",align:"center",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,811300409)}),a("el-table-column",{attrs:{prop:"roleName",align:"center",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"数据权限"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.distribution(t.row)}}},[e._v("数据权限")])]}}],null,!1,3416576867)}),a("el-table-column",{attrs:{prop:"name",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("p",[e._v(" 启用 ")]):a("p",[e._v(" 禁用 ")])]}}],null,!1,1717999403)}),a("el-table-column",{attrs:{align:"center",prop:"address",fixed:"right",width:e.$store.state.tableMixWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.addForms(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row,"删除")}}},[a("el-link",{staticClass:"link-item",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])],1)]],2)]}}],null,!1,772042557)})],1):a("my-empty")],1),a("my-footer",{attrs:{form:e.navForm},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},Ae=[],Ze={name:"role-manage",data:function(){var e=function(e,t,a){(0,re.qh)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{menuIds:[],formLabelWidth:"120px",dialogFormVisible:!1,dialogFormVisibles:!1,title:"新增",navForm:{pageSize:14,pageNum:1,orderNum:"",roleCode:"",roleName:"",status:""},formatList:[],defaultMenuIds:[],timer:{},addForm:{menuIds:[],pageSize:14,pageNum:1,orderNum:"",roleCode:"",roleName:"",status:0},total:0,selectMenuList:[],dataScopeForm:{dataScope:""},list:[],rules:{roleName:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],orderNum:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"},{validator:e,message:"请输入合法的数字",trigger:"blur"}],roleCode:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],permission:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],status:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}]},form_rules:{roleName:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}],status:[{required:!1,message:"此项为必填项，请确认",trigger:"blur"}]},isVacancy:!0,defaultProps:{children:"children",label:"deptName"},menuProps:{children:"children",label:"menuName"},status:[{label:"启用",value:0},{label:"停用",value:1}],dataScopeType:[{label:"本人",value:5},{label:"本部门数据权限",value:3},{label:"本部门及一下数据权限",value:4},{label:"全部数据权限",value:1},{label:"自定义数据权限",value:2}],defaultExpand:[]}},watch:{dialogFormVisibles:function(e){var t=this;e?(console.log(this.dataScopeForm),this.dataScopeForm.sysDeptList.forEach((function(e){t.defaultMenuIds.push(e.deptId)})),this.dataScopeForm.deptIds=this.defaultMenuIds):this.defaultMenuIds=[]},dialogFormVisible:function(e){var t=this;e?"编辑"===this.title?(this.defaultMenuIds=[],console.log(this.addForm.sysMenuList),this.addForm.sysMenuList.forEach((function(e){t.defaultMenuIds.push(e.menuId)}))):this.defaultMenuIds=[]:this.addForm=this.$options.data().addForm}},methods:{next:function(){this.navForm.pageNum--,this.getRoleList(this.navForm)},prev:function(){this.navForm.pageNum++,this.getRoleList(this.navForm)},change:function(e){this.navForm.pageNum=e,this.getRoleList(this.navForm)},pageCheng:function(e){this.navForm=this.$options.data().navForm,this.navForm.pageSize=e,this.getRoleList(this.navForm)},distribution:function(e){this.dialogFormVisibles=!0,this.getOrganizeList(),this.dataScopeForm.roleId=e.roleId,this.dataScopeForm=e},getOrganizeList:function(){var e=this;(0,W.lR)().then((function(t){console.log(t),200===t.data.code&&(e.formatList=(0,P.fn)(t.data.data))}))},submitDataScopeForm:function(e){var t=this;(0,W.tb)(e).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getRoleList(t.navForm),t.dialogFormVisibles=!1):t.$message.error(e.data.msg)}))},menuChange:function(e,t){this.addForm.menuIds=t.checkedKeys,this.changeAddForm()},addForms:function(e,t){var a=this;if(this.dialogFormVisible=!0,this.title=t,"添加角色"===this.title)this.addForm=this.$options.data().addForm;else{this.addForm=e;var r=e.sysMenuList;console.log(r);var o=[];e.sysMenuList.forEach((function(e){o.push(e.menuId)})),this.addForm.menuIds=o}(0,W.SD)().then((function(e){a.menuIds=(0,P.i6)(e.data.data)})).catch((function(e){a.$message.error(e)}))},find:function(){this.getRoleList(this.navForm)},clearForm:function(){this.navForm=this.$options.data().navForm,this.getRoleList(this.navForm)},removeIt:function(e){var t=this;(0,W.m4)(e.roleId).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getRoleList(t.navForm)):t.$message.error(e.data.msg)}))},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return!1;"新增"===e.title?(0,W._d)(e.addForm).then((function(t){200===t.data.code?(e.$message.success("提交完成"),e.getRoleList(e.navForm),e.resetForm(),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})).catch((function(t){return e.$message.error(t)})):(0,W.dQ)(e.addForm).then((function(t){200===t.data.code?(e.$message.success("提交完成"),e.getRoleList(e.navForm),e.dialogFormVisible=!1):e.$message.error(t.data.msg)}))}))},getChange:function(e,t){if(null!==e.parentId)if(!0===t)this.$refs.tree.setChecked(e.parentId,!0);else{for(var a=this.$refs.tree.getNode(e.parentId),r=!1,o=0,l=a.childNodes.length;o<l;o++)if(!0===a.childNodes[o].checked){r=!0;break}r||this.$refs.tree.setChecked(e.parentId,!1)}if(null!=e.children&&!1===t)for(var i=0,s=e.children.length;i<s;i++){var n=this.$refs.tree.getNode(e.children[i].id);!0===n.checked&&this.$refs.tree.setChecked(n.data.id,!1)}},resetForm:function(e){"form"===e?this.$refs.form.resetFields():this.$refs.addForm.resetFields(),this.getRoleList(this.navForm)},checkChange:function(e,t){var a=this;this.dataScopeForm.deptIds=[];var r=(0,P.dw)(t.checkedNodes);console.log(r),r.forEach((function(e){return a.dataScopeForm.deptIds.push(e.deptId)})),this.changeAddForm()},changeAddForm:function(){this.addForm.hasOwnProperty("sysDeptList")&&0===this.addForm.sysDeptList.length?this.isVacancy=!0:this.isVacancy=!1},getRoleList:function(e){var t=this;(0,W.JV)(e).then((function(e){t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records})).catch((function(e){t.$message.error(e)}))}},created:function(){this.getRoleList(this.navForm)},components:{myEmpty:ae.Z,myFooter:z.Z,myElHeader:V.Z}},Me=Ze,Ge=(0,c.Z)(Me,Ee,Ae,!1,null,"78be4146",null),ze=Ge.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"话机管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"phone-r"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"分机名称",prop:"directoryName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.directoryName,callback:function(t){e.$set(e.form,"directoryName",t)},expression:"form.directoryName"}})],1),a("el-form-item",{attrs:{label:"域地址",prop:"domain"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.domain,callback:function(t){e.$set(e.form,"domain",t)},expression:"form.domain"}})],1),a("el-form-item",{attrs:{label:"计费方式",prop:"billingType"}},[a("el-select",{attrs:{placeholder:"计费方式"},model:{value:e.form.billingType,callback:function(t){e.$set(e.form,"billingType",t)},expression:"form.billingType"}},e._l(e.billingType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"添加话机")}}},[e._v("添加话机 ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,"header-cell-style":{background:"#ccc",color:"#fff"},data:e.list,height:"calc(100vh - 100px - 100px - 100px - 100px)"}},[a("el-table-column",{attrs:{prop:"date",align:"center",label:"序号",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"directoryName",label:"分机名称"}}),a("el-table-column",{attrs:{align:"center",prop:"directoryNumber",label:"分机号码"}}),a("el-table-column",{attrs:{align:"center",prop:"diaplanName",label:"拨号方案"}}),a("el-table-column",{attrs:{align:"center",prop:"deptName",label:"部门"}}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"中继组"}}),a("el-table-column",{attrs:{align:"center",prop:"domain",label:"域地址"}}),a("el-table-column",{attrs:{align:"center",prop:"balance",label:"余额"}}),a("el-table-column",{attrs:{align:"center",prop:"expire",label:"超时时长"}}),a("el-table-column",{attrs:{align:"center",prop:"overdraft",label:"计费方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.billingType?a("div",[e._v("后付费")]):a("div",[e._v("预付费")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"bussiness",label:"业务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatBussiness(t.row))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"address",label:"操作",fixed:"right",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.recharge(t.row)}}},[e._v("充值")]),a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.addForms(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1)],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,"close-on-click-modal":!1,visible:e.dialogFormVisible,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{labelPosition:e.labelPosition,model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"分机名称","label-width":e.formLabelWidth,prop:"directoryName"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.directoryName,callback:function(t){e.$set(e.addForm,"directoryName",t)},expression:"addForm.directoryName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"资源类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"鉴权用户","label-width":e.formLabelWidth,prop:"directoryNumber"}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.addForm.directoryNumber,callback:function(t){e.$set(e.addForm,"directoryNumber",t)},expression:"addForm.directoryNumber"}})],1),a("el-form-item",{attrs:{label:"鉴权密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"域地址","label-width":e.formLabelWidth,prop:"domain"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.domain,callback:function(t){e.$set(e.addForm,"domain",t)},expression:"addForm.domain"}})],1)],1),a("div",{staticClass:"width"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"计费账号","label-width":e.formLabelWidth,prop:"accountUser"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},on:{change:e.accountUserChange},model:{value:e.addForm.accountUser,callback:function(t){e.$set(e.addForm,"accountUser",t)},expression:"addForm.accountUser"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"账户余额","label-width":"50",prop:"balance"}},[a("el-input",{attrs:{disabled:"添加话机"!==e.title,placeholder:"请输入内容"},model:{value:e.addForm.balance,callback:function(t){e.$set(e.addForm,"balance",t)},expression:"addForm.balance"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"计费方式","label-width":"50",prop:"billingType"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.addForm.billingType,callback:function(t){e.$set(e.addForm,"billingType",t)},expression:"addForm.billingType"}},e._l(e.billingType,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"支持的业务类型","label-width":e.formLabelWidth,prop:"bussiness"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:e.change},model:{value:e.bussinessList,callback:function(t){e.bussinessList=t},expression:"bussinessList"}},e._l(e.bussiness,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"使能状态","label-width":e.formLabelWidth,prop:"disable"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.disable,callback:function(t){e.$set(e.addForm,"disable",t)},expression:"addForm.disable"}},e._l(e.disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"部门名称","label-width":e.formLabelWidth,prop:"deptId"}},[a("treeselect",{attrs:{multiple:!1,options:e.deptIdList,normalizer:e.normalizer,placeholder:"请输入内容"},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"拨号方案","label-width":e.formLabelWidth,prop:"diaplan"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.diaplanChange},model:{value:e.addForm.diaplan,callback:function(t){e.$set(e.addForm,"diaplan",t)},expression:"addForm.diaplan"}},e._l(e.diaPlanList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.diaplanName,value:e.id}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"超时时长","label-width":e.formLabelWidth,prop:"expire"}},[a("el-input",{staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.addForm.expire,callback:function(t){e.$set(e.addForm,"expire",t)},expression:"addForm.expire"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"经度",labelPosition:e.labelPosition,"label-width":e.formLabelWidth,prop:"latitude"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.latitude,callback:function(t){e.$set(e.addForm,"latitude",t)},expression:"addForm.latitude"}})],1),a("el-form-item",{attrs:{label:"纬度",labelPosition:e.labelPosition,"label-width":e.formLabelWidth,prop:"longitude"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.longitude,callback:function(t){e.$set(e.addForm,"longitude",t)},expression:"addForm.longitude"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("el-dialog",{attrs:{title:"充值提示",visible:e.showBar,width:"30%",center:""},on:{"update:visible":function(t){e.showBar=t}}},[a("p",{staticClass:"title"},[a("b",[e._v("充值提醒：")]),a("span",[e._v("你将要为 "+e._s(e.rechargeInfo.directoryNumber)+"进行充值")])]),a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.chongZhi.balance,callback:function(t){e.$set(e.chongZhi,"balance",t)},expression:"chongZhi.balance"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showBar=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit(e.rechargeInfo)}}},[e._v("确 定")])],1)],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.footerChange,pageCheng:e.pageCheng}})],1)},He=[],je=(a(74916),a(23123),a(69600),a(1142)),Ue=a(37324);function Be(e){return console.log(e),(0,Ue.W)({url:"/pbx/directory/add",method:"post",data:e})}function Je(e){return(0,Ue.W)({url:"/pbx/directory/list",params:e})}function Ke(e){return(0,Ue.W)({url:"/pbx/directory/update",method:"put",data:e})}function Qe(e){return(0,Ue.W)({url:"/pbx/directory/delete/"+e,method:"delete"})}function Ye(e){return(0,Ue.W)({url:"/pbx/directory/recharge",method:"put",data:e})}function Xe(e){return(0,Ue.W)({url:"/pbx/fifo/list",params:e})}function et(e){return(0,Ue.W)({url:"/pbx/fifo/add",data:e,method:"post"})}function tt(e){return(0,Ue.W)({url:"/pbx/fifo/update",data:e,method:"put"})}function at(e){return(0,Ue.W)({url:"/pbx/fifo/delete/"+e,method:"delete"})}function rt(){return(0,Ue.W)({url:"/pbx/fifo/unbound/list"})}function ot(){return(0,Ue.W)({url:"/pbx/directory/router/in/list"})}function lt(){return(0,Ue.W)({url:"/pbx/directory/router/out/list"})}function it(e){return(0,Ue.W)({url:"/pbx/conference/record/list",params:e})}function st(e){return(0,Ue.W)({url:"/pbx/conference/record/detail",params:e})}function nt(e){return(0,Ue.W)({url:"/pbx/cdr/list",params:e})}function dt(e){return(0,Ue.W)({url:"/pbx/config/reload",params:{type:e}})}function ct(e){return(0,Ue.W)({url:"/pbx/cdr/intercept/list",params:e})}var mt={name:"phoneConfig",components:{eTree:te,myEmpty:ae.Z,myTree:de,myFooter:z.Z,myElHeader:V.Z,treeselect:R()},computed:{getterDeptIdList:function(){return(0,P.fn)(this.deptIdList)},deptIds:function(){return this.addForm.deptId}},data:function(){var e=function(e,t,a){(0,re.t0)(t)?a():a(new Error("ip地址输入有误,请确认"))},t=function(e,t,a){(0,re.qh)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},labelPosition:"right",title:"添加话机",dialogFormVisible:!1,formLabelWidth:"150px",showBar:!1,form:{directoryName:"",domain:"",billingType:""},deptId:"",diaPlanList:[],rechargeInfo:{value:null},bussinessList:[],chongZhi:{},addForm:{domain:"",accountUser:"",balance:"",billingType:1,bussiness:0,deptId:null,diaplan:"",directoryName:"",directoryNumber:"",disable:0,endpointId:"45",expire:60,latitude:"",longitude:"",password:"",rateGroup:"",type:0},dialPlanList:[],list:[],deptIdList:[],rateGroup:[],typeList:[{label:"系统分机",value:0},{label:"广告终端",value:1},{label:"视频流",value:2},{label:"视频会议终端",value:3},{label:"入队列路由点",value:4},{label:"出路由点号码",value:5},{label:"广播路由点",value:6},{label:"临时会议路由点",value:7},{label:"固定会议路由点",value:8}],billingType:[{label:"预付费",value:1},{label:"后付费",value:2}],relayType:[{label:"开启",value:"开启"},{label:"关闭",value:"关闭"}],rules:{accountUser:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],directoryName:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],billingType:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],bussiness:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],directoryNumber:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"},{validator:t,message:"请输入合法的数字",trigger:"blur"}],password:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],balance:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"},{validator:t,message:"请输入合法的数字",trigger:"blur"}],domain:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"},{validator:e,message:"IP输入有误, 请确认",trigger:"blur"}],disable:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],deptId:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],diaplan:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],rateGroup:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],expire:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"},{validator:t,message:"请输入合法的数字",trigger:"blur"}],type:[{required:!0,message:"该项为必填项目,请确认",trigger:"blur"}],latitude:[{required:!1,message:"该项为必填项目,请确认",trigger:"blur"}],longitude:[{required:!1,message:"该项为必填项目,请确认",trigger:"blur"}]},bussiness:[{label:"语音",value:"0"},{label:"视频",value:"1"},{label:"广播",value:"2"}],disable:[{label:"正常",value:0},{label:"失效",value:1}]}},methods:{next:function(){this.form.pageNum++,console.log(this.form),this.getDirectory(this.form)},formatBussiness:function(e){var t="";if(e.bussiness){var a=e.bussiness.split(",");return a.forEach((function(e,a){var r="";switch(e){case"0":r="语音";break;case"1":r="视频";break;case"2":r="广播";break}a>0?t=t+", "+r:t+=r})),t}},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getDirectory(this.form)},prev:function(){this.form.pageNum--,this.getDirectory(this.form)},footerChange:function(e){console.log(e),this.form.pageNum=e,this.getDirectory(this.form)},find:function(){this.getDirectory(this.form)},getSelectedValue:function(e){this.addForm.deptId=e.deptId},clear:function(){this.form=this.$options.data().form,this.getDirectory(this.form)},change:function(){this.addForm.bussiness=this.bussinessList.join(",")},diaplanChange:function(){this.addForm.rateGroup=this.addForm.diaplan},accountUserChange:function(){this.addForm.directoryNumber=this.addForm.accountUser},submitForm:function(){var e=this;this.$refs["addForm"].validate((function(t){if(!t)return!1;"编辑"!==e.title?Be(e.addForm).then((function(t){200===t.data.code?(e.$message.success("提交完成"),e.getDirectory(e.form),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})).catch((function(t){return e.$message.error(t)})):Ke(e.addForm).then((function(t){200===t.data.code?(e.getDirectory(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)}))}))},addForms:function(e,t){var a=this;this.dialogFormVisible=!0,this.title=t,"编辑"===t&&!0===this.dialogFormVisible?(this.addForm=e,this.$nextTick((function(){a.bussinessList=a.addForm.bussiness.split(",")}))):(this.addForm=this.$options.data().addForm,this.$nextTick((function(){a.bussinessList=[]})))},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},removeIt:function(e){var t=this;Qe(e.id).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getDirectory(t.form)):t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))},resetForm:function(){this.$refs.form.resetFields()},recharge:function(e){this.showBar=!0,this.rechargeInfo=e,this.chongZhi.id=e.id},submit:function(){var e=this;Ye(this.chongZhi).then((function(t){200===t.data.code?(e.getDirectory(e.form),e.$message.success("充值完成"),e.chongZhi={}):e.$message.error(t.data.data)})).catch((function(t){return e.$message.error(t)})),this.showBar=!1},getDiaPlanList:function(e){var t=this;(0,je.EB)(e).then((function(e){200===e.data.code?t.dialPlanList=e.data.data.records:t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))},getDirectory:function(e){var t=this;Je(e).then((function(e){t.$bus.$emit("total",e.data.data.total),200===e.data.code&&(t.list=e.data.data.records)})).catch((function(e){return t.$message.error(e)}))},resetConfigure:function(){dt("sofia").then((function(e){console.log(e)}))}},created:function(){this.getDirectory(this.form)},mounted:function(){var e=this;this.$bus.$on("pageCheng",(function(t){e.form=e.$options.data().form,e.form.pageSize=t,e.getDirectory(e.form)}))},watch:{dialogFormVisible:function(e,t){var a=this;e?((0,W.lR)().then((function(e){a.deptIdList=(0,P.fn)(e.data.data)})).catch((function(e){return a.$message.error(e)})),this.form={pageSize:1e6},(0,je.EB)(this.form).then((function(e){a.diaPlanList=e.data.data.records})).catch((function(e){return a.$message.error(e)}))):(this.resetForm(),this.deptIdList=[],this.form=this.$options.data().form,this.getDirectory(this.form)),(0,je.pA)(this.form).then((function(e){a.rateGroup=e.data.data.records})).catch((function(e){return a.$message.error(e)}))},deptId:function(e){this.addForm.deptId=e[e.length-1]}}},ut=mt,ft=(0,c.Z)(ut,Oe,He,!1,null,"47474a9a",null),pt=ft.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"调度台"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"container-l"},[a("e-tree",{attrs:{data:e.treeArr},on:{treeClick:e.treeClick}})],1),a("div",{staticClass:"serve-container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,"close-on-click-modal":!1,model:e.form,rules:e.form}},[a("el-form-item",{attrs:{label:"调度台名称",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.dispatchName,callback:function(t){e.$set(e.form,"dispatchName",t)},expression:"form.dispatchName"}})],1),a("el-form-item",{attrs:{label:"队列号码",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoId,callback:function(t){e.$set(e.form,"fifoId",t)},expression:"form.fifoId"}})],1),a("el-form-item",{attrs:{label:"用户",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加调度台")}}},[e._v("添加调度台 ")])],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"destroy-on-close":"",title:e.title,"close-on-click-modal":!1,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"调度台名称","label-width":e.formLabelWidth,prop:"dispatchName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入调度台名称"},model:{value:e.addForm.dispatchName,callback:function(t){e.$set(e.addForm,"dispatchName",t)},expression:"addForm.dispatchName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属部门","label-width":e.formLabelWidth,prop:"deptId"}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,placeholder:"请选择",noOptionsText:"暂无数据",normalizer:e.normalizer},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"域","label-width":e.formLabelWidth,prop:"domain"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.domain,callback:function(t){e.$set(e.addForm,"domain",t)},expression:"addForm.domain"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"队列号码","label-width":e.formLabelWidth,prop:"fifoId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.fifoId,callback:function(t){e.$set(e.addForm,"fifoId",t)},expression:"addForm.fifoId"}},e._l(e.fifoIdList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.fifoName,value:e.id}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"用户","label-width":e.formLabelWidth,prop:"userId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:""},on:{change:e.blur},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.userList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"remark"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.list,"header-cell-style":{background:"#ccc",color:"#fff"},height:"calc(100vh - 100px - 100px - 100px - 100px)"}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"dispatchName",align:"center",label:"调度台名称"}}),a("el-table-column",{attrs:{prop:"domain",align:"center",label:"域"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row?a("span",[e._v(e._s(t.row.domain))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"fifoId",align:"center",label:"队列号码"}}),a("el-table-column",{attrs:{prop:"userId",align:"center",label:"用户"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.userList,(function(t){return a("span",[e._v(e._s(t.nickName))])}))}}])}),a("el-table-column",{attrs:{prop:"number",align:"center",label:"坐标","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v("经度："+e._s(t.row.latitude))]),a("p",[e._v("纬度："+e._s(t.row.longitude))])]}}])}),a("el-table-column",{attrs:{prop:"number",align:"center",label:"操作",fixed:"right",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1)],1)]),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,pageCheng:e.pageCheng}})],1)},bt=[],gt=(a(40561),{name:"observeOnDispatcher",components:{eTree:te,myFooter:z.Z,treeselect:R(),myElHeader:V.Z},data:function(){return{title:"添加调度台",dialogFormVisible:!1,formLabelWidth:"120px",form:{dispatchName:"",fifoId:"",nickName:""},userList:"",fifoIdList:"",list:[],userId:[],addForm:{deptId:void 0,dispatchName:"",domain:"",fifoId:"",userId:"",latitude:"",longitude:"",remark:""},treeArr:[],options:[{label:"启用",value:"启用"},{label:"停用",value:"停用"}],rules:{deptId:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],dispatchName:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],domain:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],fifoId:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],userId:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],remark:[{required:!1,message:"该选项为必填项， 请确认",trigger:"blur"}]}}},methods:{find:function(){this.getDeskList(this.form)},next:function(){this.form.pageNum++,this.getRateList(this.form)},prev:function(){this.form.pageNum--,this.getRateList(this.form)},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getDeskList(this.form)},change:function(e){this.form.pageNum=e,this.getRateList(this.form)},blur:function(){this.addForm.userId=this.userId.join(","),console.log(this.userId)},treeClick:function(e){this.form=this.$options.data().form,"100"===e.deptId?this.form.deptId="":this.form.deptId=e.deptId,console.log(this.form),this.getDeskList(this.form)},clear:function(){this.form=this.$options.data().form,this.getDeskList(this.form)},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return!1;e.dialogFormVisible=!1,"添加调度台"===e.title?e.addDesk():e.upDataDesk()}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},addDesk:function(){var e=this;(0,je.pB)(this.addForm).then((function(t){200===t.data.code?e.$message.success("提交完成"):e.$message.error(t.data.msg)}))},upDataDesk:function(){var e=this;(0,je.Dg)(this.addForm).then((function(t){200===t.data.code?e.$message.success("提交完成"):e.$message.error(t.data.msg)}))},showAddForm:function(e,t){var a=this;this.dialogFormVisible=!0,this.title=t,"编辑"===t&&(this.addForm=e,this.addForm.userList.forEach((function(e){a.userId.push(e.userId)})),this.blur())},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},removeIt:function(e){var t=this;at(e.id).then((function(e){console.log(e),200===e.data.code?t.$message.success("提交完成"):t.$message.error(e.data.msg)})),this.list.map((function(a,r){e===a&&t.list.splice(r,1)}))},recharge:function(e){this.showBar=!0,this.rechargeInfo=e},getDeskList:function(e){var t=this;(0,je.iV)(e).then((function(e){console.log(e),200===e.data.code&&(t.list=e.data.data.records,t.$bus.$emit("total",e.data.data.total))}))},getUserList:function(){var e=this;(0,W.fl)().then((function(t){console.log(t),e.userList=t.data.data.records}))},getFifo:function(){var e=this;rt().then((function(t){200===t.data.code&&(e.fifoIdList=t.data.data)}))}},watch:{dialogFormVisible:function(e){e||(this.addForm=this.$options.data().addForm,this.userId=[])}},created:function(){var e=this;this.getDeskList(this.form),this.getFifo(),this.getUserList(),(0,W.lR)().then((function(t){e.treeArr=(0,P.fn)(t.data.data)}))}}),vt=gt,yt=(0,c.Z)(vt,ht,bt,!1,null,"084fb54a",null),Ft=yt.exports,wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warp"},[a("my-el-header"),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"序列号"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.serialNumber,callback:function(t){e.$set(e.form,"serialNumber",t)},expression:"form.serialNumber"}})],1),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.stauts,callback:function(t){e.$set(e.form,"stauts",t)},expression:"form.stauts"}},e._l(e.stautsData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"厂商"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}},e._l(e.equipmentManufacturerData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设备类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")])],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"新增设备")}}},[e._v("新增设备 ")]),a("el-button",{attrs:{type:"primary"}},[e._v("删除设备")]),a("el-button",{attrs:{type:"primary"}},[e._v("二维码打印")])],1)],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.addForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"SIP号","label-width":e.formLabelWidth,prop:"serialNumber"}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.serialNumber,callback:function(t){e.$set(e.addForm,"serialNumber",t)},expression:"addForm.serialNumber"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备厂商","label-width":e.formLabelWidth,prop:"company"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:e.isReadOnly},model:{value:e.addForm.company,callback:function(t){e.$set(e.addForm,"company",t)},expression:"addForm.company"}},e._l(e.equipmentManufacturerData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设备类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:e.isReadOnly},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.typeData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备IP","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.ip,callback:function(t){e.$set(e.addForm,"ip",t)},expression:"addForm.ip"}})],1),a("el-form-item",{attrs:{label:"端口","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.host,callback:function(t){e.$set(e.addForm,"host",t)},expression:"addForm.host"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"账户","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.account,callback:function(t){e.$set(e.addForm,"account",t)},expression:"addForm.account"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属区域","label-width":e.formLabelWidth,prop:"area"}},[a("el-cascader",{attrs:{disabled:e.isReadOnly,options:e.area,props:{expandTrigger:"hover"}},model:{value:e.addForm.area,callback:function(t){e.$set(e.addForm,"area",t)},expression:"addForm.area"}})],1),a("el-form-item",{attrs:{label:"创建时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:!0},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1)],1),a("el-form-item",{attrs:{label:"设备位置","label-width":e.formLabelWidth}},[""!=e.addForm.address.x?a("div",[e._v(" "+e._s(this.addForm.address.province)+" "+e._s(this.addForm.address.city)+" "+e._s(this.addForm.address.district)+" "+e._s(this.addForm.address.street)+" ")]):a("div",[e._v("请在下图中选择坐标")]),a("baiduMap",{attrs:{id:"baidu-map",ak:"qF2OlD0Gin1GwwqYTHR3cQ8dqfcfZhtZ",center:"北京"}},[a("bm-view",{staticStyle:{width:"100%",height:"400px",flex:"1"}}),a("Geolocation",{attrs:{autoLocation:!0},on:{locationSuccess:e.locationSuccess}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"设备名称"}}),a("el-table-column",{attrs:{prop:"serialNumber",label:"SIP号"}}),a("el-table-column",{attrs:{prop:"company",label:"设备厂商"}}),a("el-table-column",{attrs:{prop:"ip",label:"设备IP"}}),a("el-table-column",{attrs:{prop:"area",label:"所属区域"}}),a("el-table-column",{attrs:{prop:"createTime",label:"安装时间"}}),a("el-table-column",{attrs:{prop:"address",label:"设备位置"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.address.province)+e._s(t.row.address.city)+e._s(t.row.address.district)+e._s(t.row.address.street)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"stauts",label:"设备状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stauts?a("div",[e._v("已连通")]):a("div",[e._v("未连通")])]}}])}),a("el-table-column",{attrs:{prop:"stauts",label:"设备状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"查看")}}},[e._v("查看 ")])]}}])})],1)],1)],1)},kt=[],xt=a(58829),_t=a(68392),Ct=a(52862),$t={name:"cameraView",components:{eTree:te,baiduMap:xt.Z,Geolocation:_t.Z,bmView:Ct.Z,myElHeader:V.Z},data:function(){return{title:"新增设备",isReadOnly:!1,dialogTableVisible:!1,formLabelWidth:"120px",disabled:!1,form:{serialNumber:"",deviceName:"",company:"",ip:"",equipmentManufacturer:"",type:"",stauts:""},addForm:{name:"",serialNumber:"",company:"",type:"",ip:"",host:"",account:"",password:"",area:"",createTime:"",address:{x:"",y:""},location:"",stauts:!0},list:[],stautsData:[{label:"已开通",value:"已开通"},{label:"未开通",value:"未开通"}],equipmentManufacturerData:[{label:"华康",value:"华康"},{label:"大华",value:"大华"}],typeData:[{label:"红外测温",value:"红外测温"},{label:"视频监控",value:"视频监控"},{label:"人脸卡口",value:"人脸卡口"},{label:"车辆卡口",value:"车辆卡口"},{label:"视频门禁",value:"视频门禁"}],area:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}],rules:{name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],serialNumber:[{required:!0,message:"请输入序列号",trigger:"blur"}],company:[{required:!0,message:"请输入设备厂商",trigger:"blur"}],type:[{required:!0,message:"请输入设备类型",trigger:"blur"}],area:[{required:!0,message:"请输入区域位置",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message({message:"提交失败， 请重试",type:"error"}),!1;t.list.push(t.addForm),t.dialogTableVisible=!1,window.localStorage.setItem("camera",JSON.stringify(t.list)),t.$message({message:"提交完成",type:"success"})}))},showAddForm:function(e,t){this.dialogTableVisible=!0,this.title=t,"编辑"===t?this.addForm=e:"查看"===t?(this.addForm=e,this.isReadOnly=!0):this.resetForm()},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},removeIt:function(e){var t=this;this.list.map((function(a,r){e===a&&t.list.splice(r,1)}))},locationSuccess:function(e){this.addForm.address.x=e.marker.map.SC.lat,this.addForm.address.y=e.marker.map.SC.lng,console.log(e),this.addForm.address=e["addressComponent"],console.log(this.addForm)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.list=JSON.parse(window.localStorage.getItem("camera"))||[]},computed:{createTime:function(e){return this.addForm.createTime=(0,P.FS)(e)}}},Nt=$t,It=(0,c.Z)(Nt,wt,kt,!1,null,"16fc4416",null),Lt=It.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"会议终端"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"会议终端名称"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"设备IP"}},[a("el-input",{model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip",t)},expression:"form.ip"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")]),a("el-button",[e._v("重置")])],1)],1),a("div",{staticClass:"nav-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加会议终端")}}},[e._v(e._s(e.title)+" ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"会议终端名称",width:"200"}}),a("el-table-column",{attrs:{prop:"ip",label:"设备IP",width:"200"}}),a("el-table-column",{attrs:{prop:"ip",label:"所属区域",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.area[0])+e._s(t.row.area[1])+" ")]}}])}),a("el-table-column",{attrs:{prop:"SIP",label:"SIP号码",width:"300"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"查看")}}},[e._v("查看 ")])]}}])})],1)],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addFrom",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议终端名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"SIP号码","label-width":e.formLabelWidth,prop:"SIP"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.SIP,callback:function(t){e.$set(e.addForm,"SIP",t)},expression:"addForm.SIP"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备IP","label-width":e.formLabelWidth,prop:"ip"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.ip,callback:function(t){e.$set(e.addForm,"ip",t)},expression:"addForm.ip"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"端口","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.host,callback:function(t){e.$set(e.addForm,"host",t)},expression:"addForm.host"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属区域","label-width":e.formLabelWidth,prop:"area"}},[a("el-cascader",{attrs:{options:e.options,props:{expandTrigger:"hover"}},model:{value:e.addForm.area,callback:function(t){e.$set(e.addForm,"area",t)},expression:"addForm.area"}})],1)],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定 ")])],1)],1)],1)},Tt=[],Wt={name:"terminal",components:{eTree:te,myElHeader:V.Z},data:function(){return{formLabelWidth:"120px",dialogFormVisible:!1,title:"添加会议终端",form:{},list:[],addForm:{name:"",ip:"",host:"",area:"",remark:""},options:[{label:"湖北",value:"湖北",children:[{label:"武汉",value:"武汉"},{label:"十堰",value:"十堰"},{label:"襄阳",value:"襄阳"},{label:"随州",value:"随州"}]}],rules:{name:[{required:!0,message:"请输入话机名称",trigger:"blur"}],ip:[{required:!0,message:"请输入IP地址",trigger:"blur"}],area:[{required:!0,message:"请输入所属区域",trigger:"blur"}],SIP:[{required:!0,message:"请输入SIP",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs["addFrom"].validate((function(e){if(!e)return t.$message({message:"提交失败， 请重试",type:"error"}),!1;t.list.push(t.addForm),t.$message({message:"提交完成",type:"success"}),t.dialogFormVisible=!1,window.localStorage.setItem("terminal",JSON.stringify(t.list))}))},showAddForm:function(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addForm=e:"查看"===t?(this.addForm=e,this.isReadOnly=!0):this.resetForm()},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},removeIt:function(e){var t=this;this.list.map((function(a,r){e===a&&t.list.splice(r,1)}))}},created:function(){this.list=JSON.parse(window.localStorage.getItem("terminal"))||[]}},Pt=Wt,Vt=(0,c.Z)(Pt,St,Tt,!1,null,"17a7353e",null),qt=Vt.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"调度队列"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{label:"队列名称",prop:"fifoName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoName,callback:function(t){e.$set(e.form,"fifoName",t)},expression:"form.fifoName"}})],1),a("el-form-item",{attrs:{label:"队列号码",prop:"fifoAgent"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoAgent,callback:function(t){e.$set(e.form,"fifoAgent",t)},expression:"form.fifoAgent"}})],1),a("el-form-item",{attrs:{label:"入路由号码",prop:"fifoRouterIn"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoRouterIn,callback:function(t){e.$set(e.form,"fifoRouterIn",t)},expression:"form.fifoRouterIn"}})],1),a("el-form-item",{attrs:{label:"agent等待时间",prop:"memberTimeout"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.memberTimeout,callback:function(t){e.$set(e.form,"memberTimeout",t)},expression:"form.memberTimeout"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("clear")}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"添加队列")}}},[e._v("添加队列")])],1),a("el-dialog",{ref:"addForm",attrs:{width:e.$store.state.dialogWidth,"close-on-click-modal":!1,title:e.title,"destroy-on-close":"",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"队列名称","label-width":e.formLabelWidth,prop:"fifoName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.fifoName,callback:function(t){e.$set(e.addForm,"fifoName",t)},expression:"addForm.fifoName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"队列号码","label-width":e.formLabelWidth,prop:"fifoAgent"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.fifoAgent,callback:function(t){e.$set(e.addForm,"fifoAgent",t)},expression:"addForm.fifoAgent"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"入路由号码","label-width":e.formLabelWidth,prop:"fifoRouterIn"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.fifoRouterIn,callback:function(t){e.$set(e.addForm,"fifoRouterIn",t)},expression:"addForm.fifoRouterIn"}},e._l(e.fifoRouterInList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.directoryNumber,value:e.directoryNumber}})})),1)],1),a("el-form-item",{attrs:{label:"出路由号码","label-width":e.formLabelWidth,prop:"fifoRouterOut"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.fifoRouterOut,callback:function(t){e.$set(e.addForm,"fifoRouterOut",t)},expression:"addForm.fifoRouterOut"}},e._l(e.fifoRouterOutList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.directoryNumber,value:e.directoryNumber}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属部门","label-width":e.formLabelWidth,prop:"fifoEmergency"}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,normalizer:e.normalizer,placeholder:"请输入内容"},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1),a("el-form-item",{attrs:{label:"域地址","label-width":e.formLabelWidth,prop:"fifoEmergency"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.domain,callback:function(t){e.$set(e.addForm,"domain",t)},expression:"addForm.domain"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"队列等待音","label-width":e.formLabelWidth,prop:"fifoWaitMusic"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.fifoWaitMusic,callback:function(t){e.$set(e.addForm,"fifoWaitMusic",t)},expression:"addForm.fifoWaitMusic"}},e._l(e.fifoWaitMusicList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.fileName,value:e.fileName}})})),1)],1),a("el-form-item",{attrs:{label:"等待时间","label-width":e.formLabelWidth,prop:"memberTimeout"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.memberTimeout,callback:function(t){e.$set(e.addForm,"memberTimeout",t)},expression:"addForm.memberTimeout"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"最大注册数","label-width":e.formLabelWidth,prop:"memberSimultaneous"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.memberSimultaneous,callback:function(t){e.$set(e.addForm,"memberSimultaneous",t)},expression:"addForm.memberSimultaneous"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"接听电话间隔","label-width":e.formLabelWidth,prop:"wrapupTime"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.wrapupTime,callback:function(t){e.$set(e.addForm,"wrapupTime",t)},expression:"addForm.wrapupTime"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"紧急号码","label-width":e.formLabelWidth,prop:"fifoEmergency"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.fifoEmergency,callback:function(t){e.$set(e.addForm,"fifoEmergency",t)},expression:"addForm.fifoEmergency"}},e._l(e.fifoEmergencyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.directoryNumber,value:e.directoryNumber}})})),1)],1),a("el-form-item",{attrs:{label:"夜服号码","label-width":e.formLabelWidth,prop:"fifoEmergency"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.fifoNight,callback:function(t){e.$set(e.addForm,"fifoNight",t)},expression:"addForm.fifoNight"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1),0!==e.list.length?a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,811300409)}),a("el-table-column",{attrs:{prop:"fifoName",align:"center",label:"队列名称"}}),a("el-table-column",{attrs:{align:"center",prop:"fifoAgent",label:"调度队列"}}),a("el-table-column",{attrs:{align:"center",prop:"fifoRouterIn",label:"入路由点号码"}}),a("el-table-column",{attrs:{align:"center",prop:"fifoRouterOut",label:"出路由点号码"}}),a("el-table-column",{attrs:{align:"center",prop:"memberSimultaneous",label:"最大注册数"}}),a("el-table-column",{attrs:{align:"center",prop:"memberSimultaneous",label:"队列等待音"}}),a("el-table-column",{attrs:{align:"center",prop:"memberTimeout",label:"等待时间"}}),a("el-table-column",{attrs:{align:"center",prop:"wrapupTime",label:"时间间隔"}}),a("el-table-column",{attrs:{align:"center",prop:"wrapupTime",fixed:"right",width:e.$store.state.tableMixWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{staticStyle:{"margin-right":"20px"},on:{click:function(a){return e.addForms(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.del(t.row)}}},[a("el-link",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}],null,!1,1302612859)})],1):a("my-empty")],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},Dt=[],Et={name:"queue",data:function(){return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},form:{fifoName:"",fifoAgent:"",fifoRouterIn:"",memberTimeout:""},treeArr:[],fifoWaitMusicList:[],addForm:{domain:"",fifoAgent:"",fifoName:"",fifoRouterIn:"",fifoRouterOut:"",fifoWaitMusic:"",memberSimultaneous:"",memberTimeout:"",wrapupTime:"",fifoEmergency:"",fifoNight:"",deptId:null},fifoRouterInList:[],fifoRouterOutList:[],fifoEmergencyList:[],fileData:"",list:[],dialogFormVisible:!1,title:"新增",formLabelWidth:"120px",rules:{fifoName:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],fifoAgent:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],fifoRouterIn:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],fifoRouterOut:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],fifoWaitMusic:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],memberSimultaneous:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],memberTimeout:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],wrapupTime:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],fifoEmergency:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}],domain:[{required:!0,message:"该选项不可为空,请确认",trigger:"blur"}]},rule:{fifoName:[{required:!1,message:"该选项不可为空,请确认",trigger:"blur"}],fifoAgent:[{required:!1,message:"该选项不可为空,请确认",trigger:"blur"}],fifoRouterIn:[{required:!1,message:"该选项不可为空,请确认",trigger:"blur"}],memberTimeout:[{required:!1,message:"该选项不可为空,请确认",trigger:"blur"}]}}},methods:{getSelectedValue:function(e){this.addForm.deptId=e.deptId},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getFifo(this.form)},next:function(){this.form.pageNum++,console.log(this.form),this.getFifo(this.form)},prev:function(){this.form.pageNum--,this.getFifo(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.getFifo(this.form)},addForms:function(e,t){this.title=t,this.getFifo(this.form),this.dialogFormVisible=!0,this.addForm="添加队列"===t?this.$options.data().addForm:e},resetForm:function(e){"clear"===e?this.$refs.form.resetFields():this.$refs.addForm.resetFields(),this.getFifo(this.form)},find:function(){this.getFifo(this.form)},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return!1;"添加队列"===e.title?et(e.addForm).then((function(t){200===t.data.code?(e.getFifo(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})):tt(e.addForm).then((function(t){200===t.data.code?(e.getFifo(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)}))}))},del:function(e){var t=this;at(e.id).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getFifo(t.form)):t.$message.error(e.data.msg)}))},getFifo:function(e){var t=this;Xe(e).then((function(e){200===e.data.code?(t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records):t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))},getDirectory:function(e){var t=this,a={};a.type=e,4===e?ot(a).then((function(e){t.fifoRouterInList=e.data.data})):5===e?lt(a).then((function(e){t.fifoRouterOutList=e.data.data})):Je(a).then((function(e){t.fifoEmergencyList=e.data.data.records}))},getOrganizeList:function(){var e=this;(0,W.lR)().then((function(t){e.treeArr=(0,P.fn)(t.data.data)}))},resetConfigure:function(){var e=this;dt("fifo").then((function(t){200===t.data.code?e.$message.success("提交完成"):e.$message.error(t.data.msg)}))},getFileList:function(){var e=this;(0,je.fD)().then((function(t){200===t.data.code&&(e.fifoWaitMusicList=t.data.data)}))}},created:function(){this.getFifo(this.form),this.getOrganizeList(),this.getFileList()},components:{myEmpty:ae.Z,myTree:de,myFooter:z.Z,myElHeader:V.Z,treeselect:R()},destroyed:function(){this.$bus.$off("pageChang")},watch:{dialogFormVisible:function(e){e?(this.getDirectory(4),this.getDirectory(5),this.getDirectory(0)):this.addForm=this.$options.data().addForm}},computed:{deptId:{get:function(){return this.addForm.deptId+""},set:function(e){this.addForm.deptId=e}}}},At=Et,Zt=(0,c.Z)(At,Rt,Dt,!1,null,"168184ea",null),Mt=Zt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"网关管理"}}),a("div",{staticClass:"container",attrs:{id:"networkManagement"}},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{model:e.forms,"hide-required-asterisk":!0,"show-message":!1,inline:!0,rules:e.rule}},[a("el-form-item",{attrs:{span:5,label:"网关名称",prop:"gatewayName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.forms.gatewayName,callback:function(t){e.$set(e.forms,"gatewayName",t)},expression:"forms.gatewayName"}})],1),a("el-form-item",{attrs:{span:1e6,label:"中继IP",prop:"gatewayIp"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.forms.gatewayIp,callback:function(t){e.$set(e.forms,"gatewayIp",t)},expression:"forms.gatewayIp"}})],1),a("el-form-item",{attrs:{label:"中继类型",prop:"gatewayType"}},[a("el-select",{attrs:{placeholder:"协议类型"},model:{value:e.forms.gatewayType,callback:function(t){e.$set(e.forms,"gatewayType",t)},expression:"forms.gatewayType"}},e._l(e.relayType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.clear()}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加网关")}}},[e._v("添加网关 ")])],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"close-on-click-modal":!1,title:e.title,visible:e.dialogFormVisible,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.addFrom,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"网关名称","label-width":e.formLabelWidth,prop:"gatewayName"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addFrom.gatewayName,callback:function(t){e.$set(e.addFrom,"gatewayName",t)},expression:"addFrom.gatewayName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继类型","label-width":e.formLabelWidth,prop:"gatewayType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"中继类型"},model:{value:e.addFrom.gatewayType,callback:function(t){e.$set(e.addFrom,"gatewayType",t)},expression:"addFrom.gatewayType"}},e._l(e.relayType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),1!==e.addFrom.gatewayType?a("div",{staticClass:"width"},[a("el-form-item",{attrs:{prop:"accountUser",label:"计费账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addFrom.accountUser,callback:function(t){e.$set(e.addFrom,"accountUser",t)},expression:"addFrom.accountUser"}})],1)],1):e._e(),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继IP","label-width":e.formLabelWidth,prop:"gatewayIp"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},on:{change:e.gatewayIpCahnge},model:{value:e.addFrom.gatewayIp,callback:function(t){e.$set(e.addFrom,"gatewayIp",t)},expression:"addFrom.gatewayIp"}})],1),a("el-form-item",{attrs:{label:"中继端口","label-width":e.formLabelWidth,prop:"gatewayPort"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addFrom.gatewayPort,callback:function(t){e.$set(e.addFrom,"gatewayPort",t)},expression:"addFrom.gatewayPort"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"代理地址","label-width":e.formLabelWidth,prop:"proxyIp"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addFrom.proxyIp,callback:function(t){e.$set(e.addFrom,"proxyIp",t)},expression:"addFrom.proxyIp"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"服务接口","label-width":e.formLabelWidth,prop:"profileId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addFrom.profileId,callback:function(t){e.$set(e.addFrom,"profileId",t)},expression:"addFrom.profileId"}},e._l(e.profileIdList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.profileName,value:e.id}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"是否注册","label-width":e.formLabelWidth,prop:"register"}},[a("el-radio-group",{model:{value:e.addFrom.register,callback:function(t){e.$set(e.addFrom,"register",t)},expression:"addFrom.register"}},[a("el-radio",{attrs:{label:1}},[e._v("注册")]),a("el-radio",{attrs:{label:0}},[e._v("不注册")])],1)],1)],1),1===e.addFrom.register?a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"注册用户","label-width":e.formLabelWidth,prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addFrom.username,callback:function(t){e.$set(e.addFrom,"username",t)},expression:"addFrom.username"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addFrom.password,callback:function(t){e.$set(e.addFrom,"password",t)},expression:"addFrom.password"}})],1)],1):e._e(),"添加网关"===e.title?a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"支持编码","label-width":e.formLabelWidth,prop:"codecs"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"","collapse-tags":""},on:{change:e.codecsBlur},model:{value:e.codecs,callback:function(t){e.codecs=t},expression:"codecs"}},e._l(e.dictionaryList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"二次拨号方式","label-width":e.formLabelWidth,required:""}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.addFrom.dtmfMode,callback:function(t){e.$set(e.addFrom,"dtmfMode",t)},expression:"addFrom.dtmfMode"}},e._l(e.dtmfModeData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),"添加网关"===e.title?a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"超时时长","label-width":e.formLabelWidth,prop:"expires"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addFrom.expires,callback:function(t){e.$set(e.addFrom,"expires",t)},expression:"addFrom.expires"}})],1)],1):e._e(),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"最大并发数","label-width":e.formLabelWidth,prop:"maxCall"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addFrom.maxCall,callback:function(t){e.$set(e.addFrom,"maxCall",t)},expression:"addFrom.maxCall"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addFrom")}}},[e._v("确 定 ")])],1)],1),a("div",{staticClass:"table-warp"},[a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#ccc",color:"#fff"},height:"calc(100vh - 100px - 100px - 100px - 100px)",data:e.list}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"序号",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"gatewayName",label:"网关名称"}}),a("el-table-column",{attrs:{align:"center",prop:"accountUser",label:"计费账号"}}),a("el-table-column",{attrs:{align:"center",prop:"expires",label:"超时时长(s)"}}),a("el-table-column",{attrs:{align:"center",prop:"gatewayIp",label:"中继IP"}}),a("el-table-column",{attrs:{align:"center",prop:"gatewayPort",label:"中继端口"}}),a("el-table-column",{attrs:{align:"center",prop:"gatewayType",label:"中继类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.gatewayType?a("a",[e._v("入中继")]):1===t.row.gatewayType?a("a",[e._v("出中继")]):2===t.row.gatewayType?a("a",[e._v("双向中继")]):a("a",[e._v("未知")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"username",label:"是否注册"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.register?a("div",[e._v(" 注册")]):a("div",[e._v(" 不注册")])]}}])}),a("el-table-column",{attrs:{prop:"recording",align:"center",fixed:"right",label:"操作",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1)],1)])],1),a("my-footer",{attrs:{form:e.forms},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},zt=[],Ot={name:"networkManagement",data:function(){var e=function(e,t,a){(0,re.t0)(t)?a():a(new Error("ip地址输入有误,请确认"))},t=function(e,t,a){(0,re.RB)(t)?a():a(new Error("ip地址输入有误,请确认"))},a=function(e,t,a){(0,re.qh)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{dialogFormVisible:!1,formLabelWidth:"120px",title:"添加网关",forms:{},list:[],dtmfModeData:[],dictionaryList:[],profileIdList:[],codecs:[],addFrom:{accountUser:"",codecs:"",dtmfMode:"",expires:"60",gatewayIp:"",gatewayName:"",gatewayPort:"",gatewayType:"",maxCall:"20",password:"",profileId:"",proxyIp:"",realm:"",register:0,username:""},codecsList:[],relayType:[{label:"入中继",value:0},{label:"出中继",value:1},{label:"双向中继",value:2}],networkStat:[{label:"开启",value:"开启"},{label:"关闭",value:"关闭"}],registerTypr:[{label:"注册",value:1},{label:"不注册",value:0}],rule:{gatewayName:[{required:!1,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayIp:[{required:!1,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayType:[{required:!1,message:"该选项为必填项， 请确认",trigger:"blur"}]},rules:{accountUser:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],codecs:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],dtmfMode:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],expires:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"},{validator:a,message:"请输入合法的数字",trigger:"blur"}],gatewayIp:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"},{validator:e,message:"IP输入有误, 请确认",trigger:"blur"}],gatewayName:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayPort:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"},{validator:t,message:"端口号输入有误, 请确认",trigger:"blur"}],gatewayType:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],maxCall:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],password:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],profileId:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],proxyIp:[{required:!1,message:"该选项为必填项， 请确认",trigger:"change"},{validator:e,message:"IP输入有误, 请确认",trigger:"blur"}],realm:[{required:!0,message:"该选项为必填项， 请确认",trigger:"change"},{validator:e,message:"IP输入有误, 请确认",trigger:"blur"}],register:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],username:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}]}}},components:{myFooter:z.Z,myElHeader:V.Z},methods:{next:function(){this.forms.pageNum++,this.getPbxAll(this.forms)},prev:function(){this.forms.pageNum--,this.getPbxAll(this.forms)},change:function(e){this.forms.pageNum=e,this.getPbxAll(this.forms)},pageCheng:function(e){this.forms=this.$options.data().forms,this.forms.pageSize=e,this.getPbxAll(this.forms)},gatewayIpCahnge:function(){this.addFrom.realm=this.addFrom.gatewayIp},clear:function(){this.forms=this.$options.data().forms,this.getPbxAll(this.forms)},find:function(){this.getPbxAll(this.forms)},getPbxAll:function(e){var t=this;(0,je.Ku)(e).then((function(e){200===e.data.code&&(t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records)})).catch((function(e){t.$message.error(e)}))},submitForm:function(){var e=this;this.$refs["formName"].validate((function(t){t?"添加网关"===e.title?(0,je.r4)(e.addFrom).then((function(t){200===t.data.code?(e.$message.success("添加完成"),e.getPbxAll(e.from),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})):(0,je.U$)(e.addFrom).then((function(t){200===t.data.code?(e.$message.success("添加完成"),e.getPbxAll(e.from),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})):console.log("error submit!!")}))},resetForm:function(e){"form"===e?this.$refs["form"].resetFields():this.$refs["formName"].resetFields()},showAddForm:function(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addFrom=e:"查看"===t&&(this.addForm=e,this.isReadOnly=!0)},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},removeIt:function(e){var t=this;(0,je.zV)(e.id).then((function(e){200===e.data.code?(t.$message.success("删除完成"),t.getPbxAll(t.forms)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error(e)}))},getProfileInfo:function(){var e=this;(0,je.j3)().then((function(t){200===t.data.code&&(e.profileIdList=t.data.data.records,e.addFrom.profileId=e.profileIdList[0].id)}))},codecsBlur:function(){this.addFrom.codecs=this.codecs.join(",")},filterGateway:function(e){var t=this,a={},r={pageSize:1e6};e.forEach((function(e){"网关编码"===e.name&&(a.id=e.id,a.code=e.code,(0,W.wQ)(a).then((function(e){t.dictionaryList=e.data.data,t.dictionaryList.forEach((function(e){t.codecs.push(e.name)})),t.codecsBlur()}))),"二次拨号方式"===e.name&&(r.code=e.code,(0,W.wQ)(r).then((function(e){t.dtmfModeData=e.data.data,t.addFrom.dtmfMode=t.dtmfModeData[0].id})))}))}},created:function(){this.getPbxAll(this.forms),this.getProfileInfo()},watch:{dialogFormVisible:function(e){var t=this;if(!1===e)this.addFrom=this.$options.data().addFrom,this.forms=this.$options.data().forms;else{var a=[];this.codecs=[],this.forms={pageSize:1e5},(0,W.Ee)(this.forms).then((function(e){a=e.data.data.records,t.filterGateway(a)}))}}}},Ht=Ot,jt=(0,c.Z)(Ht,Gt,zt,!1,null,null,null),Ut=jt.exports,Bt=a(73682),Jt=a(89821),Kt=a(90916),Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.toggle,expression:"toggle"}]},[a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"费率组"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,rules:e.addFroms}},[a("el-form-item",{attrs:{label:"费率组",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.diaplanRateGroup,callback:function(t){e.$set(e.form,"diaplanRateGroup",t)},expression:"form.diaplanRateGroup"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加费率组")}}},[e._v("添加费率组 ")])],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,"destroy-on-close":"",title:e.title,"close-on-click-modal":!1,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFroms}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"添加费率组名称","label-width":e.formLabelWidth,prop:"groupName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.groupName,callback:function(t){e.$set(e.addForm,"groupName",t)},expression:"addForm.groupName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)",data:e.list,"header-cell-style":{background:"#ccc",color:"#fff"}}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"费率组名称"}}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"查看费率组列表"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.isToggle(t.row)}}},[e._v("查看费率组列表")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{align:"center",prop:"address",label:"操作",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.toggle,expression:"!toggle"}]})])},Yt=[],Xt={name:"rate",components:{myEmpty:ae.Z,myFooter:z.Z,myElHeader:V.Z},data:function(){return{title:"添加费率组",form:{rateGroupId:""},addForm:{groupName:""},list:[],rateItemList:[],dialogFormVisible:!1,formLabelWidth:"140px",toggle:!0,shows:"",rateGroupId:"",addList:[],listFrom:{numberPrefix:"",billingName:""},listTitle:"添加费率",listDialogFormVisible:!1,row:{},area:[{label:"国外",value:"abroad"},{label:"国内",value:"home"}],addFroms:{groupName:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}]}}},methods:{pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getRateList(this.form)},next:function(){this.form.pageNum++,this.getRateList(this.form)},prev:function(){this.form.pageNum--,this.getRateList(this.form)},change:function(e){this.form.pageNum=e,this.getRateList(this.form)},find:function(){this.getRateList(this.form)},black:function(){this.toggle=!0},clear:function(){this.form=this.$options.data().form,this.getRateList(this.form)},getRateList:function(e){var t=this;(0,je.pA)(e).then((function(e){t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records})).catch((function(e){t.$message.error(e)}))},onSubmits:function(){this.listDialogFormVisible=!0,this.listTitle="添加费率"},isToggle:function(e){this.$router.push({path:"/home/billing/rate/list",query:{rateGroupId:e.id}})},removeIt:function(e){var t=this;(0,je.Cn)(e.id).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getRateList(t.form)):t.$message.error(e.data.msg)})).catch((function(e){return t.$message.error(e)}))},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){t&&("添加费率组"===e.title?((0,je.JF)(e.addForm).then((function(t){console.log(t),e.getRateList(e.form),e.addForm=e.$options.data().addForm})),e.getRateList(e.form),e.dialogFormVisible=!1):(0,je.vR)(e.addForm).then((function(t){console.log(t),200===t.data.code?(e.getRateList(),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})))}))},showAddForm:function(e,t){this.title=t,"编辑"===t&&(this.addForm=e),this.dialogFormVisible=!0},resetForm:function(e){"form"===e?this.$refs.form.resetFields():this.$refs.formName.resetFields()}},watch:{dialogFormVisible:function(e){!0!==e&&(this.addForm=this.$options.data().addForm)}},created:function(){this.getRateList(this.form)}},ea=Xt,ta=(0,c.Z)(ea,Qt,Yt,!1,null,"155b80a0",null),aa=ta.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("div",{staticClass:"container"},[a("p",[e._v(e._s(e.$route.meta.title))]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"虚拟接待名称"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"活动区域"}},[a("el-select",{attrs:{placeholder:"类型"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},e._l(e.type,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")]),a("el-button",{on:{click:function(e){}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("添加虚拟接待")]),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addFrom",attrs:{model:e.form,rules:"rules"}},[a("el-form-item",{attrs:{label:"虚拟接待名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"虚拟接待类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.type,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"拥有者","label-width":e.formLabelWidth,prop:"owner"}},[a("el-input",{model:{value:e.addForm.owner,callback:function(t){e.$set(e.addForm,"owner",t)},expression:"addForm.owner"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"欢迎语录音","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1),a("el-form-item",{attrs:{label:"提示音","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1)],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("h4",[e._v("按键设置")]),a("div",{staticClass:"width"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(10,(function(e){return a("el-option",{key:e.value,attrs:{label:e,value:e}})})),1),a("el-input",{model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定 ")])],1)],1)],1)])])},oa=[],la={name:"ivr",data:function(){return{title:"添加虚拟接待",dialogFormVisible:!1,formLabelWidth:"120px",form:{},addForm:{name:"",type:"",owner:"",startRecording:"",hint:"",remark:""},value:"",num:"",type:[{label:"单个用户",value:"单个用户"},{label:"所有用户",value:"所有用户"}],rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择活动区域",trigger:"change"}],owner:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]}}}},ia=la,sa=(0,c.Z)(ia,ra,oa,!1,null,"7db6d726",null),na=sa.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"呼叫转移"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"关联号码"}},[a("el-input",{model:{value:e.form.associatedNumber,callback:function(t){e.$set(e.form,"associatedNumber",t)},expression:"form.associatedNumber"}})],1),a("el-form-item",{attrs:{label:"转移类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.transferType,callback:function(t){e.$set(e.form,"transferType",t)},expression:"form.transferType"}},e._l(e.transferType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"转移参数"}},[a("el-input",{model:{value:e.form.transferParameter,callback:function(t){e.$set(e.form,"transferParameter",t)},expression:"form.transferParameter"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")]),a("el-button",{on:{click:function(e){}}},[e._v("重置")])],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加呼叫转移")}}},[e._v("添加呼叫转移 ")])],1)],1),a("el-dialog",{attrs:{width:e.$store.state.dialogWidth,title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"关联号码","label-width":e.formLabelWidth,prop:"associatedNumber"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.associatedNumber,callback:function(t){e.$set(e.addForm,"associatedNumber",t)},expression:"addForm.associatedNumber"}})],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"转移类型","label-width":e.formLabelWidth,prop:"transferType"}},[a("el-select",{model:{value:e.addForm.transferType,callback:function(t){e.$set(e.addForm,"transferType",t)},expression:"addForm.transferType"}},e._l(e.transferType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"转接参数","label-width":e.formLabelWidth,prop:"transferParameter"}},[a("el-select",{model:{value:e.addForm.transferParameter,callback:function(t){e.$set(e.addForm,"transferParameter",t)},expression:"addForm.transferParameter"}},e._l(10,(function(e){return a("el-option",{attrs:{label:e,value:e}})})),1)],1)],1),a("el-form-item",{attrs:{label:"有效周期","label-width":e.formLabelWidth,prop:"cycle"}},[a("el-checkbox-group",{model:{value:e.addForm.cycle,callback:function(t){e.$set(e.addForm,"cycle",t)},expression:"addForm.cycle"}},e._l(e.cycle,(function(t){return a("el-checkbox-button",{key:t,attrs:{label:t}},[e._v(e._s(t)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"有效时间","label-width":e.formLabelWidth,required:""}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{prop:"startTime"}},[a("el-time-select",{attrs:{prop:"startTime",placeholder:"起始时间","picker-options":{start:"08:30",step:"00:15",end:"18:30"}},model:{value:e.addForm.startTime,callback:function(t){e.$set(e.addForm,"startTime",t)},expression:"addForm.startTime"}})],1),a("el-form-item",{attrs:{prop:"startTime"}},[a("el-time-select",{staticStyle:{"margin-left":"30px"},attrs:{placeholder:"结束时间","picker-options":{start:"08:30",step:"00:15",end:"18:30",minTime:e.addForm.startTime}},model:{value:e.addForm.endTime,callback:function(t){e.$set(e.addForm,"endTime",t)},expression:"addForm.endTime"}})],1)],1)]),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addFrom")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index))]}}])}),a("el-table-column",{attrs:{prop:"associatedNumber",label:"关联号码",width:"180"}}),a("el-table-column",{attrs:{prop:"transferType",label:"转移类型",width:"180"}}),a("el-table-column",{attrs:{prop:"transferParameter",label:"转移参数",width:"180"}}),a("el-table-column",{attrs:{prop:"cycle",label:"有效期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex"}},e._l(t.row.cycle,(function(t){return a("p",{staticStyle:{"margin-right":"10px"}},[e._v(" "+e._s(t)+" ")])})),0)]}}])}),a("el-table-column",{attrs:{prop:"name",label:"有效时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.startTime)+" -- "+e._s(t.row.endTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"操作",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"}},[e._v("删除")])]}}])})],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change}})],1)},ca=[],ma={name:"calls",components:{myFooter:z.Z,myElHeader:V.Z},data:function(){return{title:"添加呼叫转移",formLabelWidth:"120px",dialogFormVisible:!1,form:{associatedNumber:"",transferType:"",transferParameter:""},list:[],transferType:[{label:"IVR",value:"IVR"},{label:"外网号码",value:"外网号码"},{label:"内网号码",value:"内网号码"},{label:"振玲组",value:"振玲组"}],addForm:{associatedNumber:"",transferType:"",transferParameter:"",cycle:["周一"],startTime:"",endTime:"",remark:""},cycle:["周一","周二","周三","周四","周五","周六","周日"],rules:{associatedNumber:[{required:!0,message:"请输入关联号码",trigger:"blur"}],transferType:[{required:!0,message:"请转移类型",trigger:"blur"}],transferParameter:[{required:!0,message:"请输入转移参数",trigger:"blur"}],cycle:[{required:!0,message:"请选择有效周期",trigger:"blur"}],startTime:[{required:!0,message:"请选择执行时间",trigger:"blur"}],remark:[{required:!1,message:"请输入活动名称",trigger:"blur"}]}}},methods:{showAddForm:function(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?(this.addForm=e,console.log(e)):"查看"===t?(this.addForm=e,this.isReadOnly=!0):this.resetForm("addForm")},next:function(){this.form.pageNum++,this.getRecord(this.form)},prev:function(){this.form.pageNum--,this.getRecord(this.form)},change:function(e){this.form.pageNum=e,this.getRecord(this.form)},find:function(){this.getRecord(this.form)},clear:function(){this.form=this.$options.data().form,this.getRecord(this.form)},submitForm:function(){var e=this;this.$refs["addForm"].validate((function(t){if(!t)return e.$message.error("提交失败， 请重试"),!1;e.$message({message:"提交完成",type:"success"}),console.log(e.addForm),e.list.push(e.addForm),window.localStorage.setItem("calls",JSON.stringify(e.list)),e.dialogFormVisible=!1}))},resetForm:function(){this.$refs["addForm"].resetFields()},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},removeIt:function(e){var t=this;this.list.map((function(a,r){e===a&&t.list.splice(r,1)}))}},created:function(){this.list=JSON.parse(window.localStorage.getItem("calls"))||[]}},ua=ma,fa=(0,c.Z)(ua,da,ca,!1,null,"119a3d66",null),pa=fa.exports,ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"历史记录"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"计费账户"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"被叫号码"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone",t)},expression:"form.mobilePhone"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.startingTime,callback:function(t){e.$set(e.form,"startingTime",t)},expression:"form.startingTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.clear}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"blegCallerIdNumber",label:"计费账户"}}),a("el-table-column",{attrs:{prop:"blegCallerIdNumber",label:"主叫号码"}}),a("el-table-column",{attrs:{prop:"blegCalleeIdNumber",label:"被叫号码"}}),a("el-table-column",{attrs:{prop:"blegContext",label:"服务接口"}}),a("el-table-column",{attrs:{prop:"blegCallerAnsweredTime",label:"应答时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.blegCallerAnsweredTime?a("span",[e._v(" "+e._s(e._f("formaTime")(t.row.blegCallerAnsweredTime||""))+" ")]):a("span",[e._v(" "+e._s(e._f("formaTime")(t.row.blegCallerHangupTime||""))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"blegCallerHangupTime",label:"挂断时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.blegCallerHangupTime?a("span",[e._v(" "+e._s(e._f("formaTime")(t.row.blegCallerHangupTime||""))+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"blegBillsec",label:"计费时长(秒)",align:"center"}}),a("el-table-column",{attrs:{prop:"blegChannelName",label:"通道名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formaString")(t.row.blegChannelName||""))+" ")]}}])}),a("el-table-column",{attrs:{prop:"blegContext",label:"接口名称"}}),a("el-table-column",{attrs:{prop:"blegHangupCause",label:"挂断原因"}}),a("el-table-column",{attrs:{prop:"blegReadCodec",label:"通话编码"}})],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},ba=[],ga=(a(47042),{name:"history",components:{myElHeader:V.Z,myFooter:z.Z},data:function(){return{form:{mobilePhone:"",startingTime:"",endTime:""},list:[]}},filters:{formaTime:function(e){return(0,P.p6)(e/1e3)},formaString:function(e){return e.slice(19)}},methods:{find:function(){this.getPbxList(this.form)},clear:function(){this.form=this.$options.data().form,this.getPbxList(this.form)},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getPbxList(this.form)},getPbxList:function(e){var t=this;nt(e).then((function(e){console.log(e),200===e.data.code&&(t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records)}))},next:function(){this.form.pageNum++,this.getPbxList(this.form)},prev:function(){this.form.pageNum--,this.getPbxList(this.form)},change:function(e){this.form.pageNum=e,this.getPbxList(this.form)}},created:function(){this.getPbxList(this.form)}}),va=ga,ya=(0,c.Z)(va,ha,ba,!1,null,"79c8ba78",null),Fa=ya.exports,wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"会议记录"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"meeting"},[e.isDetail?a("div",{staticClass:"detail"},[a("div",{staticClass:"form-nav"},[a("div"),a("el-button",{attrs:{type:"primary"},on:{click:e.black}},[e._v("返回")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.detailList,"header-cell-style":{background:"#ccc",color:"#fff"}}},[a("el-table-column",{attrs:{align:"center",label:"序号",prop:"date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"conferenceName",label:"会议名称"}}),a("el-table-column",{attrs:{align:"center",prop:"conferenceDomain",label:"域"}}),a("el-table-column",{attrs:{align:"center",prop:"conferenceProfileName",label:"会议文件名"}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"action",align:"center",label:"创建人"}})],1)],1):a("div",{staticClass:"feDetail"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"会议名称"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"}}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50",prop:"date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,811300409)}),a("el-table-column",{attrs:{align:"center",prop:"conferenceName",label:"会议名称"}}),a("el-table-column",{attrs:{align:"center",prop:"conferenceName",label:"开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("createTime")(t.row.conferenceCreateTime)))]}}],null,!1,3463167834)}),a("el-table-column",{attrs:{align:"center",prop:"conferenceName",label:"结束时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("endTime")(t.row.conferenceDestroyTime)))]}}],null,!1,1063139479)}),a("el-table-column",{attrs:{prop:"member",align:"center",label:"会议成员"}}),a("el-table-column",{attrs:{fixed:"right",width:e.$store.state.tableMixWidth,prop:"member",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.info(t.row.conferenceUniqueId)}}},[e._v("查看详情")])],1)]}}],null,!1,2691449750)})],1)],1)])]),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},ka=[],xa={name:"meetingMinutes",data:function(){return{form:{},addForm:{},list:[],dialogFormVisible:!0,title:"新增",formLabelWidth:"120px",isDetail:!1,detailList:[]}},components:{myFooter:z.Z,myElHeader:V.Z},methods:{next:function(){this.form.pageNum++,this.getRecord(this.form)},prev:function(){this.form.pageNum--,this.getRecord(this.form)},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getRecord(this.form)},change:function(e){this.form.pageNum=e,this.getRecord(this.form)},find:function(){this.getRecord(this.form)},clear:function(){this.form=this.$options.data().form,this.getRecord(this.form)},getRecord:function(e){var t=this;it(e).then((function(e){t.$bus.$emit("total",e.data.data.total),200===e.data.code&&(t.list=e.data.data.records)})).catch((function(e){return t.$message.error(e)}))},info:function(e){var t=this,a={};a.conferenceUniqueId=e,st(a).then((function(e){t.detailList=e.data.data})),this.isDetail=!0},black:function(){this.isDetail=!1}},filters:{createTime:function(e){return(0,P.p6)(e/1e3)},endTime:function(e){return(0,P.p6)(e/1e3)}},created:function(){this.getRecord(this.form)}},_a=xa,Ca=(0,c.Z)(_a,wa,ka,!1,null,"4aa67380",null),$a=Ca.exports,Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"拦截通话"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"计费账户"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"被叫号码"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone",t)},expression:"form.mobilePhone"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.startingTime,callback:function(t){e.$set(e.form,"startingTime",t)},expression:"form.startingTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.clear}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"alegCallerIdNumber",label:"计费账户"}}),a("el-table-column",{attrs:{prop:"alegCallerIdNumber",label:"主叫号码"}}),a("el-table-column",{attrs:{prop:"alegCalleeIdNumber",label:"被叫号码"}}),a("el-table-column",{attrs:{prop:"alegContext",label:"服务接口"}}),a("el-table-column",{attrs:{prop:"alegCallerAnsweredTime",label:"应答时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.alegCallerAnsweredTime?a("span",[e._v(" "+e._s(e._f("formaTime")(t.row.alegCallerAnsweredTime||""))+" ")]):a("span",[e._v(" "+e._s(e._f("formaTime")(t.row.alegCallerHangupTime||""))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"alegCallerHangupTime",label:"挂断时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.alegCallerHangupTime?a("span",[e._v(" "+e._s(e._f("formaTime")(t.row.alegCallerHangupTime||""))+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"blegBillsec",label:"计费时长(秒)",align:"center"}}),a("el-table-column",{attrs:{prop:"blegChannelName",label:"通道名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formaString")(t.row.alegChannelName||""))+" ")]}}])}),a("el-table-column",{attrs:{prop:"alegContext",label:"接口名称"}}),a("el-table-column",{attrs:{prop:"alegHangupCause",label:"挂断原因"}}),a("el-table-column",{attrs:{prop:"alegReadCodec",label:"通话编码"}})],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},Ia=[],La={name:"intercept",components:{myElHeader:V.Z,myFooter:z.Z},data:function(){return{form:{},list:[]}},filters:{formaTime:function(e){return(0,P.p6)(e/1e3)},formaString:function(e){return e.slice(19)}},methods:{find:function(){this.getCdrController(this.form)},clear:function(){this.form=this.$options.data().form,this.getCdrController(this.form)},getCdrController:function(e){var t=this;ct(e).then((function(e){200===e.data.code&&(t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records)}))},pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getCdrController(this.form)},next:function(){this.form.pageNum++,console.log(this.form),this.getCdrController(this.form)},prev:function(){this.form.pageNum--,this.getCdrController(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.getCdrController(this.form)}},created:function(){this.getCdrController(this.form)}},Sa=La,Ta=(0,c.Z)(Sa,Na,Ia,!1,null,"0d3f692e",null),Wa=Ta.exports,Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"费率列表"}}),a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"form-nav"},[a("div"),a("div",{staticClass:"scope"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmits}},[e._v("添加费率")]),a("el-button",{attrs:{type:"primary"},on:{click:e.black}},[e._v("返回")])],1)])]),a("el-dialog",{attrs:{"destroy-on-close":"","close-on-click-modal":!1,title:e.listTitle,width:e.$store.state.dialogWidth,visible:e.listDialogFormVisible},on:{"update:visible":function(t){e.listDialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.addListFrom,rules:e.addRules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"费率名称","label-width":e.formLabelWidth,prop:"rateName"}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addListFrom.rateName,callback:function(t){e.$set(e.addListFrom,"rateName",t)},expression:"addListFrom.rateName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"费率前缀","label-width":e.formLabelWidth,prop:"ratePrefix"}},[a("el-input",{staticClass:"input",attrs:{autocomplete:"off",placeholder:"请输入内容"},model:{value:e.addListFrom.ratePrefix,callback:function(t){e.$set(e.addListFrom,"ratePrefix",t)},expression:"addListFrom.ratePrefix"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"地区类型","label-width":e.formLabelWidth,prop:"ratePrefix"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addListFrom.area,callback:function(t){e.$set(e.addListFrom,"area",t)},expression:"addListFrom.area"}},e._l(e.area,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"费率","label-width":e.formLabelWidth,required:""}},[a("div",{staticClass:"flex"},[a("el-form-item",{attrs:{prop:"rate"}},[a("el-input",{attrs:{placeholder:"请输入计费金额(元)"},model:{value:e.addListFrom.rate,callback:function(t){e.$set(e.addListFrom,"rate",t)},expression:"addListFrom.rate"}})],1),a("el-form-item",{staticClass:"l-20",attrs:{label:"计费周期",prop:"billingPeriod"}},[a("el-input",{attrs:{placeholder:"请输入计费时间(秒)"},model:{value:e.addListFrom.billingPeriod,callback:function(t){e.$set(e.addListFrom,"billingPeriod",t)},expression:"addListFrom.billingPeriod"}})],1)],1)])],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"footers"},[a("p",[e._v("注意: 费率默认以元为单位, 计费周期为60(s)秒")]),a("div",{staticClass:"footers"},[a("el-button",{on:{click:function(t){e.listDialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForms("编辑")}}},[e._v("确 定 ")])],1)])])],1),0!==e.rateItemList.length?a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{height:"800",data:e.rateItemList,"header-cell-style":{background:"#ccc",color:"#fff"}}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,811300409)}),a("el-table-column",{attrs:{align:"center",prop:"rateName",label:"费率名称"}}),a("el-table-column",{attrs:{align:"center",prop:"rate",label:"费率(元)"}}),a("el-table-column",{attrs:{align:"center",prop:"billingPeriod",label:"费率区间（秒）"}}),a("el-table-column",{attrs:{align:"center",prop:"ratePrefix",label:"费率前缀"}}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"area",align:"center",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.upDataForm(t.row)}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}],null,!1,1274692385)})],1):a("my-empty")],1)],1)},Va=[],qa={name:"rateList",data:function(){var e=function(e,t,a){(0,re.qh)(t)?a():a(new Error("ip地址输入有误,请确认"))};return{formLabelWidth:"120px",listDialogFormVisible:!1,listTitle:"添加费率组",addListFrom:{rateName:"",billingPeriod:"60",rateGroupId:"",ratePrefix:"",rate:"",area:"home"},row:{},list:[],form:{},rateItemList:[],area:[{label:"国外",value:"abroad"},{label:"国内",value:"home"}],addRules:{rateName:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}],ratePrefix:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}],rate:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"},{validator:e,message:"请输入合法的数字",trigger:"blur"}],billingPeriod:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"},{validator:e,message:"请输入合法的数字",trigger:"blur"}]}}},components:{myEmpty:ae.Z,myElHeader:V.Z},methods:{onSubmits:function(){this.listDialogFormVisible=!0,this.listTitle="添加费率"},black:function(){this.$router.go(-1)},submitForms:function(){var e=this;this.$refs.formName.validate((function(t){if(!t)return!1;"添加费率"===e.listTitle?(0,je.tR)(e.addListFrom).then((function(t){e.resetForm(),200===t.data.code?(e.$message.success("提交完成"),e.listDialogFormVisible=!1,e.getRateItemList(e.form)):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t)})):(0,je.ET)(e.addListFrom).then((function(t){console.log(t),200===t.data.code?(e.getRateItemList(e.form),e.listDialogFormVisible=!1,e.$message.success("提交完成")):e.$message.error(t.data.msg)}))}))},getRateItemList:function(e){var t=this;(0,je.ut)(e).then((function(e){console.log(e),200===e.data.code?(console.log(e),t.rateItemList=e.data.data.records):console.log(e)})).catch((function(e){t.$message.error(e)}))},upDataForm:function(e){this.addListFrom=e,this.listTitle="编辑费率",this.listDialogFormVisible=!0},removeIt:function(e){var t=this;(0,je.p2)(e.id).then((function(e){200===e.data.code?(t.$message.success("提交完成"),t.getRateItemList(t.form)):t.$message.error(e.data.msg)}))},resetForm:function(e){"form"===e?this.$refs.form.resetFields():this.$refs.formName.resetFields()}},created:function(){console.log(this.$route.query.rateGroupId),this.addListFrom.rateGroupId=this.$route.query.rateGroupId,this.form.rateGroupId=this.$route.query.rateGroupId,console.log(this.$route.query),this.getRateItemList(this.form)}},Ra=qa,Da=(0,c.Z)(Ra,Pa,Va,!1,null,"4ff2ff4b",null),Ea=Da.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"account"}},[a("div",{staticClass:"arco-card-body"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"body-l"},[a("h2",[e._v("基本资料")]),a("ul",{staticClass:"user-info"},[a("li",[a("div",[a("span",[e._v(e._s(e.userInfo.nickName))])])]),a("li",{staticClass:"info-row"},[a("span",[e._v("用户名称:")]),e._v(" "),a("span",[e._v(e._s(e.userInfo.username))])]),a("li",{staticClass:"info-row"},[a("span",[e._v("用户昵称:")]),a("span",[e._v(" "+e._s(e.userInfo.nickName))])]),a("li",{staticClass:"info-row"},[a("span",[e._v("邮箱:")]),e._v(" "),a("span",[e._v(e._s(e.userInfo.email))])]),a("li",{staticClass:"info-row"},[a("span",[e._v("手机号: ")]),a("span",[e._v(e._s(e.userInfo.phone))])]),a("li",{staticClass:"info-row"},[a("span",[e._v("性别:")]),a("span",[e._v(e._s(1===e.userInfo.sex?"男":"女")+" ")])]),a("li",{staticClass:"info-row"},[a("span",[e._v("登录时间: ")]),a("span",[e._v(e._s(e.userInfo.loginDate))])]),a("li",{staticClass:"info-row"},[a("span",[e._v("所属部门:")]),e._v(" "),a("span",[e._v(e._s(e.dept))])])])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"body-r"},[a("span",[e._v("个人信息")]),a("div",{staticClass:"border-card"},[a("div",e._l(e.borderCard,(function(t,r){return a("span",{class:{active:e.currentIndex===r},on:{click:function(t){return e.activeClick(r)}}},[a("i",{class:"icon iconfont "+t.icon}),e._v(e._s(t.label)+" ")])})),0),0===e.currentIndex?a("div",{staticClass:"operate"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"用户名","label-width":e.labelWidth,prop:"nickName"}},[a("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"手机号","label-width":e.labelWidth,prop:"phone"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"邮箱","label-width":e.labelWidth,prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"性别","label-width":e.labelWidth,prop:"sex"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1)],1),a("div",{staticClass:"width"},[a("div"),a("div"),a("div"),a("div"),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("保存")])],1)],1)])],1):a("div",{staticClass:"operate"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"新密码",prop:"password"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"确认密码",prop:"verifyPassword"}},[a("el-input",{model:{value:e.form.verifyPassword,callback:function(t){e.$set(e.form,"verifyPassword",t)},expression:"form.verifyPassword"}})],1)],1),a("div",{staticClass:"width"},[a("div"),a("div"),a("div"),a("div"),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("保存")])],1)],1)])],1)])])])],1)],1)])},Za=[],Ma=a(60329),Ga="JSESSIONID";function za(){return Ma.Z.get(Ga)}function Oa(){return Ma.Z.remove(Ga)}var Ha={name:"account",computed:{},data:function(){return{labelWidth:"100px",userInfo:[],currentIndex:0,dept:"",borderCard:[{label:"基本资料",icon:"icon-dingdanliebiao"},{label:"修改密码",icon:"icon-mimaxiugai"}],form:{sex:1},rules:{nickName:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],phone:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],email:[{required:!1,message:"该项为必填项,请确认",trigger:"blur"}],sex:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],password:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}],verifyPassword:[{required:!0,message:"该项为必填项,请确认",trigger:"blur"}]}}},created:function(){this.userInfo=this.$store.state.login.userInfo,this.sysDept=this.$store.state.sysDept,this.form=this.$store.state.login.userInfo,this.getOrganizeId(this.userInfo.deptId),console.log(this.userInfo)},methods:{getOrganizeId:function(e){var t=this;(0,W.Wr)(e).then((function(e){t.dept=e.data.data.deptName}))},submitForm:function(){var e=this;1===this.currentIndex?this.$refs.form.validate((function(t){if(!t)return!1;if(e.form.password===e.form.verifyPassword){var a={};a.userId=e.userInfo.userId,a.password=e.form.password,(0,W.gG)(a).then((function(t){200===t.data.code?(e.$message.success("提交完成"),e.resetForm(),Oa(),location.reload()):e.$message.error(t.data.msg)}))}})):this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;(0,W.Nm)(e.form).then((function(t){200===t.data.code&&(e.$store.dispatch("userInfo",e.form),location.reload())}))}))},activeClick:function(e){this.currentIndex=e},resetForm:function(){this.$refs.form.resetFields()}}},ja=Ha,Ua=(0,c.Z)(ja,Aa,Za,!1,null,"5501017d",null),Ba=Ua.exports,Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"呼叫路由"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,"close-on-click-modal":!1,model:e.form,rules:e.form}},[a("el-form-item",{attrs:{label:"路由名称",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.routerName,callback:function(t){e.$set(e.form,"routerName",t)},expression:"form.routerName"}})],1),a("el-form-item",{attrs:{label:"呼叫类型 ",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoId,callback:function(t){e.$set(e.form,"fifoId",t)},expression:"form.fifoId"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.desType,callback:function(t){e.$set(e.form,"desType",t)},expression:"form.desType"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.callType,callback:function(t){e.$set(e.form,"callType",t)},expression:"form.callType"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加呼叫路由")}}},[e._v("添加呼叫路由 ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"routerName",label:"路由名称"}}),a("el-table-column",{attrs:{prop:"routerName",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.desType?a("span",[e._v("禁止")]):1===t.row.desType?a("span",[e._v("系统分机")]):2===t.row.desType?a("span",[e._v("呼出到socket应用")]):e._e(),3===t.row.callType?a("span",[e._v("中继呼叫")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"regular",label:"正则"}}),a("el-table-column",{attrs:{prop:"regularType",label:"正则类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.regularType?a("div",[e._v(" 被叫匹配 ")]):a("div",[e._v(" 主叫匹配 ")])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"操作",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.del(t.row)}}},[a("el-link",{attrs:{slot:"reference"},slot:"reference"},[e._v("删除 ")])],1)]]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"路由名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.routerName,callback:function(t){e.$set(e.addForm,"routerName",t)},expression:"addForm.routerName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"呼叫类型","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:e.addForm.callType,callback:function(t){e.$set(e.addForm,"callType",t)},expression:"addForm.callType"}},e._l(e.callType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"类型","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},model:{value:e.addForm.desType,callback:function(t){e.$set(e.addForm,"desType",t)},expression:"addForm.desType"}},e._l(e.desType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"正则","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.regular,callback:function(t){e.$set(e.addForm,"regular",t)},expression:"addForm.regular"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"正则匹配规则","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},model:{value:e.addForm.regularType,callback:function(t){e.$set(e.addForm,"regularType",t)},expression:"addForm.regularType"}},e._l(e.regularType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"内容","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("p",[e._v("平台呼入 经过平台注册的方式进行呼叫,中继呼入则相反")]),a("div",{staticClass:"footer-info"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)])],1),a("my-footer")],1)},Ka=[];function Qa(e){return(0,Ue.W)({url:"/pbx/router/list",params:e})}function Ya(e){return(0,Ue.W)({url:"/pbx/router/add",method:"post",data:e})}function Xa(e){return(0,Ue.W)({url:"/pbx/router/update",data:e,method:"put"})}function er(e){return(0,Ue.W)({url:"/pbx/router/delete/"+e,method:"delete"})}function tr(e){return(0,Ue.W)({url:"/pbx/group/list",params:e})}function ar(e){return(0,Ue.W)({url:"/pbx/group/add",method:"post",data:e})}function rr(e){return(0,Ue.W)({url:"/pbx/group/delete/"+e,method:"delete",data:e})}function or(e){return(0,Ue.W)({url:"/pbx/conference/list",params:e})}function lr(e){return(0,Ue.W)({url:"/pbx/conference/add",data:e,method:"post"})}function ir(e){return(0,Ue.W)({url:"/pbx/conference/update",method:"put",data:e})}var sr={name:"callRouting",components:{myElHeader:V.Z,myFooter:z.Z},data:function(){return{form:{},addForm:{routerName:"",regular:"",regularType:"",desType:"",callType:1,content:""},list:[],dialogFormVisible:!1,formLabelWidth:"120px",title:"添加呼叫路由",callType:[{label:"中继呼入",value:0},{label:"平台呼入",value:1}],desType:[{label:"禁止",value:0},{label:"系统分机",value:1},{label:"呼出到socket应用",value:2},{label:"ivr",value:31}],regularType:[{label:"主叫匹配",value:0},{label:"被叫匹配",value:1}]}},methods:{next:function(){this.form.pageNum++,this.getRouter(this.form)},prev:function(){this.form.pageNum--,this.getRouter(this.form)},change:function(e){this.form.pageNum=e,this.getRouter(this.form)},find:function(){this.getRouter(this.form)},clear:function(){this.form=this.$options.data().form,this.getRouter(this.form)},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0,"编辑"===t&&(this.addForm=e)},getRouter:function(e){var t=this;Qa(e).then((function(e){t.$bus.$emit("total",e.data.data.total),200===e.data.code&&(t.list=e.data.data.records,t.dialogFormVisible=!1)})).catch((function(e){t.$message.error(e)}))},submit:function(e){var t=this;"编辑"===this.title?Xa(this.addForm).then((function(e){console.log(e),200===e.data.code?(t.getRouter(t.form),t.dialogFormVisible=!1,t.$message.success("提交完成")):t.$message.error(e.data.msg)})).catch((function(e){console.log(e)})):Ya(this.addForm).then((function(e){console.log(e),200===e.data.code?(t.dialogFormVisible=!1,t.getRouter(t.form),t.dialogFormVisible=!1,t.$message.success("提交完成")):t.$message.error(e.data.msg)})).catch((function(e){return console.log(e)}))},del:function(e){var t=this;er(e.id).then((function(e){200===e.data.code?(t.getRouter(t.form),t.dialogFormVisible=!1,t.$message.success("提交完成")):t.$message.error(e.data.msg)}))}},watch:{dialogFormVisible:function(e){e||(this.addForm=this.$options.data().addForm)}},created:function(){this.getRouter(this.form)}},nr=sr,dr=(0,c.Z)(nr,Ja,Ka,!1,null,"89a5ea3a",null),cr=dr.exports,mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"系统参数"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.form,"destroy-on-close":"",inline:"","label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"name","label-width":"180"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),a("el-form-item",{attrs:{label:"参数值",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("查找")]),a("el-button",{on:{click:function(t){return e.clear()}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加系统参数")}}},[e._v("添加系统参数")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"header-cell-style":{background:"#ccc",color:"#fff"},height:"calc(100vh - 100px - 100px - 100px - 100px)"}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"params",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"value",label:"参数值"}}),a("el-table-column",{attrs:{prop:"module",label:"使用模块"}}),a("el-table-column",{attrs:{prop:"desc",label:"描述"}}),a("el-table-column",{attrs:{prop:"recording",align:"center",fixed:"right",label:"操作",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:e.$store.state.dialogWidth,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"参数名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.params,callback:function(t){e.$set(e.addForm,"params",t)},expression:"addForm.params"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"参数值","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.value,callback:function(t){e.$set(e.addForm,"value",t)},expression:"addForm.value"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"使用模块","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.module,callback:function(t){e.$set(e.addForm,"module",t)},expression:"addForm.module"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",autocomplete:"off"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,pageCheng:e.changPage,change:e.change}})],1)},ur=[],fr={name:"systemParameters",components:{myElHeader:V.Z,myFooter:z.Z},data:function(){return{form:{},addForm:{params:"",value:"",module:"",desc:""},list:[],dialogFormVisible:!1,formLabelWidth:"120px",title:"添加系统参数"}},methods:{next:function(){this.form.pageNum++,this.getSystemParameters(this.form)},prev:function(){this.form.pageNum--,this.getSystemParameters(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.getSystemParameters(this.form)},changPage:function(e){this.form.pageSize=e,this.getSystemParameters(this.form)},submitForm:function(){this.getSystemParameters(this.form)},clear:function(){this.form=this.$options.data().form},submit:function(){var e=this;this.$refs.addForm.validate((function(t){t?"添加系统参数"===e.title?(0,W.PR)(e.addForm).then((function(t){200===t.data.code?(e.$message.success("添加完成"),e.getSystemParameters(e.from),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})):(0,W._Z)(e.addForm).then((function(t){200===t.data.code?(e.$message.success("添加完成"),e.getSystemParameters(e.from),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})):console.log("error submit!!")}))},resetForm:function(){this.form=this.$options.data.form},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0,"编辑"===t&&(this.addForm=e)},removeIt:function(e){var t=this;(0,W.uL)(e).then((function(e){200===e.data.code?t.$message.success("提交完成"):t.$message.error(e.data.code)}))},getSystemParameters:function(e){var t=this;(0,W.ze)(e).then((function(e){200===e.data.code?(t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records):console.log(e)}))}},created:function(){this.getSystemParameters(this.form)},watch:{dialogFormVisible:function(e){e||(this.addForm=this.$options.data().addForm)}}},pr=fr,hr=(0,c.Z)(pr,mr,ur,!1,null,"e22936d0",null),br=hr.exports,gr=a(70043),vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"文件管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"文件名",prop:"fifoName"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.fifoName,callback:function(t){e.$set(e.form,"fifoName",t)},expression:"form.fifoName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("clear")}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"上传文件")}}},[e._v("上传文件")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 100px - 100px - 100px - 100px)","header-cell-style":{background:"#ccc",color:"#fff"},data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"filePath",label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.fileName(t.row)))]}}])}),a("el-table-column",{attrs:{prop:"filePath",label:"文件路径"}}),a("el-table-column",{attrs:{prop:"createTime",label:"上传时间"}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:e.$store.state.dialogWidth,"destroy-on-close":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.addForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"文件名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.fifoWaitMusic,callback:function(t){e.$set(e.addForm,"fifoWaitMusic",t)},expression:"addForm.fifoWaitMusic"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"文件","label-width":e.formLabelWidth}},[a("el-upload",{attrs:{action:e.uploadFileUrl,limit:e.limit,"with-credentials":!0,"show-file-list":!1,"before-upload":e.handleBeforeUpload,headers:e.headers,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),0===e.addForm.fifoWaitMusic.length?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 请上传 "),e.fileSize?[e._v(" 大小不超过 "),a("b",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.fileSize)+"MB")])]:e._e(),e.fileType?[e._v(" 格式为 "),a("b",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.fileType.join("/")))])]:e._e(),e._v(" 的文件 ")],2):a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 当前选择的文件: "+e._s(e.addForm.fifoWaitMusic)+" ")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),a("my-footer",{attrs:{form:e.form},on:{next:e.next,prev:e.prev,change:e.change,pageCheng:e.pageCheng}})],1)},yr=[],Fr={name:"file",components:{myElHeader:V.Z,myFooter:z.Z},data:function(){return{form:{pageSize:10,pageNum:1},dialogFormVisible:!1,formLabelWidth:"120px",addForm:{fifoWaitMusic:""},title:"0",limit:1,uploadFileUrl:"http://123.60.212.9/dispatch/system/file/upload",headers:{Authorization:"Bearer "+za()},fileSize:5,fileType:["avi"],list:[]}},computed:{},methods:{pageCheng:function(e){this.form=this.$options.data().form,this.form.pageSize=e,this.getFileList(this.form)},next:function(){this.form.pageNum++,console.log(this.form),this.getFileList(this.form)},prev:function(){this.form.pageNum--,this.getFileList(this.form)},change:function(e){console.log(e),this.form.pageNum=e,this.getFileList(this.form)},find:function(){},fileName:function(e){return e.filePath.slice(20)},resetForm:function(){this.form=this.$options.data().form},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0},handleBeforeUpload:function(e){if(this.fileData=e,this.fileType){var t="";e.name.lastIndexOf(".")>-1&&(t=e.name.slice(e.name.lastIndexOf(".")+1));var a=this.fileType.some((function(a){return e.type.indexOf(a)>-1||!!(t&&t.indexOf(a)>-1)}));if(!a)return this.$message.error("文件格式不正确, 请上传".concat(this.fileType.join("/"),"格式文件!")),!1}if(this.fileSize){var r=e.size/1024/1024<this.fileSize;if(!r)return this.$message.error("上传文件大小不能超过 ".concat(this.fileSize," MB!")),!1}return!0},handleUploadError:function(){this.$message.error("上传失败, 请重试")},handleUploadSuccess:function(e){this.$message.success("上传成功"),this.addForm.fifoWaitMusic=this.fileData.name},getFileList:function(){var e=this;(0,je.fD)().then((function(t){console.log(t),200===t.data.code&&(e.list=t.data.data)}))}},created:function(){this.getFileList()}},wr=Fr,kr=(0,c.Z)(wr,vr,yr,!1,null,"36879842",null),xr=kr.exports,_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"分组管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"container-l"},[a("e-tree",{attrs:{data:e.treeArr},on:{treeClick:e.treeClick}})],1),a("div",{staticClass:"container-r"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,"close-on-click-modal":!1,model:e.form,rules:e.form}},[a("el-form-item",{attrs:{label:"分组名称",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.routerName,callback:function(t){e.$set(e.form,"routerName",t)},expression:"form.routerName"}})],1),a("el-form-item",{attrs:{label:"分组状态",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.desType,callback:function(t){e.$set(e.form,"desType",t)},expression:"form.desType"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加呼叫路由")}}},[e._v("添加分组 ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"groupName",label:"分组名称",width:"180"}}),a("el-table-column",{attrs:{prop:"deptId",label:"所属部门"}}),a("el-table-column",{attrs:{prop:"displayBench",label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.displayBench?a("div",[e._v("显示")]):a("div",[e._v("不显示")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"address",fixed:"right",width:e.$store.state.tableMixWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row,"删除")}}},[a("el-link",{staticClass:"link-item",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])],1)]],2)]}}])})],1)],1)]),a("el-dialog",{attrs:{title:e.title,width:"1000px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"组织名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.groupName,callback:function(t){e.$set(e.addForm,"groupName",t)},expression:"addForm.groupName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属组织","label-width":e.formLabelWidth}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,normalizer:e.normalizer},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1)],1),a("div",{staticClass:"width",staticStyle:{height:"auto"}},[a("el-form-item",{attrs:{label:"分组成员","label-width":e.formLabelWidth}},[0!==e.selectList.length?a("draggable",{staticClass:"grid",attrs:{group:"people"},on:{change:e.draggableChange},nativeOn:{click:function(t){return e.showGridDialog.apply(null,arguments)}},model:{value:e.selectList,callback:function(t){e.selectList=t},expression:"selectList"}},e._l(e.selectList,(function(t){return a("div",{key:t.key,staticClass:"user-item"},[e._v(" "+e._s(t.label||t.directoryNumber)+" ")])})),0):a("draggable",{staticClass:"grid margin",attrs:{group:"people"},on:{change:e.draggableChange},nativeOn:{click:function(t){return e.showGridDialog.apply(null,arguments)}},model:{value:e.selectList,callback:function(t){e.selectList=t},expression:"selectList"}},[e._v(" (点击打开悬浮窗编辑分组成员) ")])],1)],1),a("div",{staticClass:"width",staticStyle:{"margin-top":"20px"}},[a("el-form-item",{attrs:{label:"排序","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"控制台显示","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.displayBench,callback:function(t){e.$set(e.addForm,"displayBench",t)},expression:"addForm.displayBench"}},e._l(e.displayBench,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.subInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"组织成员",visible:e.deptIdDialogFormVisible},on:{"update:visible":function(t){e.deptIdDialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"选择部门","label-width":e.formLabelWidth}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,normalizer:e.normalizer},on:{input:e.treeselectChange},model:{value:e.deptId,callback:function(t){e.deptId=t},expression:"deptId"}})],1)],1),a("div",{staticClass:"grid dialog"},e._l(e.userList,(function(t){return a("div",{key:t.key,staticClass:"grid-item user-item",on:{click:function(a){return e.gridItemClick(t)}}},[a("p",[e._v(e._s(t.label))]),a("i",{staticClass:"el-icon-circle-check"})])})),0)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.deptIdDialogFormVisible=!1}}},[e._v("确 定")])],1)],1),a("my-footer")],1)},Cr=[],$r=a(6390),Nr=a.n($r),Ir={name:"callGrouping",components:{myElHeader:V.Z,myFooter:z.Z,eTree:te,treeselect:R(),draggable:Nr()},data:function(){return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},defaultProps:{children:"children",label:"deptName"},value:[],form:{},addForm:{deptId:null,directoryIdList:[],displayBench:"",groupName:"",orderNum:""},deptId:null,selectList:[],treeArr:[],list:[],userList:[],title:"添加分组",dialogFormVisible:!1,formLabelWidth:"120px",deptIdDialogFormVisible:!1,props:{key:"id",label:"deptName"},displayBench:[{label:"显示",value:0},{label:"不显示",value:1}]}},methods:{find:function(){},clear:function(){this.form=this.$options.data().form},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0,"编辑"===t&&(this.selectList=JSON.parse(JSON.stringify(e.directoryIdList)),this.addForm.displayBench=e.displayBench,this.addForm.groupName=e.groupName,this.addForm.orderNum=e.orderNum,this.addForm.deptId=e.deptId,console.log(e))},treeClick:function(){},gridItemClick:function(e){this.selectList.push(e)},removeIt:function(e){var t=this;rr(e.id).then((function(e){console.log(e),200===e.data.code&&(t.$message.success("提交完成"),t.getGroupData(t.form))}))},handleNodeClick:function(e){var t=this,a={pageSize:1e5};a.deptId=e,Je(a).then((function(e){console.log("form",e.data.data.records);for(var a=e.data.data.records,r=[],o=0;o<a.length;o++)r.push({key:a[o].id,label:a[o].directoryName});t.userList=r,t.userList.forEach((function(e,a){e.key===t.selectList[a].key&&console.log("aaaa")}))}))},treeselectChange:function(){this.handleNodeClick(this.deptId)},getGroupData:function(e){var t=this;tr(e).then((function(e){200===e.data.code&&(t.list=e.data.data.records)}))},subInfo:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return!1;ar(e.addForm).then((function(t){200===t.data.code&&(e.getGroupData(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1)}))}))},draggableChange:function(){var e=this,t=[];this.selectList.forEach((function(a,r){t.push({directoryId:a.key||a.directoryId,orderNum:r}),e.addForm.directoryIdList=t}))},showGridDialog:function(){console.log("-----"),this.deptIdDialogFormVisible=!0}},created:function(){var e=this;(0,W.lR)().then((function(t){e.treeArr=(0,P.fn)(t.data.data)})),this.getGroupData(this.form)},watch:{deptId:function(e){0===e.length&&(this.selectList=[],this.userList=[])},selectList:function(){this.draggableChange()},dialogFormVisible:function(e){e||(this.addForm=this.$options.data().addForm,this.selectList=[],this.deptId=null)},deptIdDialogFormVisible:function(e){e||(this.deptIdDialogFormVisible=!1)}}},Lr=Ir,Sr=(0,c.Z)(Lr,_r,Cr,!1,null,"52ed9444",null),Tr=Sr.exports,Wr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"分组管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"container-l"},[a("e-tree",{attrs:{data:e.treeArr},on:{treeClick:e.treeClick}})],1),a("div",{staticClass:"container-r"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,"close-on-click-modal":!1,model:e.form,rules:e.form}},[a("el-form-item",{attrs:{label:"会议名称",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.routerName,callback:function(t){e.$set(e.form,"routerName",t)},expression:"form.routerName"}})],1),a("el-form-item",{attrs:{label:"会议状态 ",prop:"diaplanRateGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.desType,callback:function(t){e.$set(e.form,"desType",t)},expression:"form.desType"}},e._l(e.meetingState,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"会议类型  ",prop:"diaplanRateGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.meetingType,callback:function(t){e.$set(e.form,"meetingType",t)},expression:"form.meetingType"}},e._l(e.meetingState,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加会议")}}},[e._v("添加会议 ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"conferenceName",label:"会议名称"}}),a("el-table-column",{attrs:{prop:"master",label:"主持人"}}),a("el-table-column",{attrs:{prop:"seqType",label:"会议类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.seqType?a("div",[e._v("临时会议")]):0!==t.row.seqType?a("div",[e._v("周期会议")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"roundEnd",label:"会议日期"}}),a("el-table-column",{attrs:{prop:"startTime",label:"会议时间"}}),a("el-table-column",{attrs:{prop:"deptId",label:"所属部门"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"isRecord",label:"是否录音"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isRecord?a("div",[e._v("录音")]):1!==t.row.isRecord?a("div",[e._v("不录音")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",prop:"address",label:"操作",fixed:"right",width:e.$store.state.tableMixWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),[a("el-popconfirm",{attrs:{title:"确认要删除吗？"},on:{confirm:function(a){return e.removeIt(t.row)}}},[a("el-link",{attrs:{slot:"reference",type:"info"},slot:"reference"},[e._v("删除 ")])],1)]],2)]}}])})],1)],1)]),a("el-dialog",{attrs:{top:"7vh",title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议名称","label-width":e.formLabelWidth,prop:"conferenceName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.conferenceName,callback:function(t){e.$set(e.addForm,"conferenceName",t)},expression:"addForm.conferenceName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议类型","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.conferenceType,callback:function(t){e.$set(e.addForm,"conferenceType",t)},expression:"addForm.conferenceType"}},[a("el-radio",{attrs:{label:0}},[e._v("音频会议")]),a("el-radio",{attrs:{label:1}},[e._v("视频会议")])],1)],1),a("el-form-item",{attrs:{label:"是否录音","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.isRecord,callback:function(t){e.$set(e.addForm,"isRecord",t)},expression:"addForm.isRecord"}},[a("el-radio",{attrs:{label:0}},[e._v("不录音")]),a("el-radio",{attrs:{label:1}},[e._v("录音")])],1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属组织","label-width":e.formLabelWidth,prop:"deptId"}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,normalizer:e.normalizer},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"主持人号码","label-width":e.formLabelWidth,prop:"master"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.master,callback:function(t){e.$set(e.addForm,"master",t)},expression:"addForm.master"}},e._l(e.memberList,(function(e){return a("el-option",{key:e.nickName,attrs:{label:e.nickName,value:e.nickName}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议成员","label-width":e.formLabelWidth,prop:"member"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.member,callback:function(t){e.member=t},expression:"member"}},e._l(e.memberList,(function(e){return a("el-option",{key:e.nickName,attrs:{label:e.nickName,value:e.nickName}})})),1)],1)],1),a("div",[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议类型","label-width":e.formLabelWidth,prop:"seqType"}},[a("el-radio-group",{model:{value:e.addForm.seqType,callback:function(t){e.$set(e.addForm,"seqType",t)},expression:"addForm.seqType"}},[a("el-radio",{attrs:{label:0}},[e._v("临时会议")]),a("el-radio",{attrs:{label:1}},[e._v("周期会议")])],1)],1)],1),0===e.addForm.seqType?a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议开始时间","label-width":e.formLabelWidth,prop:"time1"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy MM dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dataChange},model:{value:e.time1,callback:function(t){e.time1=t},expression:"time1"}})],1)],1):0!==e.addForm.seqType?a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"cron","label-width":e.formLabelWidth,prop:"icon"}},[a("div",{staticClass:"width-cron",class:e.isActive?"":"z-index",staticStyle:{width:"100%"},on:{click:e.aClick}},[a("el-input",{ref:"inputs",staticStyle:{width:"100%"},attrs:{placeholder:""},on:{focus:e.focus,blur:e.blur},model:{value:e.addForm.cron,callback:function(t){e.$set(e.addForm,"cron",t)},expression:"addForm.cron"}}),a("vcrontab",{class:e.isActive?"active":"feActive",attrs:{hideComponent:e.hideComponent,expression:e.expression},on:{hide:function(t){e.showCron=!1},fill:e.crontabFill}})],1)])],1):a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议开始时间","label-width":e.formLabelWidth,prop:"time"}},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"至",format:"HH:mm","value-format":"HH:mm","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},on:{change:e.timeChange},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)],1)]),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1)],1),a("div",{staticStyle:{height:"310px"}})]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1),a("my-footer")],1)},Pr=[],Vr=a(32865),qr=a.n(Vr),Rr={name:"callMeeting",components:{myElHeader:V.Z,myFooter:z.Z,eTree:te,treeselect:R(),vcrontab:qr()},data:function(){return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},cronPopover:!1,form:{},addForm:{conferenceName:"",conferenceType:0,deptId:null,endTime:"",isRecord:0,master:"",member:"",numWeek:"",password:"",recurringType:"",remark:"",roundEnd:"",startTime:"",seqType:0,currentEndTime:"",currentStartTime:"",cron:""},list:[],time:[],time1:[],memberList:"",treeArr:[],dialogFormVisible:!1,formLabelWidth:"120px",title:"添加会议",meetingState:[{label:"已开始",value:0},{label:"进行中",value:1},{label:"已结束",value:2}],meetingType:[{label:"临时会议",value:0},{label:"周期会议",value:1}],member:[],expression:"",showCron:!1,hideComponent:["year","second","min","hour"],isActive:!1,rules:{conferenceName:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],conferenceType:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],deptId:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],seqType:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],icon:[{required:!1,message:"该项为必填项，请确认",trigger:"blur"}],time:[{required:!1,message:"该项为必填项，请确认",trigger:"blur"}],password:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],master:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],member:[{required:!0,message:"该项为必填项，请确认",trigger:"blur"}],time1:[{required:!1,message:"该项为必填项，请确认",trigger:"blur"}]}}},methods:{find:function(){},clear:function(){this.form=this.$options.data().form},showAddForm:function(e,t){this.title=t,this.dialogFormVisible=!0,"编辑"===t&&(this.addForm=e,this.time.push(this.addForm.startTime,this.addForm.endTime),this.member=this.addForm.member.split("|"),this.expression=this.addForm.cron)},treeClick:function(){},dataChange:function(){this.addForm.currentEndTime=this.time1[1],this.addForm.currentStartTime=this.time1[0]},timeChange:function(){this.addForm.endTime=this.time[1],this.addForm.startTime=this.time[0]},getUserList:function(e){var t=this,a={};a.deptId=e,a.pageSize=1e6,(0,W.fl)(a).then((function(e){console.log(e),t.memberList=e.data.data.records}))},submitForm:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;"添加会议"===e.title?lr(e.addForm).then((function(t){200===t.data.code?(e.getCallMetting(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)})):"编辑"===e.title&&ir(e.addForm).then((function(t){console.log(t),200===t.data.code?(e.getCallMetting(e.form),e.$message.success("提交完成"),e.dialogFormVisible=!1):e.$message.error(t.data.msg)}))}))},resetForm:function(){this.$refs.addForm.resetFields()},selectChange:function(){this.addForm.member=this.member.join("|")},showDialog:function(){this.expression=this.input,this.showCron=!0},crontabFill:function(e){this.addForm.cron=e},focus:function(){this.isActive=!0},blur:function(){this.isActive=!1},aClick:function(){this.$refs.inputs.focus()},getCallMetting:function(e){var t=this;or(e).then((function(e){t.$bus.$emit("total",e.data.data.total),t.list=e.data.data.records}))}},created:function(){var e=this;(0,W.lR)().then((function(t){e.treeArr=(0,P.fn)(t.data.data)})),this.getCallMetting(this.form)},watch:{addForm:{deep:!0,handler:function(e){this.getUserList(e.deptId)}},dialogFormVisible:function(e){e&&this.getUserList()}}},Dr=Rr,Er=(0,c.Z)(Dr,Wr,Pr,!1,null,"184eb8d4",null),Ar=Er.exports,Zr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warps"},[a("my-el-header",{attrs:{title:"点名组管理"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"container-l"},[a("e-tree",{attrs:{data:e.treeArr},on:{treeClick:e.treeClick}})],1),a("div",{staticClass:"container-r"},[a("div",{staticClass:"form-nav"},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,"close-on-click-modal":!1,model:e.form,rules:e.form}},[a("el-form-item",{attrs:{label:"点名组名称",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.routerName,callback:function(t){e.$set(e.form,"routerName",t)},expression:"form.routerName"}})],1),a("el-form-item",{attrs:{label:"点名组状态",prop:"diaplanRateGroup"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.desType,callback:function(t){e.$set(e.form,"desType",t)},expression:"form.desType"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")]),a("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"新增点名组")}}},[e._v("添加分组 ")])],1)])]),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.addForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"点名组名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.broadcastName,callback:function(t){e.$set(e.addForm,"broadcastName",t)},expression:"addForm.broadcastName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属部门","label-width":e.formLabelWidth,prop:"deptId"}},[a("treeselect",{attrs:{multiple:!1,options:e.treeArr,normalizer:e.normalizer},model:{value:e.addForm.deptId,callback:function(t){e.$set(e.addForm,"deptId",t)},expression:"addForm.deptId"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"广播成员","label-width":e.formLabelWidth}},[0!==e.selectList.length?a("draggable",{staticClass:"grid",attrs:{group:"people"},on:{change:e.draggableChange},model:{value:e.selectList,callback:function(t){e.selectList=t},expression:"selectList"}},e._l(e.selectList,(function(t){return a("div",{key:t.key,staticClass:"user-item"},[e._v(" "+e._s(t.label||t.directoryNumber)+" ")])})),0):e._e()],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"点名类型","label-width":e.formLabelWidth,prop:"seqType"}},[a("el-radio-group",{model:{value:e.addForm.seqType,callback:function(t){e.$set(e.addForm,"seqType",t)},expression:"addForm.seqType"}},[a("el-radio",{attrs:{label:0}},[e._v("计划点名")]),a("el-radio",{attrs:{label:1}},[e._v("周期点名")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.addForm.seqType,expression:"addForm.seqType === 0"}],staticClass:"width"},[a("el-form-item",{attrs:{label:"会议开始时间","label-width":e.formLabelWidth,prop:"time1"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy MM dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dataChange},model:{value:e.time1,callback:function(t){e.time1=t},expression:"time1"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"广播方式","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addForm.mode,callback:function(t){e.$set(e.addForm,"mode",t)},expression:"addForm.mode"}},e._l(e.broadcasType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.addForm.seqType,expression:"addForm.seqType !== 0"}],staticClass:"width"},[a("el-form-item",{attrs:{label:"cron","label-width":e.formLabelWidth,prop:"icon"}},[a("div",{staticClass:"width-cron",class:e.isActive?"":"z-index",staticStyle:{width:"100%"},on:{click:e.aClick}},[a("el-input",{ref:"inputs",staticStyle:{width:"100%"},attrs:{placeholder:""},on:{focus:e.focus,blur:e.blur},model:{value:e.addForm.cron,callback:function(t){e.$set(e.addForm,"cron",t)},expression:"addForm.cron"}}),a("vcrontab",{class:e.isActive?"active":"feActive",attrs:{hideComponent:e.hideComponent,expression:e.expression},on:{hide:function(t){e.showCron=!1},fill:e.crontabFill}})],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.addForm.seqType,expression:"addForm.seqType !== 0"}],staticClass:"width"},[a("el-form-item",{attrs:{label:"会议开始时间","label-width":e.formLabelWidth,prop:"time"}},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"至",format:"HH:mm","value-format":"HH:mm","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},on:{change:e.timeChange},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)],1),a("div",{staticStyle:{height:"310px"}})]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),a("my-footer")],1)},Mr=[],Gr={name:"callRoll",components:{myElHeader:V.Z,myFooter:z.Z,eTree:te,treeselect:R(),draggable:Nr()},data:function(){return{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,children:e.children,label:e.deptName}},form:{},selectList:[],addForm:{broadcastName:"",context:"",currentEndTime:"",currentStartTime:"",deptId:null,cron:"",endTime:"",startTime:"",member:"",mode:"",recurringType:"",roundEnd:"",seqType:0},title:"新增点名组",dialogFormVisible:!0,formLabelWidth:"120px",time1:[],time:[],treeArr:[],isActive:!1,expression:"",hideComponent:["year","second","min","hour"],showCron:!1,broadcasType:[{label:"文字任务",value:1},{label:"音乐任务",value:2},{label:"采播任务",value:3}]}},methods:{find:function(){},clear:function(){this.form=this.$options.data().form},showAddForm:function(){},draggableChange:function(e){console.log(e)},treeClick:function(){},dataChange:function(){this.addForm.currentEndTime=this.time1[1],this.addForm.currentStartTime=this.time1[0]},timeChange:function(){this.addForm.endTime=this.time[1],this.addForm.startTime=this.time[0]},crontabFill:function(e){this.addForm.cron=e},focus:function(){this.isActive=!0},blur:function(){this.isActive=!1},aClick:function(){this.$refs.inputs.focus()}},created:function(){var e=this;(0,W.lR)().then((function(t){e.treeArr=(0,P.fn)(t.data.data)}))}},zr=Gr,Or=(0,c.Z)(zr,Zr,Mr,!1,null,"92b182f6",null),Hr=Or.exports;r["default"].use(o.Z);var jr=[{path:"/",redirect:"login"},{path:"/login",component:u},{path:"/home",component:I,redirect:"/home/layout/serveStarts",children:[{path:"/home/layout/serveStarts",component:L.Z,meta:{icon:""}},{path:"/home/layout/menu",component:Z,meta:{icon:""}},{path:"/home/layout/recordMange",component:U,meta:{icon:""}},{path:"/home/layout/myManage",component:fe,meta:{icon:""}},{path:"/home/layout/organizationManage",component:Ce,meta:{icon:""}},{path:"/home/layout/dataManage",component:Te,meta:{icon:""}},{path:"/home/layout/dicManage",component:De,meta:{icon:""}},{path:"/home/layout/roleManage",component:ze,meta:{icon:""}},{path:"/home/configure/phoneConfig",component:pt,meta:{icon:""}},{path:"/home/configure/observeOnDispatcher",component:Ft,meta:{icon:""}},{path:"/home/configure/cameraView",component:Lt,meta:{icon:""}},{path:"/home/configure/terminal",component:qt,meta:{icon:""}},{path:"/home/configure/queue",component:Mt,meta:{icon:""}},{path:"/home/billing/networkManagement",component:Ut,meta:{icon:""}},{path:"/home/billing/trunkGroup",component:Bt.Z,meta:{icon:""}},{path:"/home/billing/dialPlan",component:Jt.Z,meta:{icon:""}},{path:"/home/billing/configure",component:Kt.Z,meta:{icon:""}},{path:"/home/billing/rate",component:aa,meta:{icon:""}},{path:"/home/call/ivr",component:na,meta:{icon:""}},{path:"/home/call/calls",component:pa,meta:{icon:""}},{path:"/home/bill/hisBill",component:Fa,meta:{icon:""}},{path:"/home/call/meetingMinutes",component:$a,meta:{icon:""}},{path:"/home/bill/intercept",component:Wa,meta:{icon:""}},{path:"/home/billing/rate/list",component:Ea,meta:{icon:""}},{path:"/home/account",component:Ba,meta:{icon:""}},{path:"/home/call/callRouting",component:cr,meta:{icon:""}},{path:"/home/layout/systemParameters",component:br,meta:{icon:""}},{path:"/home/call/file",component:xr,meta:{icon:""}},{path:"/home/call/callGrouping",component:Tr,meta:{icon:""}},{path:"/home/call/callMeeting",component:Ar,meta:{icon:""}},{path:"/home/call/callRoll",component:Hr,meta:{icon:""}}]}],Ur=new o.Z({mode:"hash",base:"",routes:jr});Ur.beforeEach((function(e,t,a){if("/login"!==e.path){var r=v.Z.getCache("token");r||a("/login"),a(),(0,gr.z)()}a()}));var Br=Ur},45073:function(e,t,a){"use strict";a.r(t);var r=a(90916);t["default"]={path:"/home/billing/configure",component:r.Z,name:"configure",children:[]}},12255:function(e,t,a){"use strict";a.r(t);var r=a(89821);t["default"]={path:"/home/billing/dialPlan",component:r.Z,name:"dialPlan",children:[]}},44834:function(e,t,a){"use strict";a.r(t);var r=a(89821);t["default"]={path:"/home/billing/networkManagement",component:r.Z,name:"networkManagement",children:[]}},21909:function(e,t,a){"use strict";a.r(t);var r=a(89821);t["default"]={path:"/home/billing/rate",component:r.Z,name:"rate",children:[]}},49757:function(e,t,a){"use strict";a.r(t);var r=a(73682);t["default"]={path:"/home/billing/trunkGroup",component:r.Z,name:"trunkGroup",children:[]}},38796:function(e,t,a){"use strict";a.r(t);var r=a(56498);t["default"]={path:"/home/layout/serveStarts",component:r.Z,name:"serveStaut",children:[]}},70043:function(e,t,a){"use strict";a.d(t,{Z:function(){return b},z:function(){return h}});var r=a(28935),o=a(34665),l=a(16198),i=(a(78975),a(41539),a(54747),a(2707),a(1631)),s=a(63060),n=a(74549),d=a(17371),c=a(17557),m=a(29630),u={state:function(){return{token:"",userInfo:{},menuList:[]}},mutations:{changeToken:function(e,t){e.token=t},changeUserInfo:function(e,t){e.userInfo=t},changeMenu:function(e,t){e.menuList=t;var a=(0,m.Fr)(t);console.log(a),d["default"].addRoutes(a),a.forEach((function(e){console.log(d["default"],"_____")}))}},actions:{loginAction:function(e,t){return(0,l.Z)(regeneratorRuntime.mark((function a(){var r,o,l,m,u,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.next=3,(0,i.Z)(t);case 3:if(o=a.sent,200!==o.data.code){a.next=19;break}return l=o.data.data,m=l.JSESSIONID,u=l.user,f=o.data.data.user.sysMenuList,r("changeToken",m),r("changeUserInfo",u),r("changeMenu",f),s.Z.setCache("token",m),s.Z.setCache("user",u),console.log("sysMenuList",f),s.Z.setCache("menuList",(0,c.i6)(f)[0].children),s.Z.setCache("defaultCurrentIndex","1"),a.next=17,d["default"].push("/home");case 17:a.next=20;break;case 19:n.Message.error(o.data.msg);case 20:case"end":return a.stop()}}),a)})))()},localLogin:function(e){var t=e.commit,a=[],r=s.Z.getCache("token");r&&t("changeToken",r);var o=s.Z.getCache("user");o&&t("changeUserInfo",o);var l=s.Z.getCache("menuList")||[];0!==l.length&&(a=l.sort((function(e,t){return e.orderNum-t.orderNum}))),console.log("formatMenuList",a),a&&t("changeMenu",a)}}},f=u;r["default"].use(o.ZP);var p=new o.ZP.Store({state:{dialogWidth:"900px",tableMixWidth:"130px"},getters:{},actions:{},mutations:{},modules:{login:f}});function h(){p.dispatch("localLogin").then((function(e){console.log(e)}))}var b=p},17557:function(e,t,a){"use strict";a.d(t,{FS:function(){return r},dw:function(){return i},fn:function(){return o},i6:function(){return l},p6:function(){return s}});a(41539),a(54747),a(92222);function r(){var e=new Date,t=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),l=e.getSeconds();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),r>=0&&r<=9&&(r="0"+r),o>=0&&o<=9&&(o="0"+o),l>=0&&l<=9&&(l="0"+l);var i=e.getFullYear()+"-"+t+"-"+a+" "+r+":"+o+":"+l;return i}function o(e){var t={},a=[];return e.forEach((function(e){t[e.deptId]=e})),e.forEach((function(e){var r=t[e.parentId];r?(r.children||(r.children=[])).push(e):a.push(e)})),a}function l(e){var t={},a=[];return e.forEach((function(e){t[e.menuId]=e})),e.forEach((function(e){var r=t[e.parentId];r?(r.children||(r.children=[])).push(e):a.push(e)})),a}function i(e){var t=[],a=[];t=t.concat(e);while(t.length){var r=t.shift();r.children&&(t=t.concat(r.children),delete r["children"]),a.push(r)}return a}function s(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate(),l=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+"-"+r+"-"+o+" "+l+":"+i+":"+s}},63060:function(e,t,a){"use strict";var r=a(76133),o=a(92751),l=(a(38862),function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"setCache",value:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}},{key:"getCache",value:function(e){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}},{key:"delCache",value:function(e){window.localStorage.removeItem(e)}}]),e}());t["Z"]=new l},29630:function(e,t,a){"use strict";a.d(t,{Fr:function(){return o},Sx:function(){return l}});var r=a(77965);a(41539),a(54747),a(33948),a(74916),a(23123),a(69826),a(2707);function o(e){var t=[],r=[],o=a(80366);o.keys().forEach((function(e){var t=a(686)("./index"+e.split(".")[1]);r.push(t.default)}));return void 0!==e&&console.log(e),t}function l(e,t){var a,o=(0,r.Z)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(1===i.type){var s,n=l(null!==(s=i.children)&&void 0!==s?s:[],t);if(n)return n}else if(2===i.type&&i.url===t)return i}}catch(d){o.e(d)}finally{o.f()}}},14378:function(e,t,a){"use strict";a.d(t,{RB:function(){return o},kj:function(){return i},qh:function(){return l},t0:function(){return r}});a(74916),a(77601);function r(e){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return t.test(e)}function o(e){var t;return t=/^(([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5]))$/,t.test(e)}function l(e){var t=/^\+?[1-9]\d*$/;return t.test(e)}function i(e){var t;return t=/^1[3|4|5|7|8][0-9]{9}$/,t.test(e)}},80366:function(e,t,a){var r={"./billing/configure.js":45073,"./billing/diaPlan.js":12255,"./billing/networkManagement.js":44834,"./billing/rate.js":21909,"./billing/trunkGroup.js":49757,"./home/serveStaut.js":38796};function o(e){var t=l(e);return a(t)}function l(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=l,e.exports=o,o.id=80366},686:function(e,t,a){var r={"./index":17371,"./index.js":17371,"./index/billing/configure":45073,"./index/billing/configure.js":45073,"./index/billing/diaPlan":12255,"./index/billing/diaPlan.js":12255,"./index/billing/networkManagement":44834,"./index/billing/networkManagement.js":44834,"./index/billing/rate":21909,"./index/billing/rate.js":21909,"./index/billing/trunkGroup":49757,"./index/billing/trunkGroup.js":49757,"./index/home/serveStaut":38796,"./index/home/serveStaut.js":38796};function o(e){var t=l(e);return a(t)}function l(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=l,e.exports=o,o.id=686}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,l){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],l=e[c][2];for(var s=!0,n=0;n<r.length;n++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(s=!1,l<i&&(i=l));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,l,i=r[0],s=r[1],n=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(n)var c=n(a)}for(t&&t(r);d<i.length;d++)l=i[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},r=self["webpackChunkelectrons_admin"]=self["webpackChunkelectrons_admin"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(35608)}));r=a.O(r)})();
//# sourceMappingURL=app-legacy.4241ccb4.js.map