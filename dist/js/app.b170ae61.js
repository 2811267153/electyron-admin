(function(){var e={7958:function(e,t,a){"use strict";var l=a(8935),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s={name:"app",data(){return{userInfo:{}}},components:{}},i=s,n=a(1001),d=(0,n.Z)(i,r,o,!1,null,null,null),m=d.exports,c=a(2809),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"headerd"}},[a("div",{staticClass:"header app-header"},[a("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}})],1),a("div",{staticClass:"header-nav"},[a("div",{staticClass:"main-sub"},[a("div",{staticClass:"sub-menu-warp"},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"unique-opened":!0,"default-active":this.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ff7800"}},e._l(e.routes.children,(function(t){return a("el-submenu",{staticStyle:{width:"200px"},attrs:{"popper-class":"aa",index:t.name}},[a("template",{slot:"title"},[a("span",[e._v(e._s(t.meta.title))])]),e._l(t.children,(function(l){return a("el-menu-item-group",{staticStyle:{width:"200px"},attrs:{route:l,index:t.path}},[l.meta?a("div",[a("el-menu-item",{staticClass:"menu-item",attrs:{index:l.path}},[e._v(e._s(l.meta.title)+" ")])],1):e._e()])}))],2)})),1)],1)],1)]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-nav"},[a("el-breadcrumb",{staticClass:"nav-bar",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[a("a",{attrs:{href:this.$route.path}},[e._v(e._s(e.$route.meta.title))])])],1)],1),a("div",{staticClass:"container",staticStyle:{"text-align":"left"}},[a("router-view")],1)])])])},p=[],b=a(6166),f=a.n(b),h=a(4665);l["default"].use(h.ZP);var g=new h.ZP.Store({state:{userInfo:{},dictionaryData:{}},getters:{},mutations:{userInfo(e,t){e.userInfo=t},dictionaryData(e,t){e.dictionaryData=t}},actions:{userInfo(e,t){e.commit("userInfo",t)},dictionaryData(e,t){e.commit("dictionaryData",t)}},modules:{}}),v=a(329);const y="JSESSIONID";function F(){return v.Z.get(y)}function w(e){return v.Z.set(y,e)}function k(e){const t=f().create({baseURL:"/dispatch",timeout:1500,withCredentials:!0});return t.interceptors.request.use((e=>(g.state.userInfo&&(e.headers.Authorization=F()),e)),(e=>{})),t(e)}var _=a(7421);function x(e,t){return k({url:"/web/login",method:"post",headers:{"Content-Type":"application/json"},data:{username:e,password:t}})}function $(){return k({url:"/web/logout",method:"post",headers:{"Content-Type":"application/json"},data:{}})}var C={name:"headers",methods:{goBack(){this.$emit("goBack")},loginOut(){$().then((e=>{console.log(e)})).catch((e=>{this.$message.error(e)}))}},created(){},computed:{routes(){return this.$router.options.routes[1]},userInfo(){return this.$store.state.userInfo}}},S=C,I=(0,n.Z)(S,u,p,!1,null,"f723a0aa",null),N=I.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},T=[],P={name:"index"},W=P,q=(0,n.Z)(W,L,T,!1,null,"4b3a72bd",null),V=q.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"my-manage"}},[a("div",{staticClass:"container-l"},[a("e-tree",{attrs:{data:e.treeArr},on:{treeClick:e.treeClick}})],1),a("div",{attrs:{id:"container-main"}},[a("div",{staticClass:"container-nav"},[a("div",{staticClass:"container-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"用户状态"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"daterange",format:"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timer,callback:function(t){e.timer=t},expression:"timer"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:e.onClear}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.show(null,"新增")}}},[e._v("新增")])],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.resultList,"tooltip-effect":"dark"},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"序号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"nickName",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"email",label:"email","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"department",label:"所属部门","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"starts",label:"状态","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[0===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("启用")]):a("el-tag",{attrs:{type:"error"}},[e._v("停用")])],1)]}}])}),a("el-table-column",{attrs:{prop:"starts",label:"操作","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-item",on:{click:function(a){return e.show(t.row,"修改")}}},[e._v("修改")]),a("a",{staticClass:"link-item err",on:{click:function(a){return e.show(t.row,"删除")}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.isShow,width:"40%"},on:{"update:visible":function(t){e.isShow=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,id:"form",rules:e.rules}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"nickName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.nickName,callback:function(t){e.$set(e.addForm,"nickName",t)},expression:"addForm.nickName"}})],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"用户角色","label-width":e.formLabelWidth,prop:"roleId"}},[a("el-select",{staticClass:"form-item",attrs:{placeholder:"请选择用户角色"},model:{value:e.addForm.roleId,callback:function(t){e.$set(e.addForm,"roleId",t)},expression:"addForm.roleId"}},e._l(e.roleList,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"所属部门","label-width":e.formLabelWidth,prop:"deptId"}},[a("el-cascader",{attrs:{options:e.getterDeptIdList,props:e.defaultProps},model:{value:e.deptId,callback:function(t){e.deptId=t},expression:"deptId"}})],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"用户性别","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择用户性别"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},e._l(e.sexList,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"账号",type:"email","label-width":e.formLabelWidth,prop:"username"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"手机号",prop:"phone","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"email",autocomplete:"off"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShow=!1}}},[e._v("取 消")]),e.type?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.upDataAddForms("addForm")}}},[e._v("确 定 ")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms("addForm")}}},[e._v("确 定 ")])],1)],1)],1)])])},A=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.data,props:e.defaultProps,"default-expand-all":"",accordion:""},on:{"node-click":e.handleNodeClick}})},O=[],R={name:"e-tree",props:{data:{type:Array,default(){return[]}}},data(){return{defaultProps:{children:"children",label:"deptName"}}},watch:{filterText(e){this.$refs.tree.filter(e)}},methods:{handleNodeClick(e,t){console.log(e),this.$emit("treeClick",e)}}},E=R,G=(0,n.Z)(E,M,O,!1,null,"31b1e45e",null),Z=G.exports;function j(e){return console.log(e),k({url:"/system/dict/type/add",method:"post",data:e})}function z(e){return k({url:"/system/dict/type/list",method:"get",headers:{"Content-Type":"application/json"},params:e})}function J(e){return console.log(e),k({url:"/system/dict/type/update",method:"put",data:e})}function B(e){return console.log(e),k({url:"/system/dict/type/delete/"+e,method:"delete"})}function U(e){return k({url:"/system/dict/item/add",method:"post",data:e})}function H(e){return console.log(e),k({url:"/system/dict/item/list/type",method:"get",params:e})}function Y(e){return k({url:"/system/dict/item/update",method:"put",data:e})}function Q(e){return k({url:"/system/dict/item/delete/"+e,method:"delete",data:e})}function K(e){return k({url:"/system/dept/add",method:"post",data:e})}function X(e){return k({url:"/system/dept/list",data:e})}function ee(e){return console.log(e),k({url:"/system/dept/delete/"+e,method:"delete"})}function te(e){return k({url:"/system/dept/detail/"+e})}function ae(e){return k({url:"/system/role/list",method:"get",data:e})}function le(e){return k({url:"/system/role/update",method:"put",data:e})}function re(e){return k({url:"/system/user/add",method:"post",data:e})}function oe(){return k({url:"/system/user/list"})}function se(e){return k({url:"/system/user/delete/"+e,method:"delete"})}function ie(){return k({url:"/system/menu/list",method:"get"})}function ne(e){return k({url:"/system/log/list",params:(0,_.stringify)(e)})}function de(){return k({url:"/system/monitor/server"})}function me(){let e=new Date,t=e.getMonth()+1,a=e.getDate(),l=e.getHours(),r=e.getMinutes(),o=e.getSeconds();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),l>=0&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r),o>=0&&o<=9&&(o="0"+o);let s=e.getFullYear()+"-"+t+"-"+a+" "+l+":"+r+":"+o;return s}function ce(e){let t={},a=[];return e.forEach((e=>{t[e.deptId]=e})),e.forEach((e=>{const l=t[e.parentId];l?(l.children||(l.children=[])).push(e):a.push(e)})),a}function ue(e){let t={},a=[];return e.forEach((e=>{t[e.menuId]=e})),e.forEach((e=>{const l=t[e.parentId];l?(l.children||(l.children=[])).push(e):a.push(e)})),a}var pe={name:"serve-manage",components:{eTree:Z},data(){return{form:{pageSize:10,pageNum:1},addForm:{deptId:"",email:"",nickName:"",password:"",phone:"",roleId:3,sex:0,status:0,pageSize:10,pageNum:1,username:""},row:{},type:"",title:"新增",deptIdList:[],isShow:!1,resultList:[],departmentList:[],deptId:"",formLabelWidth:"120px",roleList:[{label:"系统管理员",value:0},{label:"审核员",value:1},{label:"录入员",value:2}],timer:{},treeArr:[],sexList:[{label:"男",value:0},{label:"女",value:1}],rules:{nickName:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],roleId:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],deptId:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],username:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],password:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],phone:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}]}}},methods:{onSubmit(){},treeClick(e){this.form.deptIds=e.deptId,this.getUserAll(this.form)},addForms(e){this.$refs[e].validate((e=>{if(!e)return!1;"新增"===this.title?(re(this.addForm).then((e=>{200===e.data.code?(this.getUserAll(this.form),this.$message.success("提交完成")):this.$message.error(e.data.msg)})).catch((e=>{this.$message.error(e)})),this.isShow=!1,this.$message({message:"提交完成",type:"success"})):le(this.addForm).then((e=>{200===e.data.code?(this.getUserAll(this.form),this.$message.success("提交完成")):this.$message.error("提交失败，请重试")}))}))},upDataAddForms(e,t){console.log(e,t)},onClear(){this.form={}},show(e,t){"新增"===t&&(this.title=t,this.isShow=!0,X(this.form).then((e=>{this.deptIdList=e.data.data})).catch((e=>{this.$message.error(e)})),this.addForm={status:0}),"修改"===t?(this.title=t,this.addForm=e,this.isShow=!0):"删除"===t&&se(e.userId).then((t=>{console.log(e.userId),200===t.data.code?(this.$message.success("删除完成!"),this.getUserAll(this.form)):this.$message.error(t.data.msg)})).catch((e=>{this.$message.error(e)}))},rowClick(e){this.row=e;e.index},tableRowClassName({row:e,rowIndex:t}){e.index=t},getUserAll(){oe().then((e=>{this.resultList=e.data.data.records,this.resultList.forEach(((e,t)=>{e.hasOwnProperty("deptId")&&(te(e.deptId).then((e=>{this.$set(this.resultList[t],"department",e.data.data.deptName)})).catch((e=>{console.log(e)})),console.log(this.departmentList))}))})).catch((e=>{this.$message.error(e)}))}},created(){this.getUserAll(this.form),X().then((e=>{console.log(e),this.treeArr=ce(e.data.data)}))},computed:{getterDeptIdList(){return ce(this.deptIdList)},defaultProps(){return{children:"children",label:"deptName",value:"deptId",expandTrigger:"hover"}}},watch:{deptId(e){this.addForm.deptId=this.deptId[this.deptId.length-1]},timer(e){console.log(e),this.addForm.createTime=e[0],this.addForm.endTime=e[1]}}},be=pe,fe=(0,n.Z)(be,D,A,!1,null,"029a4671",null),he=fe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"management"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"组织状态"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},e._l(e.stats,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-button",{attrs:{type:"primary"}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"新增")}}},[e._v("新增")])],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"部门名称","label-width":e.formLabelWidth,prop:"deptName"}},[a("el-input",{staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addForm.deptName,callback:function(t){e.$set(e.addForm,"deptName",t)},expression:"addForm.deptName"}})],1),a("el-form-item",{attrs:{label:"字典编码","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{staticClass:"input",attrs:{type:"number",autocomplete:"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1),a("el-form-item",{attrs:{label:"上级部门","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-input",{ref:"input",staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addForm.parentId,callback:function(t){e.$set(e.addForm,"parentId",t)},expression:"addForm.parentId"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisibles},on:{"update:visible":function(t){e.dialogFormVisibles=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"部门名称","label-width":e.formLabelWidth,prop:"deptName"}},[a("el-input",{staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addForm.deptName,callback:function(t){e.$set(e.addForm,"deptName",t)},expression:"addForm.deptName"}})],1),a("el-form-item",{attrs:{label:"字典编码","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{staticClass:"input",attrs:{type:"number",autocomplete:"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1),a("el-form-item",{attrs:{label:"上级部门","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-input",{ref:"input",staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.parentName,callback:function(t){e.parentName=t},expression:"parentName"}})],1),a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"上级部门","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-input",{ref:"input",staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addForm.parentId,callback:function(t){e.$set(e.addForm,"parentId",t)},expression:"addForm.parentId"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibles=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),a("el-tree",{attrs:{data:e.toTreeList,"expand-on-click-node":!1,"render-content":e.renderContent,"node-key":e.list.deptId,props:e.defaultProps,accordion:""},on:{"node-click":e.handleNodeClick}})],1)},ve=[],ye={name:"serve-manage",data:function(){return{title:"新增",dialogFormVisible:!1,dialogFormVisibles:!1,formLabelWidth:"120px",form:{pageNum:1,pageSize:10},addForm:{code:"",deptName:"",orderNum:"",parentId:"",status:0},clickCount:0,parentName:"",row:[],list:[],stats:[{label:"启用",value:"启用"},{label:"禁用",value:"禁用"}],defaultProps:{children:"children",label:"deptName"},rules:{deptName:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],code:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],orderNum:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],ancestors:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],parentId:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}]}}},methods:{handleNodeClick(e){this.row=e,this.parentName=this.row.deptName,this.addForm.parentId=this.row.deptId},getOrganizeList(e){X(e).then((e=>{this.list=e.data.data})).catch((e=>{console.log(e)}))},itemClick(e){this.dialogFormVisibles=!0},renderContent(e,t){return e("p",{class:"tree-item"},[e("span",{class:"job-name"},t.data.deptName),e("p",{},[e("span",t.data.createTime)]),e("p",{},[e("el-link",{class:"a",props:{type:"primary"},on:{click:this.itemClick}},"新增"),e("el-link",{props:{type:"primary"},on:{click:this.removeIt}},"删除")])])},addForms(e,t){this.title=t,this.dialogFormVisible=!0,this.resultCopy=this.resultList,"修改"!==t||(this.addForm=e),"下属单位"===t&&te(e.deptId).then((e=>{this.addForm.parentId=e.data.data.deptId,this.$refs.input.disabled=!0})).catch((e=>{this.$message.error(e)}))},submitForm(e){this.$refs[e].validate((e=>{e?(K(this.addForm).then((e=>{console.log(e)})).catch((e=>{console.log(e)})),this.$message({message:"提交完成",type:"success"})):(console.log("error submit!!"),this.$message({message:"提交失败, 请重试",type:"error"}))}))},removeIt(){ee(this.row.deptId).then((e=>{console.log(e),200===e.data.code&&(this.$message.success("删除成功!"),this.getOrganizeList(this.form)),this.$message.error(e.data.msg)}))}},created(){this.getOrganizeList(this.form)},computed:{createTime(){return this.addForm.createTime=me()},toTreeList(){return ce(this.list)}}},Fe=ye,we=(0,n.Z)(Fe,ge,ve,!1,null,null,null),ke=we.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"record"}},[a("div",{staticClass:"container"},[a("p",{staticClass:"title"},[e._v("日志")]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"账户姓名"}},[a("el-input",{attrs:{placeholder:"账户姓名"},model:{value:e.form.serialNumber,callback:function(t){e.$set(e.form,"serialNumber",t)},expression:"form.serialNumber"}})],1),a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{attrs:{placeholder:"IP"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1),a("el-form-item",{attrs:{label:"时间"}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("默认")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-DD HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.change},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("查询")])],1)],1)],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[a("el-table-column",{attrs:{align:"center",prop:"date",width:"50",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"时间"}}),a("el-table-column",{attrs:{prop:"realName",align:"center",width:"200",label:"姓名"}}),a("el-table-column",{attrs:{prop:"ipAddress",align:"center",width:"200",label:"IP地址"}}),a("el-table-column",{attrs:{prop:"targetPage",align:"center",width:"200",label:"目标页面"}}),a("el-table-column",{attrs:{prop:"operation",align:"center",width:"200",label:"操作"}})],1)],1)},xe=[],$e={name:"record-mange",data(){return{form:{createTime:"",pageNum:1,pageSize:10,serialNumber:"",IP:"",endTime:""},tableData:[],addForm:{},time:""}},created(){this.getLog(this.form)},methods:{getLog(e){console.log(e),ne(e).then((e=>{console.log(e),this.tableData=e.data.data.records})).catch((e=>{console.log(e)}))},change(){this.form.createTime=this.time[0],this.form.endTime=this.time[1]},submit(){this.getLog(this.form)}}},Ce=$e,Se=(0,n.Z)(Ce,_e,xe,!1,null,"88caf7fa",null),Ie=Se.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-l"},[a("el-form",{attrs:{"label-width":"80px",inline:!0,model:e.navForm}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{model:{value:e.navForm.name,callback:function(t){e.$set(e.navForm,"name",t)},expression:"navForm.name"}})],1),a("el-form-item",{attrs:{label:"权限"}},[a("el-input",{model:{value:e.navForm.permission,callback:function(t){e.$set(e.navForm,"permission",t)},expression:"navForm.permission"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择开始日期"},model:{value:e.navForm.startCreateTime,callback:function(t){e.$set(e.navForm,"startCreateTime",t)},expression:"navForm.startCreateTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择结束日期"},model:{value:e.navForm.endCreateTime,callback:function(t){e.$set(e.navForm,"endCreateTime",t)},expression:"navForm.endCreateTime"}})],1)],1),a("el-button",{attrs:{type:"primary"}},[e._v("查询")]),a("el-button",[e._v("重置")])],1),a("div",{staticClass:"nav-r"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addForms}},[e._v("新增")])],1)]),a("el-dialog",{attrs:{title:"新增角色",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth,prop:"roleName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1),a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1),a("el-form-item",{attrs:{label:"角色编码","label-width":e.formLabelWidth,prop:"roleCode"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.roleCode,callback:function(t){e.$set(e.addForm,"roleCode",t)},expression:"addForm.roleCode"}})],1),a("el-form-item",{attrs:{label:"菜单权限","label-width":e.formLabelWidth,required:""}},[a("el-tree",{attrs:{props:"permission",data:e.menuIds,props:e.defaultProps,accordion:"","check-on-click-node":!0,"show-checkbox":""},on:{check:e.checkChange}})],1),a("el-form-item",{attrs:{label:"权限状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("停用")])],1)],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"80%","margin-top":"20px"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{prop:"date",align:"center",label:"序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"roleName",align:"center",label:"角色名称",width:"180"}}),a("el-table-column",{attrs:{prop:"name",align:"center",label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("p",[a("el-tag",{attrs:{type:"success"}},[e._v("启用")])],1):a("p",[a("el-tag",{attrs:{type:"error"}},[e._v("禁用")])],1)]}}])}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间",width:"300"}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"数据权限",width:"180"}},[[a("el-link",{attrs:{type:"info"}},[e._v("数据权限")])]],2),a("el-table-column",{attrs:{align:"center",prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(e){}}},[e._v("删除")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(e){}}},[e._v("修改")])]}}])})],1)],1)},Le=[],Te={name:"role-manage",data(){return{menuIds:[],formLabelWidth:"120px",dialogFormVisible:!1,navForm:{menuIds:[],pageSize:10,pageNum:1,orderNum:"",roleCode:"",roleName:"",status:0},timer:{},addForm:{menuIds:[],pageSize:10,pageNum:1,orderNum:"",roleCode:"",roleName:"",status:0},selectMenuList:[],list:[],rules:{roleName:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],orderNum:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],roleCode:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}],permission:[{required:!0,message:"此项为必填项，请确认",trigger:"change"}]},defaultProps:{children:"children",label:"menuName"}}},watch:{dialogFormVisible(e){e&&ie().then((e=>{console.log(e),this.menuIds=ue(e.data.data)})).catch((e=>{console.log(e)}))}},methods:{addForms(){this.dialogFormVisible=!0},check(e,t){},checkChange(e,t){const a=t.checkedNodes;console.log(a)},getRoleList(e){ae(e).then((e=>{console.log(e),this.list=e.data.data.records})).catch((e=>{this.$message.error(e)}))}},created(){this.getRoleList(this.navForm)}},Pe=Te,We=(0,n.Z)(Pe,Ne,Le,!1,null,"613d0ae2",null),qe=We.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:""}},[e._v("服务管理")])},De=[],Ae={name:"serve-manage"},Me=Ae,Oe=(0,n.Z)(Me,Ve,De,!1,null,"379f7a9c",null),Re=(Oe.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"serve-stauts"}},[a("div",{staticClass:"overview"},[a("div",{staticClass:"overview-l"},[a("h2",[e._v("服务器运行状态总揽")]),a("div",{staticClass:"percentage-item"},[a("span",[e._v("用户使用率")]),a("el-progress",{staticClass:"percentage",attrs:{percentage:e.percentage.used,color:e.customColor}})],1),a("div",{staticClass:"percentage-item"},[a("span",[e._v("系统使用率")]),a("el-progress",{staticClass:"percentage",attrs:{percentage:e.percentage.sys,color:e.customColor}})],1),a("div",{staticClass:"percentage-item"},[a("span",[e._v("当前空闲率")]),a("el-progress",{staticClass:"percentage",attrs:{percentage:e.percentage.free,color:e.customColor}})],1)])]),a("div",{staticClass:"warp"},[a("h2",[e._v("服务器信息")]),a("ul",[a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("服务器名称")]),e._v(e._s(e.serveData.sys.computerName||""))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("操作系统")]),e._v(e._s(e.serveData.sys.osName))])]),a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("服务器IP")]),e._v(e._s(e.serveData.sys.computerIp))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("系统架构")]),e._v(e._s(e.serveData.sys.osArch))])])])]),a("div",{staticClass:"warp"},[a("h2",[e._v("JAVA虚拟机信息")]),a("ul",[a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("JAVA名称")]),e._v(e._s(e.serveData.jvm.name))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("Java版本")]),e._v(e._s(e.serveData.jvm.version))])]),a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("启动时间")]),e._v(e._s(e.serveData.jvm.runTime))]),a("div",{staticClass:"warp-li"},[a("span",[e._v("运行时长")]),e._v(e._s(e.serveData.jvm.startTime))])]),a("li",[a("div",{staticClass:"warp-li"},[a("span",[e._v("安装路径")]),e._v(e._s(e.serveData.jvm.home))]),a("div",{staticClass:"warp-li"})])])]),a("div",{staticClass:"warp"},[a("h2",[e._v("磁盘状态")]),a("el-table",{staticStyle:{width:"50%"},attrs:{border:"",data:e.serveData.sysFiles}},[a("el-table-column",{attrs:{align:"center",prop:"dirName",label:"盘符路径",width:"180"}}),a("el-table-column",{attrs:{align:"center",prop:"sysTypeName",label:"文件系统"}}),a("el-table-column",{attrs:{align:"center",prop:"total",label:"总大小"}}),a("el-table-column",{attrs:{align:"center",prop:"usage",label:"已使用"}}),a("el-table-column",{attrs:{align:"center",prop:"used",label:"未使用"}})],1)],1)])}),Ee=[],Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warp"},[a("div",{ref:"eCharts",staticClass:"v-echarts"})])},Ze=[],je=a(727),ze={name:"v-index",props:{data:{type:Object,default(){return{}}}},mounted(){this.drawChart()},methods:{drawChart(){const e=je.S1(this.$refs.eCharts),t=this.data;e.setOption(t)}}},Je=ze,Be=(0,n.Z)(Je,Ge,Ze,!1,null,"c3439ae4",null),Ue=Be.exports,He={name:"serveStarts",components:{vIndex:Ue},data(){return{form:{cpu:"95",ram:"95",network:"95",hardDisk:"95",call:""},dialogFormVisible:!1,formLabelWidth:"120px",percentage:{},customColor:"#ff7800",serveData:[],timer:[]}},created(){this.timer=setInterval((()=>{de().then((e=>{console.log(e),this.serveData=e.data.data,this.percentage=this.serveData.cpu}))}),1e3)},methods:{getSystem(){de().then((e=>{console.log(e),this.serveData=e.data.data,this.percentage=this.serveData.cpu}))}},beforeDestroy(){window.clearInterval(this.timer)}},Ye=He,Qe=(0,n.Z)(Ye,Re,Ee,!1,null,null,null),Ke=Qe.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"container"},[a("p",[e._v(e._s(this.$route.meta.title))])]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.from}},[a("el-form-item")],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加字典")}}},[e._v("添加字典 ")])],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.riles}},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"排序","label-width":e.formLabelWidth,prop:"orderNum"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1),a("el-form-item",{attrs:{label:"字典类型",disabled:"","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"是否启用","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),a("el-radio",{attrs:{label:2}},[e._v("停用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.black}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.resultList,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"字典名称"}}),a("el-table-column",{attrs:{align:"center",prop:"createBy",label:"创建人"}}),a("el-table-column",{attrs:{align:"center",prop:"status",label:"标示码"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("div",[a("el-tag",{attrs:{type:"success"}},[e._v("启用")])],1):a("div",[a("el-tag",{attrs:{type:"success"}},[e._v("禁用")])],1)]}}])}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{align:"center",prop:"mark",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("a",{staticStyle:{"margin-right":"20px"},on:{click:function(a){return e.showAddForm(t.row,"修改")}}},[e._v("修改")]),a("a",{staticStyle:{"margin-right":"20px"},on:{click:function(a){return e.removeIt(t.row.id)}}},[e._v("删除")])])]}}])})],1)],1)])},et=[],tt={name:"serve-manage",data(){return{isShow:!1,title:"新增",from:{searchInp:""},showDataList:[{label:"1",value:"字典类型"},{label:"2",value:"字典ID"}],formLabelWidth:"120px",dialogFormVisible:!1,resultList:[],showData:"",addForm:{name:"",creatTime:"",status:"1",code:"",pageNum:1,pageSize:10,orderNum:"",typeId:""},codeList:[],riles:{name:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],desc:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],mark:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],orderNum:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}],code:[{required:!0,message:"此项为必填项，请确认",trigger:"blur"}]},status:[{label:"1",value:"开启"},{label:"0",value:"关闭"}]}},computed:{creatTime(){return this.addForm.creatTime=me()},code(){return this.$route.query.name}},methods:{toPath(){this.$router.push({name:"dataManage"})},disabled(e){return 1!=e},submitAddForm(){this.$refs["addForm"].validate((e=>{const t={pageNum:1,pageSize:10};t.code=this.$route.query.code,e&&(this.addForm.typeId=this.$route.query.id,"修改"===this.title?Y(this.addForm).then((e=>{200===e.data.code?(this.$message.success("修改完成！"),this.getDictionaryAll(t)):this.$message.error(e.data.msg)})).catch((e=>{this.$message.error(e)})):U(this.addForm).then((e=>{200===e.data.code?(this.$message.success("添加完成！"),this.getDictionaryAll(t)):this.$message.error(e.data.msg)})),this.dialogFormVisible=!1)}))},onSubmit(){},showAddForm(e,t){this.title=t,this.dialogFormVisible=!0,this.addForm="修改"===t?e:{}},black(){this.dialogFormVisible=!1,this.resultList=this.resultCopy},removeIt(e){console.log(e),Q(e).then((e=>{200===e.data.code&&(this.$message.success("删除成功！"),this.getDictionaryAll(this.addForm))})).catch((e=>{this.$message.error(e)}))},getDictionaryAll(e){H(e).then((e=>{console.log(e),this.resultList=e.data.data})).catch((e=>{this.$message.error(e)}))}},created(){this.addForm.code=this.$route.query.code,this.getDictionaryAll(this.addForm)}},at=tt,lt=(0,n.Z)(at,Xe,et,!1,null,"47f4d7e3",null),rt=lt.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["/layout/dataManage"==e.$route.path?a("div",[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-l"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"新增")}}},[e._v("新增")])],1)]),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"字典类型编码","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),a("el-radio",{attrs:{label:2}},[e._v("停用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.resultList}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}],null,!1,811300409)}),a("el-table-column",{attrs:{prop:"name",label:"字典类型名称",width:"300"}}),a("el-table-column",{attrs:{prop:"code",label:"字典类型编码",width:"300"}}),a("el-table-column",{attrs:{prop:"createTime",label:"更新时间"}}),a("el-table-column",{attrs:{prop:"sort",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-tag",[e._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[e._v("停用")])]}}],null,!1,1126536408)}),a("el-table-column",{attrs:{prop:"sort",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("a",{on:{click:function(a){return e.showAddForm(t.row,"修改")}}},[e._v("修改")]),a("a",{on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除")]),a("a",{on:{click:function(a){return e.toPath(t.row)}}},[e._v("查看字典")])])]}}],null,!1,3662028527)})],1)],1):e._e(),a("router-view")],1)},st=[],it={name:"dataManage",data(){return{title:"",formLabelWidth:"120px",dialogFormVisible:!1,resultList:[],addForm:{name:"",endTime:"",startTime:"",status:1,code:"",del:"",id:"",pageNum:1,pageSize:10},rules:{name:[{required:!0,message:"请输入字典类型名称",trigger:"blur"}],mark:[{required:!0,message:"请输入标示码",trigger:"blur"}],code:[{required:!0,message:"请输入字典类型编码",trigger:"blur"}]}}},methods:{submitAddForm(e){this.$refs["addForm"].validate((e=>{e?("新增"===this.title?j(this.addForm).then((e=>{this.dictionaryList()})):this.aa(this.addForm),this.dialogFormVisible=!1,this.$message({message:"提交完成",type:"success"}),this.dialogFormVisible=!1):this.$message({message:"提交失败",type:"error"})}))},toPath(e){this.$router.push({path:"/layout/dicManage",query:{id:e.id,name:e.name,code:e.code}}),this.$store.dispatch("dictionaryData",e)},aa(e){console.log(e);const t={};t.id=e.id,t.code=e.code,t.name=e.name,t.status=e.status,J(t).then((e=>{console.log(t),console.log(e)})).catch((e=>{console.log(e),this.$message.error(e)}))},removeIt(e){console.log(e.id),B(e.id).then((e=>{this.dictionaryList(this.addForm)})).catch((e=>{this.$message.error(e)}))},showAddForm(e,t){this.title=t,this.dialogFormVisible=!0,this.addForm=e,this.addForm="修改"===t?e:{}},dictionaryList(e){z(e).then((e=>{this.resultList=e.data.data["records"]})).catch((e=>{this.$message.error("网络请求失败请重试")}))}},created(){this.dictionaryList(this.addForm)},computed:{creatTimes(){return this.addForm.creatTime=me()},ids(){}}},nt=it,dt=(0,n.Z)(nt,ot,st,!1,null,"858ef786",null),mt=dt.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("router-view")],1)},ut=[],pt={name:"configure"},bt=pt,ft=(0,n.Z)(bt,ct,ut,!1,null,"aedb2232",null),ht=ft.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"phone"},[a("div",{staticClass:"phone-l"},[a("p",[e._v("所属区域")]),a("div",{staticClass:"el-tree"},[a("e-tree")],1)]),a("div",{staticClass:"phone-r"},[e._m(0),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"话机名称"}},[a("el-input",{attrs:{placeholder:"审网管名称批人"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"SIP号"}},[a("el-input",{attrs:{placeholder:"物理地址"},model:{value:e.form.SIP,callback:function(t){e.$set(e.form,"SIP",t)},expression:"form.SIP"}})],1),a("el-form-item",{attrs:{label:"话机类型"}},[a("el-select",{attrs:{placeholder:"协议类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.type,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"话机状态"}},[a("el-select",{attrs:{placeholder:"中继类型"},model:{value:e.form.stats,callback:function(t){e.$set(e.form,"stats",t)},expression:"form.stats"}},e._l(e.relayType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:e.onSubmit}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"添加话机")}}},[e._v("添加话机 ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"话机名称",width:"180"}}),a("el-table-column",{attrs:{prop:"SIP",label:"SIP号",width:"180"}}),a("el-table-column",{attrs:{prop:"type",label:"话机类型"}}),a("el-table-column",{attrs:{prop:"area",label:"所属地区"}}),a("el-table-column",{attrs:{prop:"balance",label:"余额"}}),a("el-table-column",{attrs:{prop:"overdraft",label:"透支余额"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.addForms(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.recharge(t.row)}}},[e._v("充值 ")])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{staticClass:"width",attrs:{label:"话机名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入话机名称"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"话机类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{attrs:{placeholder:"话机类型"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.type,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"所属地区","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.addForm.area,callback:function(t){e.$set(e.addForm,"area",t)},expression:"addForm.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),a("el-form-item",{staticClass:"width",attrs:{label:"SIP号","label-width":e.formLabelWidth,prop:"SIP"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入SIP号"},model:{value:e.addForm.SIP,callback:function(t){e.$set(e.addForm,"SIP",t)},expression:"addForm.SIP"}})],1),a("el-form-item",{staticClass:"width",attrs:{label:"登录密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),a("el-form-item",[[a("div",{staticClass:"flex"},[a("el-form-item",{attrs:{label:"余额","label-width":e.formLabelWidth,prop:"balance"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addForm.balance,callback:function(t){e.$set(e.addForm,"balance",t)},expression:"addForm.balance"}})],1),a("el-form-item",{attrs:{label:"透支余额","label-width":e.formLabelWidth,prop:"overdraft"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addForm.overdraft,callback:function(t){e.$set(e.addForm,"overdraft",t)},expression:"addForm.overdraft"}})],1)],1)]],2),a("el-form-item",[[a("div",{staticClass:"flex"},[a("el-form-item",{attrs:{label:"外呼计费模式","label-width":e.formLabelWidth,prop:"billingModel"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.billingModel,callback:function(t){e.$set(e.addForm,"billingModel",t)},expression:"addForm.billingModel"}},e._l(e.billingModel,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"外呼计费套餐","label-width":e.formLabelWidth,prop:"combo"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.combo,callback:function(t){e.$set(e.addForm,"combo",t)},expression:"addForm.combo"}},e._l(e.combo,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)]],2),a("el-form-item",{attrs:{label:"传递强显号码","label-width":e.formLabelWidth,prop:"mandatoryShow"}},[a("el-radio-group",{model:{value:e.addForm.mandatoryShow,callback:function(t){e.$set(e.addForm,"mandatoryShow",t)},expression:"addForm.mandatoryShow"}},[a("el-radio",{attrs:{label:1}},[e._v("备选项")]),a("el-radio",{attrs:{label:2}},[e._v("备选项")])],1)],1),a("el-form-item",{attrs:{label:"强显号码","label-width":e.formLabelWidth,prop:"mandatoryShowNum"}},[a("el-input",{staticStyle:{display:"inline-block",width:"40%","margin-right":"10px"},attrs:{placeholder:"请输入号码"},model:{value:e.addForm.mandatoryShowNum,callback:function(t){e.$set(e.addForm,"mandatoryShowNum",t)},expression:"addForm.mandatoryShowNum"}})],1),a("el-form-item",{attrs:{label:"坐标","label-width":e.formLabelWidth,prop:"enforceNumber"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{display:"inline-block",width:"40%","margin-right":"10px"},attrs:{type:"number",placeholder:"请输入经度"},model:{value:e.addForm.enforceNumber,callback:function(t){e.$set(e.addForm,"enforceNumber",t)},expression:"addForm.enforceNumber"}}),a("el-input",{staticStyle:{display:"inline-block",width:"40%","margin-right":"10px"},attrs:{type:"number",placeholder:"请输入纬度"},model:{value:e.addForm.coordinateNumber,callback:function(t){e.$set(e.addForm,"coordinateNumber",t)},expression:"addForm.coordinateNumber"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"}},[e._v("主要按钮 ")])]}}])}),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["新增"===e.title?a("el-button",{on:{click:function(e){}}},[e._v("取消")]):a("el-button",{on:{click:function(t){return e.submitForm("addFrom")}}},[e._v("取 sss消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定 ")])],1)],1),a("el-dialog",{attrs:{title:"充值提示",visible:e.showBar,width:"30%",center:""},on:{"update:visible":function(t){e.showBar=t}}},[a("p",{staticClass:"title"},[a("b",[e._v("充值提醒：")]),a("span",[e._v("你将要为 "+e._s(e.rechargeInfo.name)+" ("+e._s(e.rechargeInfo.SIP)+")进行充值")])]),a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.rechargeInfo.value,callback:function(t){e.$set(e.rechargeInfo,"value",t)},expression:"rechargeInfo.value"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showBar=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit(e.rechargeInfo)}}},[e._v("确 定")])],1)],1)],1)},vt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("p",[e._v("SIP服务器")])])}],yt={name:"phoneConfig",components:{eTree:Z},data(){return{title:"添加话机",dialogFormVisible:!1,formLabelWidth:"120px",showBar:!1,form:{name:"",SIP:"",type:"",stats:""},rechargeInfo:{value:null},addForm:{name:"",type:"",area:"",SIP:"",password:"",balance:"",overdraft:"",recordingStatus:"",extranetCall:"",billingModel:"",combo:"",mandatoryShow:"",mandatoryShowNum:"",enforceNumber:"",coordinateNumber:"",remark:""},list:[],type:[{label:"数字对讲",value:"数字对讲"},{label:"数字话机",value:"数字话机"},{label:"4G数字话机",value:"4G数字话机"},{label:"5G可视话机",value:"5G可视话机"},{label:"APP软电话",value:"APP软电话"},{label:"APP广播",value:"APP广播"}],billingModel:[{label:"1 + 1",value:"1 + 1"},{label:"6 + 6",value:"6 + 6"},{label:"12 + 12",value:"12 + 12"},{label:"60 + 60",value:"60 + 60"}],relayType:[{label:"开启",value:"开启"},{label:"关闭",value:"关闭"}],combo:[{label:"基本套餐",value:"基本套餐"},{label:"白金套餐",value:"白金套餐"},{label:"黄金套餐",value:"黄金套餐"}],rules:{name:[{required:!0,message:"请输入话机名称",trigger:"blur"},{max:100,message:"长度在100个字符以内",trigger:"blur"}],type:[{required:!0,message:"请选择话机类型",trigger:"blur"}],area:[{required:!0,message:"请选择活动地址",trigger:"blur"}],SIP:[{required:!0,message:"请输入SIP号码",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],mandatoryShowNum:[{required:!1,message:"请输入密码",trigger:"blur"}],billingModel:[{required:!1,message:"请输入密码",trigger:"blur"}],combo:[{required:!1,message:"请输入密码",trigger:"blur"}],extranetCall:[{required:!1,message:"请输入密码",trigger:"blur"}],recordingStatus:[{required:!1,message:"请输入密码",trigger:"blur"}],overdraft:[{required:!1,message:"请输入密码",trigger:"blur"}],balance:[{required:!1,message:"请输入密码",trigger:"blur"}],mandatoryShow:[{required:!1,message:"请输入密码",trigger:"blur"}],enforceNumber:[{required:!1,message:"请输入密码",trigger:"blur"}],remark:[{required:!1,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs["addForm"].validate((e=>{if(!e)return this.$message.error("提交失败， 请重试"),!1;this.$message({message:"提交完成",type:"success"}),this.list.push(this.addForm),window.localStorage.setItem("phone",JSON.stringify(this.list)),this.dialogFormVisible=!1}))},addForms(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addForm=e:(this.resetForm("addForm"),console.log("aaa"))},tableRowClassName({row:e,rowIndex:t}){e.index=t},removeIt(e){this.list.map(((t,a)=>{e===t&&this.list.splice(a,1)}))},resetForm(){this.$refs["addForm"].resetFields()},recharge(e){this.showBar=!0,this.rechargeInfo=e},submit(e){null!==e.value&&(this.list[e.index].balance=parseInt(e.balance)+parseInt(e.value)),this.$message({message:"充值完成",type:"success"}),this.showBar=!1}},created(){this.list=JSON.parse(window.localStorage.getItem("phone"))||[]}},Ft=yt,wt=(0,n.Z)(Ft,gt,vt,!1,null,"aa868682",null),kt=wt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"observe"}},[a("div",{staticClass:"serve-bar"},[a("e-tree")],1),a("div",{staticClass:"serve-container"},[a("p",{staticClass:"title"},[e._v("调度台管理")]),a("div",{staticClass:"nav-info"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"调度台名称"}},[a("el-input",{attrs:{placeholder:"请输入调度台名称"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"调度号码"}},[a("el-input",{attrs:{placeholder:"请输入调度号码"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"调度台状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.stauts,callback:function(t){e.$set(e.form,"stauts",t)},expression:"form.stauts"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("搜索")]),a("el-button",{attrs:{type:"danger"},on:{click:e.onSubmit}},[e._v("重置")])],1)],1),a("div",{staticClass:"addForm-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForms(null,"添加调度台")}}},[e._v("添加调度台")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{staticClass:"width",attrs:{label:"调度台名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入调度台名称"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"所属区域","label-width":e.formLabelWidth,prop:"area"}},[a("el-cascader",{attrs:{options:e.areaList,props:{expandTrigger:"hover"}},on:{change:e.handleChange},model:{value:e.addForm.area,callback:function(t){e.$set(e.addForm,"area",t)},expression:"addForm.area"}})],1),a("el-form-item",{attrs:{label:"管理账户","label-width":e.formLabelWidth,prop:"account"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.account,callback:function(t){e.$set(e.addForm,"account",t)},expression:"addForm.account"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"调度号码","label-width":e.formLabelWidth,prop:"number"}},[a("el-input",{staticClass:"width",model:{value:e.addForm.number,callback:function(t){e.$set(e.addForm,"number",t)},expression:"addForm.number"}})],1),a("el-form-item",{attrs:{label:"坐标","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入经度"},model:{value:e.addForm.coordinate.x,callback:function(t){e.$set(e.addForm.coordinate,"x",t)},expression:"addForm.coordinate.x"}}),a("el-input",{staticClass:"width",attrs:{placeholder:"请输入纬度"},model:{value:e.addForm.coordinate.y,callback:function(t){e.$set(e.addForm.coordinate,"y",t)},expression:"addForm.coordinate.y"}})],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"remark"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"调度台名称",width:"180"}}),a("el-table-column",{attrs:{prop:"area",label:"所属区域"}}),a("el-table-column",{attrs:{prop:"number",label:"调度号码"}}),a("el-table-column",{attrs:{prop:"number",label:"坐标"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.coordinate.x)+e._s(t.row.coordinate.y))])]}}])}),a("el-table-column",{attrs:{prop:"number",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["启用"===t.row.account?a("el-tag",{attrs:{type:"success"}},[e._v("启用'")]):a("el-tag",{attrs:{type:"danger"}},[e._v("停用")])]}}])}),a("el-table-column",{attrs:{prop:"number",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.addForms(t.row,"编辑")}}},[e._v("编辑")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"}},[e._v("调度组")])],1)]}}])})],1)],1)])},xt=[],$t={name:"observeOnDispatcher",components:{eTree:Z},data(){return{title:"添加话机",dialogFormVisible:!1,formLabelWidth:"120px",form:{stauts:""},list:[],addForm:{name:"",area:"",account:"",number:"",coordinate:{x:"",y:""},remark:""},options:[{label:"启用",value:"启用"},{label:"停用",value:"停用"}],areaList:[{label:"湖北",value:"湖北",children:[{label:"武汉",value:"武汉"},{label:"武汉",value:"武汉"},{label:"武汉",value:"武汉"},{label:"武汉",value:"武汉"}]}],rules:{name:[{required:!0,message:"请输入调度台名称",trigger:"blur"}],area:[{required:!0,message:"请输入调度台名称",trigger:"blur"}],account:[{required:!0,message:"请输入调度台名称",trigger:"blur"}],number:[{required:!0,message:"请输入调度台名称",trigger:"blur"}],x:[{required:!0,message:"请输入调度台名称",trigger:"blur"}],remark:[{required:!1,message:"请输入调度台名称",trigger:"blur"}]}}},methods:{onSubmit(){},handleChange(e){console.log(e)},submitForm(e){console.log(this.$refs[e]),this.$refs[e].validate((e=>{if(!e)return this.$message({message:"提交失败， 请重试",type:"error"}),!1;this.list.push(this.addForm),this.dialogFormVisible=!1,window.localStorage.setItem("observe",JSON.stringify(this.list)),this.$message({message:"提交完成",type:"success"})}))},resetForm(){this.$refs.addForm.resetFields()},addForms(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addForm=e:(console.log("aa"),this.resetForm())},tableRowClassName({row:e,rowIndex:t}){e.index=t},removeIt(e){this.list.map(((t,a)=>{e===t&&this.list.splice(a,1)}))},recharge(e){this.showBar=!0,this.rechargeInfo=e}},created(){this.list=JSON.parse(window.localStorage.getItem("observe"))||[]}},Ct=$t,St=(0,n.Z)(Ct,_t,xt,!1,null,"010887fd",null),It=St.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"camera"}},[a("div",{staticClass:"camera-l"},[a("e-tree")],1),a("div",{staticClass:"container"},[a("p",{staticClass:"title"},[e._v("摄像头管理")]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"序列号"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.serialNumber,callback:function(t){e.$set(e.form,"serialNumber",t)},expression:"form.serialNumber"}})],1),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.stauts,callback:function(t){e.$set(e.form,"stauts",t)},expression:"form.stauts"}},e._l(e.stautsData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"厂商"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}},e._l(e.equipmentManufacturerData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设备类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")])],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"新增设备")}}},[e._v("新增设备")]),a("el-button",{attrs:{type:"primary"}},[e._v("删除设备")]),a("el-button",{attrs:{type:"primary"}},[e._v("二维码打印")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.addForm}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"SIP号","label-width":e.formLabelWidth,prop:"serialNumber"}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.serialNumber,callback:function(t){e.$set(e.addForm,"serialNumber",t)},expression:"addForm.serialNumber"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备厂商","label-width":e.formLabelWidth,prop:"company"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:e.isReadOnly},model:{value:e.addForm.company,callback:function(t){e.$set(e.addForm,"company",t)},expression:"addForm.company"}},e._l(e.equipmentManufacturerData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设备类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:e.isReadOnly},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.typeData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备IP","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.ip,callback:function(t){e.$set(e.addForm,"ip",t)},expression:"addForm.ip"}})],1),a("el-form-item",{attrs:{label:"端口","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.host,callback:function(t){e.$set(e.addForm,"host",t)},expression:"addForm.host"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"账户","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.account,callback:function(t){e.$set(e.addForm,"account",t)},expression:"addForm.account"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:e.isReadOnly},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属区域","label-width":e.formLabelWidth,prop:"area"}},[a("el-cascader",{attrs:{disabled:e.isReadOnly,options:e.area,props:{expandTrigger:"hover"}},model:{value:e.addForm.area,callback:function(t){e.$set(e.addForm,"area",t)},expression:"addForm.area"}})],1),a("el-form-item",{attrs:{label:"创建时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:!0},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1)],1),a("el-form-item",{attrs:{label:"设备位置","label-width":e.formLabelWidth}},[""!=e.addForm.address.x?a("div",[e._v(" "+e._s(this.addForm.address.province)+" "+e._s(this.addForm.address.city)+" "+e._s(this.addForm.address.district)+" "+e._s(this.addForm.address.street)+" ")]):a("div",[e._v("请在下图中选择坐标")]),a("baiduMap",{attrs:{id:"baidu-map",ak:"qF2OlD0Gin1GwwqYTHR3cQ8dqfcfZhtZ",center:"北京"}},[a("bm-view",{staticStyle:{width:"100%",height:"400px",flex:"1"}}),a("Geolocation",{attrs:{autoLocation:!0},on:{locationSuccess:e.locationSuccess}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"设备名称",width:"100"}}),a("el-table-column",{attrs:{prop:"serialNumber",label:"SIP号",width:"180"}}),a("el-table-column",{attrs:{prop:"company",label:"设备厂商",width:"180"}}),a("el-table-column",{attrs:{prop:"ip",label:"设备IP",width:"180"}}),a("el-table-column",{attrs:{prop:"area",label:"所属区域",width:"180"}}),a("el-table-column",{attrs:{prop:"createTime",label:"安装时间",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"设备位置",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.address.province)+e._s(t.row.address.city)+e._s(t.row.address.district)+e._s(t.row.address.street)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"stauts",label:"设备状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stauts?a("div",[e._v("已连通")]):a("div",[e._v("未连通")])]}}])}),a("el-table-column",{attrs:{prop:"stauts",label:"设备状态",width:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"查看")}}},[e._v("查看")])]}}])})],1)],1)])},Lt=[],Tt=a(8829),Pt=a(7106),Wt=a(2862),qt={name:"cameraView",components:{eTree:Z,baiduMap:Tt.Z,Geolocation:Pt.Z,bmView:Wt.Z},data(){return{title:"新增设备",isReadOnly:!1,dialogTableVisible:!1,formLabelWidth:"120px",form:{serialNumber:"",deviceName:"",company:"",ip:"",equipmentManufacturer:"",type:"",stauts:""},addForm:{name:"",serialNumber:"",company:"",type:"",ip:"",host:"",account:"",password:"",area:"",createTime:"",address:{x:"",y:""},location:"",stauts:!0},list:[],stautsData:[{label:"已开通",value:"已开通"},{label:"未开通",value:"未开通"}],equipmentManufacturerData:[{label:"华康",value:"华康"},{label:"大华",value:"大华"}],typeData:[{label:"红外测温",value:"红外测温"},{label:"视频监控",value:"视频监控"},{label:"人脸卡口",value:"人脸卡口"},{label:"车辆卡口",value:"车辆卡口"},{label:"视频门禁",value:"视频门禁"}],area:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}],rules:{name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],serialNumber:[{required:!0,message:"请输入序列号",trigger:"blur"}],company:[{required:!0,message:"请输入设备厂商",trigger:"blur"}],type:[{required:!0,message:"请输入设备类型",trigger:"blur"}],area:[{required:!0,message:"请输入区域位置",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message({message:"提交失败， 请重试",type:"error"}),!1;this.list.push(this.addForm),this.dialogTableVisible=!1,window.localStorage.setItem("camera",JSON.stringify(this.list)),this.$message({message:"提交完成",type:"success"})}))},showAddForm(e,t){this.dialogTableVisible=!0,this.title=t,"编辑"===t?this.addForm=e:"查看"===t?(this.addForm=e,this.isReadOnly=!0):this.resetForm()},tableRowClassName({row:e,rowIndex:t}){e.index=t},removeIt(e){this.list.map(((t,a)=>{e===t&&this.list.splice(a,1)}))},locationSuccess(e){this.addForm.address.x=e.marker.map.SC.lat,this.addForm.address.y=e.marker.map.SC.lng,console.log(e),this.addForm.address=e["addressComponent"],console.log(this.addForm)},resetForm(e){this.$refs[e].resetFields()}},created(){this.list=JSON.parse(window.localStorage.getItem("camera"))||[]},computed:{createTime(e){return this.addForm.createTime=me(e)}}},Vt=qt,Dt=(0,n.Z)(Vt,Nt,Lt,!1,null,"f0311ec0",null),At=Dt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"terminal"}},[a("div",{staticClass:"terminal-l"},[a("e-tree")],1),a("div",{staticClass:"container"},[a("p",[e._v("会议终端")]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"会议终端名称"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"设备IP"}},[a("el-input",{model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip",t)},expression:"form.ip"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")]),a("el-button",[e._v("重置")])],1)],1),a("div",{staticClass:"nav-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加会议终端")}}},[e._v(e._s(e.title))])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"会议终端名称",width:"200"}}),a("el-table-column",{attrs:{prop:"ip",label:"设备IP",width:"200"}}),a("el-table-column",{attrs:{prop:"ip",label:"所属区域",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.area[0])+e._s(t.row.area[1]))]}}])}),a("el-table-column",{attrs:{prop:"SIP",label:"SIP号码",width:"300"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"查看")}}},[e._v("查看")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addFrom",attrs:{model:e.addForm,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"会议终端名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"SIP号码","label-width":e.formLabelWidth,prop:"SIP"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.SIP,callback:function(t){e.$set(e.addForm,"SIP",t)},expression:"addForm.SIP"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"设备IP","label-width":e.formLabelWidth,prop:"ip"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.ip,callback:function(t){e.$set(e.addForm,"ip",t)},expression:"addForm.ip"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"端口","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.host,callback:function(t){e.$set(e.addForm,"host",t)},expression:"addForm.host"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"所属区域","label-width":e.formLabelWidth,prop:"area"}},[a("el-cascader",{attrs:{options:e.options,props:{expandTrigger:"hover"}},model:{value:e.addForm.area,callback:function(t){e.$set(e.addForm,"area",t)},expression:"addForm.area"}})],1)],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1)],1)},Ot=[],Rt={name:"terminal",components:{eTree:Z},data(){return{formLabelWidth:"120px",dialogFormVisible:!1,title:"添加会议终端",form:{},list:[],addForm:{name:"",ip:"",host:"",area:"",remark:""},options:[{label:"湖北",value:"湖北",children:[{label:"武汉",value:"武汉"},{label:"十堰",value:"十堰"},{label:"襄阳",value:"襄阳"},{label:"随州",value:"随州"}]}],rules:{name:[{required:!0,message:"请输入话机名称",trigger:"blur"}],ip:[{required:!0,message:"请输入IP地址",trigger:"blur"}],area:[{required:!0,message:"请输入所属区域",trigger:"blur"}],SIP:[{required:!0,message:"请输入SIP",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs["addFrom"].validate((e=>{if(!e)return this.$message({message:"提交失败， 请重试",type:"error"}),!1;this.list.push(this.addForm),this.$message({message:"提交完成",type:"success"}),this.dialogFormVisible=!1,window.localStorage.setItem("terminal",JSON.stringify(this.list))}))},showAddForm(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addForm=e:"查看"===t?(this.addForm=e,this.isReadOnly=!0):this.resetForm()},tableRowClassName({row:e,rowIndex:t}){e.index=t},removeIt(e){this.list.map(((t,a)=>{e===t&&this.list.splice(a,1)}))}},created(){this.list=JSON.parse(window.localStorage.getItem("terminal"))||[]}},Et=Rt,Gt=(0,n.Z)(Et,Mt,Ot,!1,null,"66e86d72",null),Zt=Gt.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"networkManagement"}},[e._m(0),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.from}},[a("el-form-item",{attrs:{label:"网管名称"}},[a("el-input",{attrs:{placeholder:"审网管名称批人"},model:{value:e.from.user,callback:function(t){e.$set(e.from,"user",t)},expression:"from.user"}})],1),a("el-form-item",{attrs:{label:"物理地址"}},[a("el-input",{attrs:{placeholder:"物理地址"},model:{value:e.from.address,callback:function(t){e.$set(e.from,"address",t)},expression:"from.address"}})],1),a("el-form-item",{attrs:{label:"协议类型"}},[a("el-select",{attrs:{placeholder:"协议类型"},model:{value:e.from.protocol,callback:function(t){e.$set(e.from,"protocol",t)},expression:"from.protocol"}},e._l(e.protocolType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"中继类型"}},[a("el-select",{attrs:{placeholder:"中继类型"},model:{value:e.from.relay,callback:function(t){e.$set(e.from,"relay",t)},expression:"from.relay"}},e._l(e.relayType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"录音支持"}},[a("el-select",{model:{value:e.from.recording,callback:function(t){e.$set(e.from,"recording",t)},expression:"from.recording"}},e._l(e.recording,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"网管状态"}},[a("el-select",{model:{value:e.from.networkStat,callback:function(t){e.$set(e.from,"networkStat",t)},expression:"from.networkStat"}},e._l(e.networkStat,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item")],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加网管")}}},[e._v("添加网管 ")])],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.addFrom,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"网管名称","label-width":e.formLabelWidth,prop:"gatewayName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.gatewayName,callback:function(t){e.$set(e.addFrom,"gatewayName",t)},expression:"addFrom.gatewayName"}})],1),a("el-form-item",{attrs:{prop:"accountUser",label:"计费账号","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addFrom.accountUser,callback:function(t){e.$set(e.addFrom,"accountUser",t)},expression:"addFrom.accountUser"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"域地址","label-width":e.formLabelWidth,prop:"realm"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.realm,callback:function(t){e.$set(e.addFrom,"realm",t)},expression:"addFrom.realm"}})],1),a("el-form-item",{attrs:{label:"代理地址","label-width":e.formLabelWidth,prop:"proxyIp"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.proxyIp,callback:function(t){e.$set(e.addFrom,"proxyIp",t)},expression:"addFrom.proxyIp"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"支持编码","label-width":e.formLabelWidth,prop:"codecs"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.codecs,callback:function(t){e.$set(e.addFrom,"codecs",t)},expression:"addFrom.codecs"}})],1),a("el-form-item",{attrs:{label:"dtmfMode","label-width":e.formLabelWidth,prop:"dtmfMode"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.dtmfMode,callback:function(t){e.$set(e.addFrom,"dtmfMode",t)},expression:"addFrom.dtmfMode"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"超时时长","label-width":e.formLabelWidth,prop:"expires"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.expires,callback:function(t){e.$set(e.addFrom,"expires",t)},expression:"addFrom.expires"}})],1),a("el-form-item",{attrs:{label:"中继IP","label-width":e.formLabelWidth,prop:"gatewayIp"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.gatewayIp,callback:function(t){e.$set(e.addFrom,"gatewayIp",t)},expression:"addFrom.gatewayIp"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继端口","label-width":e.formLabelWidth,prop:"gatewayPort"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.gatewayPort,callback:function(t){e.$set(e.addFrom,"gatewayPort",t)},expression:"addFrom.gatewayPort"}})],1),a("el-form-item",{attrs:{label:"profileId","label-width":e.formLabelWidth,prop:"profileId"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.profileId,callback:function(t){e.$set(e.addFrom,"profileId",t)},expression:"addFrom.profileId"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继类型","label-width":e.formLabelWidth,prop:"gatewayType"}},[a("el-select",{attrs:{placeholder:"中继类型"},model:{value:e.addFrom.gatewayType,callback:function(t){e.$set(e.addFrom,"gatewayType",t)},expression:"addFrom.gatewayType"}},e._l(e.relayType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"最大并发数","label-width":e.formLabelWidth,prop:"maxCall"}},[a("el-input",{model:{value:e.addFrom.maxCall,callback:function(t){e.$set(e.addFrom,"maxCall",t)},expression:"addFrom.maxCall"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"注册用户","label-width":e.formLabelWidth,prop:"username"}},[a("el-input",{model:{value:e.addFrom.username,callback:function(t){e.$set(e.addFrom,"username",t)},expression:"addFrom.username"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{model:{value:e.addFrom.password,callback:function(t){e.$set(e.addFrom,"password",t)},expression:"addFrom.password"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"是否注册","label-width":e.formLabelWidth,prop:"register"}},[a("el-radio-group",{model:{value:e.addFrom.register,callback:function(t){e.$set(e.addFrom,"register",t)},expression:"addFrom.register"}},[a("el-radio",{attrs:{label:0}},[e._v("不注册")]),a("el-radio",{attrs:{label:1}},[e._v("注册")])],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addFrom")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"序号",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"gatewayName",label:"网管名称"}}),a("el-table-column",{attrs:{align:"center",prop:"accountUser",label:"计费账号"}}),a("el-table-column",{attrs:{align:"center",prop:"realm",label:"域地址"}}),a("el-table-column",{attrs:{align:"center",prop:"proxyIp",label:"代理地址"}}),a("el-table-column",{attrs:{align:"center",prop:"codecs",label:"支持编码"}}),a("el-table-column",{attrs:{align:"center",prop:"dtmfMode",label:"dtmfMode"}}),a("el-table-column",{attrs:{align:"center",prop:"expires",label:"超时时长"}}),a("el-table-column",{attrs:{align:"center",prop:"gatewayIp",label:"中继IP"}}),a("el-table-column",{attrs:{align:"center",prop:"gatewayPort",label:"中继端口"}}),a("el-table-column",{attrs:{align:"center",prop:"profileId",label:"profileId"}}),a("el-table-column",{attrs:{align:"center",prop:"gatewayType",label:"中继类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.gatewayType?a("a",[e._v("入中继")]):1===t.row.gatewayType?a("a",[e._v("出中继")]):2===t.row.gatewayType?a("a",[e._v("双向中继")]):a("a",[e._v("未知")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"maxCall",label:"最大并发数"}}),a("el-table-column",{attrs:{align:"center",prop:"username",label:"注册用户"}}),a("el-table-column",{attrs:{align:"register",prop:"username",label:"是否注册"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.register?a("div",[e._v(" 注册")]):a("div",[e._v(" 不注册")])]}}])}),a("el-table-column",{attrs:{prop:"recording",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除 ")])],1)]}}])})],1)],1)},zt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("p",[e._v("网关管理")])])}];function Jt(e){return k({url:"/pbx/gateway/list",data:e})}function Bt(e){return k({url:"/pbx/gateway/add",data:e,method:"post"})}function Ut(e){return k({url:"/pbx/gateway/delete/"+e,data:e,method:"delete"})}function Ht(e){return console.log(e),k({url:"/pbx/gateway/update",data:e,method:"put"})}function Yt(e){return k({url:"/pbx/gwgroup/list",data:e,method:"get"})}function Qt(e){return console.log(e),k({url:"/pbx/gwgroup/add",data:e,method:"post"})}function Kt(e){return k({url:"/pbx/gwgroup/delete/"+e,data:e,method:"delete"})}function Xt(e){return k({url:"/pbx/diaplan/list",params:e})}function ea(e){return k({url:"/pbx/diaplan/add",method:"post",data:e})}function ta(e){return k({url:"/pbx/rate/group/list",params:e})}function aa(e){return console.log(e),k({url:"/pbx/rate/group/add",data:e,method:"post"})}function la(e){return k({url:"/pbx/rate/group/item/add",method:"post",data:e})}function ra(e){return k({url:"/pbx/rate/group/item/list",method:"get",params:e})}var oa={name:"networkManagement",data(){return{dialogFormVisible:!1,formLabelWidth:"120px",title:"添加网管",from:{user:"",address:"",protocol:"",relay:"",recording:"",networkStat:"",pageNum:1,pageSize:10},list:[],addFrom:{accountUser:"",codecs:"",dtmfMode:"",expires:"",gatewayIp:"",gatewayName:"",gatewayPort:"",gatewayType:"",maxCall:"",password:"",profileId:"",proxyIp:"",realm:"",register:1,username:""},protocolType:[{label:"SIP",value:"SIP"},{label:"H.323",value:"H.323"}],relayType:[{label:"入中继",value:"0"},{label:"出中继",value:"1"},{label:"双向中继",value:"2"}],networkStat:[{label:"开启",value:"开启"},{label:"关闭",value:"关闭"}],recording:[{label:"开启",value:"开启"},{label:"关闭",value:"关闭"}],rules:{accountUser:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],codecs:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],dtmfMode:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],expires:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayIp:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayName:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayPort:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],gatewayType:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],maxCall:[{required:!1,message:"该选项为必填项， 请确认",trigger:"blur"}],password:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],profileId:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],proxyIp:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],realm:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],register:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}],username:[{required:!0,message:"该选项为必填项， 请确认",trigger:"blur"}]}}},methods:{getPbxAll(e){Jt(e).then((e=>{this.list=e.data.data.records})).catch((e=>{this.$message.error(e)}))},submitForm(){this.$refs["formName"].validate((e=>{if(!e)return console.log("error submit!!"),!1;"添加网管"===this.title?Bt(this.addFrom).then((e=>{console.log(e),200===e.data.code?(this.$message.success("添加完成"),this.getPbxAll(this.from),this.dialogFormVisible=!1):this.$message.error(e.data.msg)})):(console.log(this.addFrom),Ht(this.addFrom).then((e=>{200===e.data.code?(this.$message.success("添加完成"),this.getPbxAll(this.from),this.dialogFormVisible=!1):this.$message.error(e.data.msg)})))}))},resetForm(e){this.$refs["formName"].resetFields()},showAddForm(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addFrom=e:"查看"===t&&(this.addForm=e,this.isReadOnly=!0)},tableRowClassName({row:e,rowIndex:t}){e.index=t},removeIt(e){console.log(e),Ut(e.id).then((e=>{console.log(e),200===e.data.code?(this.$message.success("删除完成"),this.getPbxAll(this.form)):this.$message.error(e.data.msg)})).catch((e=>{this.$message.error(e)}))}},created(){this.getPbxAll(this.form)},watch:{dialogFormVisible(e){!1===e&&(console.log("--------"),this.resetForm())}}},sa=oa,ia=(0,n.Z)(sa,jt,zt,!1,null,"9850d910",null),na=ia.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"trunk"}},[e._m(0),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.from}},[a("el-form-item",{attrs:{label:"中继名称"}},[a("el-input",{attrs:{placeholder:"审网管名称批人"},model:{value:e.from.user,callback:function(t){e.$set(e.from,"user",t)},expression:"from.user"}})],1),a("el-form-item",{attrs:{label:"策略类型"}},[a("el-select",{attrs:{placeholder:"协议类型"},model:{value:e.from.protocol,callback:function(t){e.$set(e.from,"protocol",t)},expression:"from.protocol"}},e._l(e.policyType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"重试策略"}},[a("el-select",{attrs:{placeholder:"中继类型"},model:{value:e.from.relay,callback:function(t){e.$set(e.from,"relay",t)},expression:"from.relay"}},e._l(e.retryStrategyType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item")],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加中继组")}}},[e._v("添加中继组 ")])],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addFrom,rules:e.rules}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继组名称","label-width":e.formLabelWidth,prop:"groupName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addFrom.groupName,callback:function(t){e.$set(e.addFrom,"groupName",t)},expression:"addFrom.groupName"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"重试策略","label-width":e.formLabelWidth,prop:"strategyRetry"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addFrom.strategyRetry,callback:function(t){e.$set(e.addFrom,"strategyRetry",t)},expression:"addFrom.strategyRetry"}},e._l(e.retryStrategyType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"策略类型","label-width":e.formLabelWidth,prop:"strategyType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addFrom.strategyType,callback:function(t){e.$set(e.addFrom,"strategyType",t)},expression:"addFrom.strategyType"}},e._l(e.policyType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"中继数组","label-width":e.formLabelWidth}},[a("ul",e._l(e.tableData,(function(t,l){return a("li",[a("el-select",{model:{value:e.tableData[l].gatewayId,callback:function(t){e.$set(e.tableData[l],"gatewayId",t)},expression:"tableData[i].gatewayId"}},e._l(e.pbxList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.gatewayName,placeholder:"请选择网关",value:e.id}})})),1),a("el-input",{staticClass:"li-input",attrs:{placeholder:"请输入内容"},model:{value:e.tableData[l].weight,callback:function(t){e.$set(e.tableData[l],"weight",t)},expression:"tableData[i].weight"}})],1)})),0)]),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addFrom.remark,callback:function(t){e.$set(e.addFrom,"remark",t)},expression:"addFrom.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"80%"},attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{align:"center",prop:"index",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"中继名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.groupName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"pbxGwgroupGatewayList",label:"策略类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.strategyType?a("span",[e._v("无响应重试")]):a("span",[e._v("强制重试")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"pbxGwgroupGatewayList",label:"重试策略"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.strategyRetry?a("span",[e._v("无响应重试")]):a("span",[e._v("强制重试")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"retryStrategy",label:"关联网关",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.pbxGatewayList,(function(l,r){return a("div",{staticClass:"table"},[a("p",[a("span",[e._v(e._s(t.row.pbxGatewayList[r].gatewayName))]),e._v(" --"),a("span",[e._v(e._s(t.row.pbxGwgroupGatewayList[r].createTime))])])])}))}}])}),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.remark||"暂无备注")+" ")]}}])})],1)],1)},ma=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("p",[e._v("中继组")])])}],ca={name:"trunkGroup",data(){return{from:{},title:"添加中继组",dialogFormVisible:!1,pbxList:[],addFrom:{groupName:"",strategyRetry:"",strategyType:"",pbxGwgroupGatewayList:"",totalWeight:0,pageNum:1,pageSize:10},list:[],startTime:"",formLabelWidth:"120px",policyType:[{label:"循环呼叫",value:0},{label:"随机呼叫",value:1}],retryStrategyType:[{label:"无响应重试",value:0},{label:"强制重试",value:1}],rules:{groupName:[{required:!0,message:"请输入中继组名称",trigger:"blur"}],strategyRetry:[{required:!0,message:"请输入超时时间",trigger:"blur"}],strategyType:[{required:!0,message:"请选择策略类型",trigger:"blur"}],retryStrategy:[{required:!0,message:"请输入重试策略",trigger:"blur"}],startTime:[{required:!0,message:"请选择工作时间",trigger:"blur"}]},value:"",tableData:[{gatewayId:"",weight:""},{gatewayId:"",weight:""}]}},methods:{getGwgroup(e){Yt(e).then((e=>{this.list=e.data.data.records})).catch((e=>{this.$message.error(e)}))},tableRowClassName({row:e,rowIndex:t}){e.index=t},showAddForm(e,t){this.dialogFormVisible=!0,this.title=t,this.addFrom="编辑"===t?e:{groupName:"",strategyRetry:"",strategyType:"",pbxGwgroupGatewayList:"",totalWeight:"",pageNum:1,pageSize:10}},submitForm(){this.$refs["addForm"].validate((e=>{if(!e)return this.$message.error("提交失败， 请重试"),!1;{const e=[];this.tableData.forEach((t=>{0!==t.gatewayId.length&&0!==t.weight?(e.push(parseInt(t.weight)),this.dialogFormVisible=!1):this.$message.error("请确保中继数组内已填写")}));let t=0;e.forEach(((e,a)=>{t+=parseInt(e),this.addFrom.totalWeight=t})),console.log(this.addFrom.totalWeight),0!==this.addFrom.totalWeight.length&&Qt(this.addFrom).then((e=>{200===e.data.code?(this.$message.success("提交完成"),this.getGwgroup(this.form)):this.$message.error(e.data.msg)})).catch((e=>{this.$message.error(e)}))}}))},resetForm(){this.$refs["addForm"].resetFields()},removeIt(e){Kt(e.id).then((t=>{console.log(e),console.log(t),200===t.data.code?(this.$message.success("提交完成"),this.getGwgroup(this.from)):this.$message.error(t.data.msg)})).catch((e=>{this.$message.error(e)}))}},created(){this.getGwgroup(this.form)},watch:{dialogFormVisible(e){e&&(console.log(e),Jt().then((e=>{this.pbxList=e.data.data.records})))},tableData:{handler:function(e){this.addFrom.pbxGwgroupGatewayList=e},deep:!0},totalWeight(e){e.length}}},ua=ca,pa=(0,n.Z)(ua,da,ma,!1,null,"c7877e6c",null),ba=pa.exports,fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dialPlan"}},[a("p",[e._v(e._s(this.$route.meta.title))]),a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"方案名称"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"呼出前缀"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.prefix,callback:function(t){e.$set(e.form,"prefix",t)},expression:"form.prefix"}})],1),a("el-form-item",{attrs:{label:"活动区域"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:e.form.trunk,callback:function(t){e.$set(e.form,"trunk",t)},expression:"form.trunk"}},e._l(e.trunkGroup,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"方案状态"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:e.form.program,callback:function(t){e.$set(e.form,"program",t)},expression:"form.program"}},e._l(e.programStatus,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:e.clearSubmit}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加方案")}}},[e._v("添加 ")])],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"方案名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"中继组","label-width":"100px",prop:"prefix"}},[a("el-select",{model:{value:e.addForm.diaplanPrefix,callback:function(t){e.$set(e.addForm,"diaplanPrefix",t)},expression:"addForm.diaplanPrefix"}},e._l(e.trunkGroup,(function(e){return a("el-option",{attrs:{label:e.groupName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.addForm.stauts,callback:function(t){e.$set(e.addForm,"stauts",t)},expression:"addForm.stauts"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),a("el-radio",{attrs:{label:2}},[e._v("停用")])],1)],1)],1),a("el-form-item",{attrs:{label:"呼出前缀","label-width":e.formLabelWidth,prop:"prefix"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.prefix,callback:function(t){e.$set(e.addForm,"prefix",t)},expression:"addForm.prefix"}})],1),a("el-form-item",{attrs:{label:"并发数","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.concurrency,callback:function(t){e.$set(e.addForm,"concurrency",t)},expression:"addForm.concurrency"}})],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formName")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"diaplanName",label:"方案名称",width:"180"}}),a("el-table-column",{attrs:{prop:"trunk",label:"中继组",width:"180"}}),a("el-table-column",{attrs:{prop:"diaplanPrefix",label:"呼出前缀",width:"180"}}),a("el-table-column",{attrs:{prop:"stauts",label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.stauts?a("el-tag",{attrs:{type:"success"}},[e._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[e._v("停用")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"stauts",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"}},[e._v("应用到")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"}},[e._v("删除")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"}},[e._v("添加规则")])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"180"}})],1)],1)},ha=[],ga={name:"dialPlan",data(){return{dialogFormVisible:!1,formLabelWidth:"120px",form:{pageNum:1,pageSize:10,diaplanGatewayGroup:"",diaplanName:"",diaplanPrefix:""},title:"",list:[],addForm:{diaplanGatewayGroup:"",diaplanName:"",diaplanPrefix:""},trunkGroup:[],programStatus:[{label:"启用",value:"启用"},{label:"停用",value:"停用"}],rules:{diaplanGatewayGroup:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],diaplanName:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}],diaplanPrefix:[{required:!0,message:"此项为必填项， 请确认",trigger:"blur"}]}}},methods:{getDaiPlan(e){Xt(e).then((e=>{console.log(e),this.list=e.data.data.records})).catch((e=>{console.log(e)}))},onSubmit(){},clearSubmit(){},showAddForm(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?this.addForm=e:"查看"===t&&(this.addForm=e,this.isReadOnly=!0)},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message({message:"提交失败， 请重试",type:"error"}),!1;ea(this.addForm).then((e=>{console.log(e)})).catch((e=>{console.log(e)})),this.$message({message:"提交完成",type:"success"})}))}},created(){this.getDaiPlan(this.form)},watch:{dialogFormVisible(e){!0===e&&(Yt(this.form),Yt(this.form).then((e=>{this.trunkGroup=e.data.data.records})).catch((e=>{this.$message.error(e)})))}}},va=ga,ya=(0,n.Z)(va,fa,ha,!1,null,"85883382",null),Fa=ya.exports,wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"rate"}},[e.toggle?a("div",{staticClass:"rate-true"},[a("p",[e._v(e._s(this.$route.meta.title))]),a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"审批人"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:e.clearSubmit}},[e._v("查询")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"编辑")}}},[e._v("添加费率组 ")])],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules}},[a("el-form-item",{attrs:{label:"活动名称","label-width":e.formLabelWidth,prop:"groupName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.groupName,callback:function(t){e.$set(e.addForm,"groupName",t)},expression:"addForm.groupName"}})],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"50%"},attrs:{data:e.list,stripe:"",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"费率组名称",width:"180"}}),a("el-table-column",{attrs:{align:"center",prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.removeIt(t.row)}}},[e._v("删除 ")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(a){return e.isToggle(t.row)}}},[e._v("查看费率组列表 ")])]}}],null,!1,2963002940)}),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}})],1)],1):a("div",{staticClass:"rate-list"},[a("p",[e._v("费率组列表")]),a("div",{staticClass:"container"},[a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.listFrom}},[a("el-form-item",{attrs:{label:"号码前缀"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.listFrom.numberPrefix,callback:function(t){e.$set(e.listFrom,"numberPrefix",t)},expression:"listFrom.numberPrefix"}})],1),a("el-form-item",{attrs:{label:"费率名称"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.listFrom.billingName,callback:function(t){e.$set(e.listFrom,"billingName",t)},expression:"listFrom.billingName"}})],1),a("el-form-item",{attrs:{label:"地区类型"}},[a("el-select",{model:{value:e.listFrom.region,callback:function(t){e.$set(e.listFrom,"region",t)},expression:"listFrom.region"}},e._l(e.region,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:e.clearSubmit}},[e._v("重置")])],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmits}},[e._v("添加费率")]),a("el-button",{attrs:{type:"primary"},on:{click:e.black}},[e._v("返回")])],1)],1)]),a("el-dialog",{attrs:{listTitle:e.listTitle,visible:e.listDialogFormVisible},on:{"update:visible":function(t){e.listDialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.addListFrom,rules:e.addRules}},[a("el-form-item",{attrs:{label:"费率名称","label-width":e.formLabelWidth,prop:"rateName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addListFrom.rateName,callback:function(t){e.$set(e.addListFrom,"rateName",t)},expression:"addListFrom.rateName"}})],1),a("el-form-item",{attrs:{label:"费率组","label-width":e.formLabelWidth,name:"rateGroup",required:""}},[a("el-select",{model:{value:e.addListFrom.rateGroupId,callback:function(t){e.$set(e.addListFrom,"rateGroupId",t)},expression:"addListFrom.rateGroupId"}},e._l(e.list,(function(e){return a("el-option",{attrs:{label:e.groupName,value:e.id}})})),1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"费率前缀","label-width":e.formLabelWidth,prop:"ratePrefix"}},[a("el-input",{staticClass:"input",attrs:{autocomplete:"off"},model:{value:e.addListFrom.ratePrefix,callback:function(t){e.$set(e.addListFrom,"ratePrefix",t)},expression:"addListFrom.ratePrefix"}})],1)],1),a("el-form-item",{attrs:{label:"计费方式","label-width":e.formLabelWidth,required:""}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{prop:"rate"}},[a("el-input",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"请输入费率"},model:{value:e.addListFrom.rate,callback:function(t){e.$set(e.addListFrom,"rate",t)},expression:"addListFrom.rate"}})],1),a("el-form-item",{staticStyle:{"margin-left":"20px"},attrs:{prop:"billingPeriod"}},[a("el-input",{attrs:{placeholder:"请输入计费单位"},model:{value:e.addListFrom.billingPeriod,callback:function(t){e.$set(e.addListFrom,"billingPeriod",t)},expression:"addListFrom.billingPeriod"}})],1)],1)])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.listDialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForms("formName")}}},[e._v("确 定 ")])],1)],1),a("el-table",{staticStyle:{width:"50%"},attrs:{data:e.rateItemList,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),a("el-table-column",{attrs:{align:"center",prop:"groupName",label:"费率名称"}}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"area",label:"操作"}},[a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(e){}}},[e._v("编辑")]),a("el-link",{staticClass:"a-link",attrs:{type:"info"},on:{click:function(e){}}},[e._v("删除")])],1)],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:1e3}})],1),a("el-empty",[a("el-button",{attrs:{type:"primary"}},[e._v("按钮")])],1)],1)},ka=[],_a={name:"rate",data(){return{title:"添加费率组",form:{},addForm:{groupName:""},list:[],rateItemList:[],dialogFormVisible:!1,formLabelWidth:"120px",toggle:!1,addList:[],listFrom:{numberPrefix:"",billingName:""},listTitle:"添加费率",listDialogFormVisible:!1,addListFrom:{rateName:"",billingPeriod:"",rateGroupId:"",ratePrefix:"",rate:""},region:[{label:"分机",value:"分机"},{label:"国外",value:"国外"},{label:"国内",value:"国内"}],addRules:{rateName:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}],ratePrefix:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}],rate:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}],billingPeriod:[{required:!0,message:"该选项为必填项，请曲确认",trigger:"blur"}]},billingData:[{},{unit:"30",cost:"0.05",count:1,priority:2},{unit:"60",cost:"0.08",count:100,priority:3}]}},methods:{onSubmit(){},black(){this.toggle=!0},clearSubmit(){this.listFrom={}},getRateList(e){ta(e).then((e=>{this.list=e.data.data.records})).catch((e=>{this.$message.error(e)}))},getRateItemList(e){ra(e).then((e=>{console.log(e),200===e.data.code?this.rateItemList=e.data.data.records:console.log(e)})).catch((e=>{this.$message.error(e)}))},onSubmits(){this.listDialogFormVisible=!0},isToggle(e){this.toggle=!1,this.getRateItemList(e.id)},submitForm(){this.$refs.addForm.validate((e=>{e&&(aa(this.addForm).then((e=>{console.log(e)})),this.list.push(this.addForm),this.dialogFormVisible=!1)}))},submitForms(e){this.$refs.formName.validate((e=>{if(!e)return this.$message({message:"提交失败， 请重试",type:"error"}),!1;la(this.addListFrom).then((e=>{console.log(e),200===e.data.code?this.$message.success("添加完成"):this.$message.error(e.data.msg())})).catch((e=>{console.log(e),this.$message.error(e)}))}))},handleCurrentChange(e){this.addListFrom.billingMethod=e},showAddForm(e,t){this.title=t,this.dialogFormVisible=!0},removeIt(e){this.list.map(((t,a)=>{e===t&&this.list.splice(a,1)}))}},computed:{createId(){return this.addForm.id=(1e6*Math.random()).toFixed(0)}},created(){this.getRateList(this.form),this.getRateItemList(this.form)}},xa=_a,$a=(0,n.Z)(xa,wa,ka,!1,null,"5ececef9",null),Ca=$a.exports,Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},Ia=[],Na={name:"call"},La=Na,Ta=(0,n.Z)(La,Sa,Ia,!1,null,"809a4b7a",null),Pa=Ta.exports,Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},qa=[],Va={name:"converse"},Da=Va,Aa=(0,n.Z)(Da,Wa,qa,!1,null,"8e27e866",null),Ma=Aa.exports,Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[a("p",[e._v(e._s(e.$route.meta.title))]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"虚拟接待名称"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"活动区域"}},[a("el-select",{attrs:{placeholder:"类型"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},e._l(e.type,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")]),a("el-button",{on:{click:function(e){}}},[e._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("添加虚拟接待")]),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addFrom",attrs:{model:e.form,rules:"rules"}},[a("el-form-item",{attrs:{label:"虚拟接待名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"虚拟接待类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.type,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"拥有者","label-width":e.formLabelWidth,prop:"owner"}},[a("el-input",{model:{value:e.addForm.owner,callback:function(t){e.$set(e.addForm,"owner",t)},expression:"addForm.owner"}})],1)],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"欢迎语录音","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1),a("el-form-item",{attrs:{label:"提示音","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1)],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("h4",[e._v("按键设置")]),a("div",{staticClass:"width"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(10,(function(e){return a("el-option",{key:e.value,attrs:{label:e,value:e}})})),1),a("el-input",{model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)])])},Ra=[],Ea={name:"ivr",data(){return{title:"添加虚拟接待",dialogFormVisible:!0,formLabelWidth:"120px",form:{},addForm:{name:"",type:"",owner:"",startRecording:"",hint:"",remark:""},value:"",num:"",type:[{label:"单个用户",value:"单个用户"},{label:"所有用户",value:"所有用户"}],rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择活动区域",trigger:"change"}],owner:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]}}}},Ga=Ea,Za=(0,n.Z)(Ga,Oa,Ra,!1,null,"8357bd08",null),ja=Za.exports,za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"calls"}},[a("div",{staticClass:"container"},[a("p",[e._v(e._s(e.$route.meta.title))])]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"关联号码"}},[a("el-input",{model:{value:e.form.associatedNumber,callback:function(t){e.$set(e.form,"associatedNumber",t)},expression:"form.associatedNumber"}})],1),a("el-form-item",{attrs:{label:"转移类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.transferType,callback:function(t){e.$set(e.form,"transferType",t)},expression:"form.transferType"}},e._l(e.transferType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"转移参数"}},[a("el-input",{model:{value:e.form.transferParameter,callback:function(t){e.$set(e.form,"transferParameter",t)},expression:"form.transferParameter"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("查询")]),a("el-button",{on:{click:function(e){}}},[e._v("重置")])],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddForm(null,"添加呼叫转移")}}},[e._v("添加呼叫转移")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"关联号码","label-width":e.formLabelWidth,prop:"associatedNumber"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.associatedNumber,callback:function(t){e.$set(e.addForm,"associatedNumber",t)},expression:"addForm.associatedNumber"}})],1),a("div",{staticClass:"width"},[a("el-form-item",{attrs:{label:"转移类型","label-width":e.formLabelWidth,prop:"transferType"}},[a("el-select",{model:{value:e.addForm.transferType,callback:function(t){e.$set(e.addForm,"transferType",t)},expression:"addForm.transferType"}},e._l(e.transferType,(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"转接参数","label-width":e.formLabelWidth,prop:"transferParameter"}},[a("el-select",{model:{value:e.addForm.transferParameter,callback:function(t){e.$set(e.addForm,"transferParameter",t)},expression:"addForm.transferParameter"}},e._l(10,(function(e){return a("el-option",{attrs:{label:e,value:e}})})),1)],1)],1),a("el-form-item",{attrs:{label:"有效周期","label-width":e.formLabelWidth,prop:"cycle"}},[a("el-checkbox-group",{model:{value:e.addForm.cycle,callback:function(t){e.$set(e.addForm,"cycle",t)},expression:"addForm.cycle"}},e._l(e.cycle,(function(t){return a("el-checkbox-button",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{attrs:{label:"有效时间","label-width":e.formLabelWidth,required:""}},[a("div",{staticClass:"width"},[a("el-form-item",{attrs:{prop:"startTime"}},[a("el-time-select",{attrs:{prop:"startTime",placeholder:"起始时间","picker-options":{start:"08:30",step:"00:15",end:"18:30"}},model:{value:e.addForm.startTime,callback:function(t){e.$set(e.addForm,"startTime",t)},expression:"addForm.startTime"}})],1),a("el-form-item",{attrs:{prop:"startTime"}},[a("el-time-select",{staticStyle:{"margin-left":"30px"},attrs:{placeholder:"结束时间","picker-options":{start:"08:30",step:"00:15",end:"18:30",minTime:e.addForm.startTime}},model:{value:e.addForm.endTime,callback:function(t){e.$set(e.addForm,"endTime",t)},expression:"addForm.endTime"}})],1)],1)]),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addFrom")}}},[e._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index))]}}])}),a("el-table-column",{attrs:{prop:"associatedNumber",label:"关联号码",width:"180"}}),a("el-table-column",{attrs:{prop:"transferType",label:"转移类型",width:"180"}}),a("el-table-column",{attrs:{prop:"transferParameter",label:"转移参数",width:"180"}}),a("el-table-column",{attrs:{prop:"cycle",label:"有效期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex"}},e._l(t.row.cycle,(function(t){return a("p",{staticStyle:{"margin-right":"10px"}},[e._v(" "+e._s(t)+" ")])})),0)]}}])}),a("el-table-column",{attrs:{prop:"name",label:"有效时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.startTime)+" -- "+e._s(t.row.endTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"},on:{click:function(a){return e.showAddForm(t.row,"编辑")}}},[e._v("编辑")]),a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"info"}},[e._v("删除")])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"180"}})],1)],1)},Ja=[],Ba={name:"calls",data(){return{title:"添加呼叫转移",formLabelWidth:"120px",dialogFormVisible:!0,form:{associatedNumber:"",transferType:"",transferParameter:""},list:[],transferType:[{label:"IVR",value:"IVR"},{label:"外网号码",value:"外网号码"},{label:"内网号码",value:"内网号码"},{label:"振玲组",value:"振玲组"}],addForm:{associatedNumber:"",transferType:"",transferParameter:"",cycle:["周一"],startTime:"",endTime:"",remark:""},cycle:["周一","周二","周三","周四","周五","周六","周日"],rules:{associatedNumber:[{required:!0,message:"请输入关联号码",trigger:"blur"}],transferType:[{required:!0,message:"请转移类型",trigger:"blur"}],transferParameter:[{required:!0,message:"请输入转移参数",trigger:"blur"}],cycle:[{required:!0,message:"请选择有效周期",trigger:"blur"}],startTime:[{required:!0,message:"请选择执行时间",trigger:"blur"}],remark:[{required:!1,message:"请输入活动名称",trigger:"blur"}]}}},methods:{showAddForm(e,t){this.dialogFormVisible=!0,this.title=t,"编辑"===t?(this.addForm=e,console.log(e)):"查看"===t?(this.addForm=e,this.isReadOnly=!0):this.resetForm("addForm")},submitForm(){this.$refs["addForm"].validate((e=>{if(!e)return this.$message.error("提交失败， 请重试"),!1;this.$message({message:"提交完成",type:"success"}),console.log(this.addForm),this.list.push(this.addForm),window.localStorage.setItem("calls",JSON.stringify(this.list)),this.dialogFormVisible=!1}))},resetForm(){this.$refs["addForm"].resetFields()},tableRowClassName({row:e,rowIndex:t}){e.index=t},removeIt(e){this.list.map(((t,a)=>{e===t&&this.list.splice(a,1)}))}},created(){this.list=JSON.parse(window.localStorage.getItem("calls"))||[]}},Ua=Ba,Ha=(0,n.Z)(Ua,za,Ja,!1,null,"11b53872",null),Ya=Ha.exports,Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"history"}},[a("div",{staticClass:"container"},[a("p",[e._v(e._s(e.$route.meta.title))])]),a("div",{staticClass:"nav-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"计费账户"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"被叫号码"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone",t)},expression:"form.mobilePhone"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.startingTime,callback:function(t){e.$set(e.form,"startingTime",t)},expression:"form.startingTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index))]}}])}),a("el-table-column",{attrs:{prop:"name",label:"计费账户",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"被叫号码",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"计费账户",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"呼出时间",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"应答时间",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"呼出时长",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"计费时长",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"挂机原因",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"网管",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"外呼前缀"}}),a("el-table-column",{attrs:{prop:"name",label:"录音"}}),a("el-table-column",{attrs:{prop:"name",label:"计费状态"}}),a("el-table-column",{attrs:{prop:"name",label:"费用"}})],1)],1)},Ka=[],Xa={name:"history",data(){return{form:{mobilePhone:"",startingTime:"",endTime:""},tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}}},el=Xa,tl=(0,n.Z)(el,Qa,Ka,!1,null,"16289552",null),al=tl.exports,ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"intercept"}},[a("div",{staticClass:"container"},[a("p",[e._v(e._s(e.$route.meta.title))])])])},rl=[],ol={name:"intercept"},sl=ol,il=(0,n.Z)(sl,ll,rl,!1,null,"a509c66e",null),nl=il.exports,dl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user"}},[a("div",{staticClass:"login-info"},[a("div",{staticClass:"width"},[a("div",{staticStyle:{height:"300px",color:"white"}},[a("el-steps",{attrs:{direction:"vertical",active:e.index,"align-center":!0}},[a("el-step",{attrs:{title:"开始"}}),a("el-step",{attrs:{title:"填写账号"}}),a("el-step",{attrs:{title:"输入密码"}},[e._v(">")]),a("el-step",{attrs:{title:"提交"}},[e._v(">")])],1)],1)])]),a("div",{staticClass:"login-other"},[a("h2",[e._v("欢迎使用调度管理系统！")]),a("el-form",{ref:"form",staticClass:"el-from",attrs:{"label-width":"120"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{on:{focus:function(t){return e.focus(2)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},on:{focus:function(t){return e.focus(3)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")])],1)],1)],1)])},ml=[],cl={name:"login",data(){return{isErr:!1,settingShow:!1,username:"admin",password:"123456",isClearNumShow:!1,isPadShow:!1,index:0}},methods:{loginInput(e){"text"===e?0!==this.form.number.length?this.form.isClearNumShow=!0:this.isClearNumShow=!1:(this.$refs.psd.type="password",0!==this.form.pad.length?this.form.isPadShow=!0:this.isPadShow=!1)},clear(e){"text"===e?(this.form.number="",this.form.isClearNumShow=!1):(this.form.pad="",this.form.isPadShow=!1)},settingShows(){this.settingShow=!this.settingShow},onSubmit(){this.index=4,x(this.username,this.password).then((e=>{this.$store.dispatch("userInfo",e.data.data.user),console.log(this.$store.state.userInfo),w(e.data.data.JSESSIONID),this.$router.push({path:"/home"})})).catch((e=>{this.$message.error(e)}))},isShow(){this.isErr=!this.isErr},focus(e){this.index=e}}},ul=cl,pl=(0,n.Z)(ul,dl,ml,!1,null,null,null),bl=pl.exports,fl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tree",{attrs:{data:e.pathRes,props:e.defaultProps,accordion:""},on:{"node-click":e.handleNodeClick}})},hl=[],gl={name:"menu-path",data(){return{form:{},path:[],defaultProps:{children:"children",label:"menuName"}}},created(){this.getMenuAll(this.form)},methods:{getMenuAll(e){ie(e).then((e=>{this.path=e.data.data})).catch((e=>{console.log(e),this.$message.error(e)}))}},computed:{pathRes(){return ue(this.path)}}},vl=gl,yl=(0,n.Z)(vl,fl,hl,!1,null,"e18da950",null),Fl=yl.exports;l["default"].use(c.Z);const wl=[{path:"/",redirect:"home"},{path:"/home",component:N,redirect:"layout",children:[{path:"/layout",name:"layout",component:V,redirect:{path:"/layout/serveStarts"},meta:{title:"系统配置"},children:[{meta:{title:"服务器状态"},path:"/layout/serveStarts",component:Ke,name:"serveManage"},{meta:{title:"字典类型"},component:mt,path:"/layout/dataManage",name:"dataManage",children:[{meta:{title:"字典管理"},component:rt,path:"/layout/dicManage",name:"dataManage"}]},{meta:{title:"用户管理"},path:"/layout/myManage",component:he,name:"myManage"},{meta:{title:"角色管理"},path:"/layout/roleManage",component:qe,name:"roleManage"},{meta:{title:"组织管理"},path:"/layout/organizationManage",component:ke,name:"organizationManage"},{meta:{title:"菜单权限"},path:"/layout/menu",component:Fl,name:"menu"},{meta:{title:"日志"},path:"/layout/recordMange",component:Ie,name:"recordMange"}]},{path:"/converse",name:"configure",component:ht,meta:{title:"设备管理"},redirect:{path:"/converse/phoneConfig"},children:[{meta:{title:"话机管理"},path:"/configure/phoneConfig",name:"phoneConfig",component:kt},{meta:{title:"调度台"},path:"/configure/observeOnDispatcher",name:"observeOnDispatcher",component:It},{meta:{title:"摄像头"},path:"/configure/cameraView",name:"cameraView",component:At},{meta:{title:"会议终端"},path:"/configure/terminal",name:"terminal",component:Zt}]},{path:"/billing",name:"billing",component:ht,meta:{title:"落地管理"},redirect:{path:"/billing/networkManagement"},children:[{meta:{title:"网关管理"},path:"/billing/networkManagement",name:"networkManagement",component:na},{meta:{title:"中继组"},path:"/billing/trunkGroup",name:"trunkGroup",component:ba},{meta:{title:"拨号方案"},path:"/billing/dialPlan",name:"dialPlan",component:Fa},{meta:{title:"费率组"},path:"/billing/rate",name:"rate",component:Ca}]},{path:"/call",component:Pa,meta:{title:"呼叫管理"},redirect:{path:"/call/ivr"},children:[{meta:{title:"IVR管理"},path:"/call/ivr",name:"ivr",component:ja,hidden:!0},{meta:{title:"呼叫转移"},path:"/call/calls",name:"calls",component:Ya}]},{path:"/bill",component:Ma,meta:{title:"通话账单"},redirect:{path:"/bill/index"},children:[{meta:{title:"历史话单"},path:"/bill/index",name:"billIndex",component:al},{meta:{title:"拦截通话"},path:"/bill/intercept",name:"intercept",component:nl}]}]},{path:"/user",component:bl}],kl=new c.Z({mode:"history",base:"",routes:wl});kl.beforeEach(((e,t,a)=>{console.log(e),a(),"/user"!==e.path?(console.log(void 0===v.Z.get("JSESSIONID")),void 0===v.Z.get("JSESSIONID")?a("/user"):a()):a("/user")}));var _l=kl,xl=a(4549),$l=a.n(xl);l["default"].config.productionTip=!1,l["default"].prototype.$echarts=je["default"],l["default"].use($l()),new l["default"]({router:_l,store:g,render:e=>e(m)}).$mount("#app")},4654:function(){}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,r,o){if(!l){var s=1/0;for(m=0;m<e.length;m++){l=e[m][0],r=e[m][1],o=e[m][2];for(var i=!0,n=0;n<l.length;n++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[n])}))?l.splice(n--,1):(i=!1,o<s&&(s=o));if(i){e.splice(m--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[l,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,o,s=l[0],i=l[1],n=l[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(n)var m=n(a)}for(t&&t(l);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(m)},l=self["webpackChunkelectrons_admin"]=self["webpackChunkelectrons_admin"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(7958)}));l=a.O(l)})();
//# sourceMappingURL=app.b170ae61.js.map